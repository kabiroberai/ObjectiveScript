(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("babel-core"));else if(typeof define==="function"&&define.amd)define(["babel-core"],factory);else if(typeof exports==="object")exports["OBJSTranspiler"]=factory(require("babel-core"));else root["OBJSTranspiler"]=factory(root["babel-core"])})(typeof self!=="undefined"?self:this,function(__WEBPACK_EXTERNAL_MODULE_28__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=40)}([function(module,exports,__webpack_require__){(function(){"use strict";var __={"@@functional/placeholder":true};var _arity=function _arity(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){return fn.apply(this,arguments)};case 2:return function(a0,a1){return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}};var _arrayFromIterator=function _arrayFromIterator(iter){var list=[];var next;while(!(next=iter.next()).done){list.push(next.value)}return list};var _arrayOf=function _arrayOf(){return Array.prototype.slice.call(arguments)};var _cloneRegExp=function _cloneRegExp(pattern){return new RegExp(pattern.source,(pattern.global?"g":"")+(pattern.ignoreCase?"i":"")+(pattern.multiline?"m":"")+(pattern.sticky?"y":"")+(pattern.unicode?"u":""))};var _complement=function _complement(f){return function(){return!f.apply(this,arguments)}};var _concat=function _concat(set1,set2){set1=set1||[];set2=set2||[];var idx;var len1=set1.length;var len2=set2.length;var result=[];idx=0;while(idx<len1){result[result.length]=set1[idx];idx+=1}idx=0;while(idx<len2){result[result.length]=set2[idx];idx+=1}return result};var _containsWith=function _containsWith(pred,x,list){var idx=0;var len=list.length;while(idx<len){if(pred(x,list[idx])){return true}idx+=1}return false};var _filter=function _filter(fn,list){var idx=0;var len=list.length;var result=[];while(idx<len){if(fn(list[idx])){result[result.length]=list[idx]}idx+=1}return result};var _forceReduced=function _forceReduced(x){return{"@@transducer/value":x,"@@transducer/reduced":true}};var _functionName=function _functionName(f){var match=String(f).match(/^function (\w*)/);return match==null?"":match[1]};var _has=function _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)};var _identity=function _identity(x){return x};var _isArguments=function(){var toString=Object.prototype.toString;return toString.call(arguments)==="[object Arguments]"?function _isArguments(x){return toString.call(x)==="[object Arguments]"}:function _isArguments(x){return _has("callee",x)}}();var _isArray=Array.isArray||function _isArray(val){return val!=null&&val.length>=0&&Object.prototype.toString.call(val)==="[object Array]"};var _isFunction=function _isFunction(x){return Object.prototype.toString.call(x)==="[object Function]"};var _isInteger=Number.isInteger||function _isInteger(n){return n<<0===n};var _isNumber=function _isNumber(x){return Object.prototype.toString.call(x)==="[object Number]"};var _isObject=function _isObject(x){return Object.prototype.toString.call(x)==="[object Object]"};var _isPlaceholder=function _isPlaceholder(a){return a!=null&&typeof a==="object"&&a["@@functional/placeholder"]===true};var _isRegExp=function _isRegExp(x){return Object.prototype.toString.call(x)==="[object RegExp]"};var _isString=function _isString(x){return Object.prototype.toString.call(x)==="[object String]"};var _isTransformer=function _isTransformer(obj){return typeof obj["@@transducer/step"]==="function"};var _map=function _map(fn,functor){var idx=0;var len=functor.length;var result=Array(len);while(idx<len){result[idx]=fn(functor[idx]);idx+=1}return result};var _objectAssign=function _objectAssign(target){if(target==null){throw new TypeError("Cannot convert undefined or null to object")}var output=Object(target);var idx=1;var length=arguments.length;while(idx<length){var source=arguments[idx];if(source!=null){for(var nextKey in source){if(_has(nextKey,source)){output[nextKey]=source[nextKey]}}}idx+=1}return output};var _of=function _of(x){return[x]};var _pipe=function _pipe(f,g){return function(){return g.call(this,f.apply(this,arguments))}};var _pipeP=function _pipeP(f,g){return function(){var ctx=this;return f.apply(ctx,arguments).then(function(x){return g.call(ctx,x)})}};var _quote=function _quote(s){var escaped=s.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+escaped.replace(/"/g,'\\"')+'"'};var _reduced=function _reduced(x){return x&&x["@@transducer/reduced"]?x:{"@@transducer/value":x,"@@transducer/reduced":true}};var _slice=function _slice(args,from,to){switch(arguments.length){case 1:return _slice(args,0,args.length);case 2:return _slice(args,from,args.length);default:var list=[];var idx=0;var len=Math.max(0,Math.min(args.length,to)-from);while(idx<len){list[idx]=args[from+idx];idx+=1}return list}};var _toISOString=function(){var pad=function pad(n){return(n<10?"0":"")+n};return typeof Date.prototype.toISOString==="function"?function _toISOString(d){return d.toISOString()}:function _toISOString(d){return d.getUTCFullYear()+"-"+pad(d.getUTCMonth()+1)+"-"+pad(d.getUTCDate())+"T"+pad(d.getUTCHours())+":"+pad(d.getUTCMinutes())+":"+pad(d.getUTCSeconds())+"."+(d.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}();var _xfBase={init:function(){return this.xf["@@transducer/init"]()},result:function(result){return this.xf["@@transducer/result"](result)}};var _xwrap=function(){function XWrap(fn){this.f=fn}XWrap.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")};XWrap.prototype["@@transducer/result"]=function(acc){return acc};XWrap.prototype["@@transducer/step"]=function(acc,x){return this.f(acc,x)};return function _xwrap(fn){return new XWrap(fn)}}();var _aperture=function _aperture(n,list){var idx=0;var limit=list.length-(n-1);var acc=new Array(limit>=0?limit:0);while(idx<limit){acc[idx]=_slice(list,idx,idx+n);idx+=1}return acc};var _assign=typeof Object.assign==="function"?Object.assign:_objectAssign;var _checkForMethod=function _checkForMethod(methodname,fn){return function(){var length=arguments.length;if(length===0){return fn()}var obj=arguments[length-1];return _isArray(obj)||typeof obj[methodname]!=="function"?fn.apply(this,arguments):obj[methodname].apply(obj,_slice(arguments,0,length-1))}};var _curry1=function _curry1(fn){return function f1(a){if(arguments.length===0||_isPlaceholder(a)){return f1}else{return fn.apply(this,arguments)}}};var _curry2=function _curry2(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder(a)?f2:_curry1(function(_b){return fn(a,_b)});default:return _isPlaceholder(a)&&_isPlaceholder(b)?f2:_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b)}):fn(a,b)}}};var _curry3=function _curry3(fn){return function f3(a,b,c){switch(arguments.length){case 0:return f3;case 1:return _isPlaceholder(a)?f3:_curry2(function(_b,_c){return fn(a,_b,_c)});case 2:return _isPlaceholder(a)&&_isPlaceholder(b)?f3:_isPlaceholder(a)?_curry2(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder(b)?_curry2(function(_b,_c){return fn(a,_b,_c)}):_curry1(function(_c){return fn(a,b,_c)});default:return _isPlaceholder(a)&&_isPlaceholder(b)&&_isPlaceholder(c)?f3:_isPlaceholder(a)&&_isPlaceholder(b)?_curry2(function(_a,_b){return fn(_a,_b,c)}):_isPlaceholder(a)&&_isPlaceholder(c)?_curry2(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder(b)&&_isPlaceholder(c)?_curry2(function(_b,_c){return fn(a,_b,_c)}):_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b,c)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b,c)}):_isPlaceholder(c)?_curry1(function(_c){return fn(a,b,_c)}):fn(a,b,c)}}};var _curryN=function _curryN(length,received,fn){return function(){var combined=[];var argsIdx=0;var left=length;var combinedIdx=0;while(combinedIdx<received.length||argsIdx<arguments.length){var result;if(combinedIdx<received.length&&(!_isPlaceholder(received[combinedIdx])||argsIdx>=arguments.length)){result=received[combinedIdx]}else{result=arguments[argsIdx];argsIdx+=1}combined[combinedIdx]=result;if(!_isPlaceholder(result)){left-=1}combinedIdx+=1}return left<=0?fn.apply(this,combined):_arity(left,_curryN(length,combined,fn))}};var _dispatchable=function _dispatchable(methodname,xf,fn){return function(){var length=arguments.length;if(length===0){return fn()}var obj=arguments[length-1];if(!_isArray(obj)){var args=_slice(arguments,0,length-1);if(typeof obj[methodname]==="function"){return obj[methodname].apply(obj,args)}if(_isTransformer(obj)){var transducer=xf.apply(null,args);return transducer(obj)}}return fn.apply(this,arguments)}};var _dropLastWhile=function dropLastWhile(pred,list){var idx=list.length-1;while(idx>=0&&pred(list[idx])){idx-=1}return _slice(list,0,idx+1)};var _xall=function(){function XAll(f,xf){this.xf=xf;this.f=f;this.all=true}XAll.prototype["@@transducer/init"]=_xfBase.init;XAll.prototype["@@transducer/result"]=function(result){if(this.all){result=this.xf["@@transducer/step"](result,true)}return this.xf["@@transducer/result"](result)};XAll.prototype["@@transducer/step"]=function(result,input){if(!this.f(input)){this.all=false;result=_reduced(this.xf["@@transducer/step"](result,false))}return result};return _curry2(function _xall(f,xf){return new XAll(f,xf)})}();var _xany=function(){function XAny(f,xf){this.xf=xf;this.f=f;this.any=false}XAny.prototype["@@transducer/init"]=_xfBase.init;XAny.prototype["@@transducer/result"]=function(result){if(!this.any){result=this.xf["@@transducer/step"](result,false)}return this.xf["@@transducer/result"](result)};XAny.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.any=true;result=_reduced(this.xf["@@transducer/step"](result,true))}return result};return _curry2(function _xany(f,xf){return new XAny(f,xf)})}();var _xaperture=function(){function XAperture(n,xf){this.xf=xf;this.pos=0;this.full=false;this.acc=new Array(n)}XAperture.prototype["@@transducer/init"]=_xfBase.init;XAperture.prototype["@@transducer/result"]=function(result){this.acc=null;return this.xf["@@transducer/result"](result)};XAperture.prototype["@@transducer/step"]=function(result,input){this.store(input);return this.full?this.xf["@@transducer/step"](result,this.getCopy()):result};XAperture.prototype.store=function(input){this.acc[this.pos]=input;this.pos+=1;if(this.pos===this.acc.length){this.pos=0;this.full=true}};XAperture.prototype.getCopy=function(){return _concat(_slice(this.acc,this.pos),_slice(this.acc,0,this.pos))};return _curry2(function _xaperture(n,xf){return new XAperture(n,xf)})}();var _xdrop=function(){function XDrop(n,xf){this.xf=xf;this.n=n}XDrop.prototype["@@transducer/init"]=_xfBase.init;XDrop.prototype["@@transducer/result"]=_xfBase.result;XDrop.prototype["@@transducer/step"]=function(result,input){if(this.n>0){this.n-=1;return result}return this.xf["@@transducer/step"](result,input)};return _curry2(function _xdrop(n,xf){return new XDrop(n,xf)})}();var _xdropLast=function(){function XDropLast(n,xf){this.xf=xf;this.pos=0;this.full=false;this.acc=new Array(n)}XDropLast.prototype["@@transducer/init"]=_xfBase.init;XDropLast.prototype["@@transducer/result"]=function(result){this.acc=null;return this.xf["@@transducer/result"](result)};XDropLast.prototype["@@transducer/step"]=function(result,input){if(this.full){result=this.xf["@@transducer/step"](result,this.acc[this.pos])}this.store(input);return result};XDropLast.prototype.store=function(input){this.acc[this.pos]=input;this.pos+=1;if(this.pos===this.acc.length){this.pos=0;this.full=true}};return _curry2(function _xdropLast(n,xf){return new XDropLast(n,xf)})}();var _xdropRepeatsWith=function(){function XDropRepeatsWith(pred,xf){this.xf=xf;this.pred=pred;this.lastValue=undefined;this.seenFirstValue=false}XDropRepeatsWith.prototype["@@transducer/init"]=function(){return this.xf["@@transducer/init"]()};XDropRepeatsWith.prototype["@@transducer/result"]=function(result){return this.xf["@@transducer/result"](result)};XDropRepeatsWith.prototype["@@transducer/step"]=function(result,input){var sameAsLast=false;if(!this.seenFirstValue){this.seenFirstValue=true}else if(this.pred(this.lastValue,input)){sameAsLast=true}this.lastValue=input;return sameAsLast?result:this.xf["@@transducer/step"](result,input)};return _curry2(function _xdropRepeatsWith(pred,xf){return new XDropRepeatsWith(pred,xf)})}();var _xdropWhile=function(){function XDropWhile(f,xf){this.xf=xf;this.f=f}XDropWhile.prototype["@@transducer/init"]=_xfBase.init;XDropWhile.prototype["@@transducer/result"]=_xfBase.result;XDropWhile.prototype["@@transducer/step"]=function(result,input){if(this.f){if(this.f(input)){return result}this.f=null}return this.xf["@@transducer/step"](result,input)};return _curry2(function _xdropWhile(f,xf){return new XDropWhile(f,xf)})}();var _xfilter=function(){function XFilter(f,xf){this.xf=xf;this.f=f}XFilter.prototype["@@transducer/init"]=_xfBase.init;XFilter.prototype["@@transducer/result"]=_xfBase.result;XFilter.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.xf["@@transducer/step"](result,input):result};return _curry2(function _xfilter(f,xf){return new XFilter(f,xf)})}();var _xfind=function(){function XFind(f,xf){this.xf=xf;this.f=f;this.found=false}XFind.prototype["@@transducer/init"]=_xfBase.init;XFind.prototype["@@transducer/result"]=function(result){if(!this.found){result=this.xf["@@transducer/step"](result,void 0)}return this.xf["@@transducer/result"](result)};XFind.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.found=true;result=_reduced(this.xf["@@transducer/step"](result,input))}return result};return _curry2(function _xfind(f,xf){return new XFind(f,xf)})}();var _xfindIndex=function(){function XFindIndex(f,xf){this.xf=xf;this.f=f;this.idx=-1;this.found=false}XFindIndex.prototype["@@transducer/init"]=_xfBase.init;XFindIndex.prototype["@@transducer/result"]=function(result){if(!this.found){result=this.xf["@@transducer/step"](result,-1)}return this.xf["@@transducer/result"](result)};XFindIndex.prototype["@@transducer/step"]=function(result,input){this.idx+=1;if(this.f(input)){this.found=true;result=_reduced(this.xf["@@transducer/step"](result,this.idx))}return result};return _curry2(function _xfindIndex(f,xf){return new XFindIndex(f,xf)})}();var _xfindLast=function(){function XFindLast(f,xf){this.xf=xf;this.f=f}XFindLast.prototype["@@transducer/init"]=_xfBase.init;XFindLast.prototype["@@transducer/result"]=function(result){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](result,this.last))};XFindLast.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.last=input}return result};return _curry2(function _xfindLast(f,xf){return new XFindLast(f,xf)})}();var _xfindLastIndex=function(){function XFindLastIndex(f,xf){this.xf=xf;this.f=f;this.idx=-1;this.lastIdx=-1}XFindLastIndex.prototype["@@transducer/init"]=_xfBase.init;XFindLastIndex.prototype["@@transducer/result"]=function(result){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](result,this.lastIdx))};XFindLastIndex.prototype["@@transducer/step"]=function(result,input){this.idx+=1;if(this.f(input)){this.lastIdx=this.idx}return result};return _curry2(function _xfindLastIndex(f,xf){return new XFindLastIndex(f,xf)})}();var _xmap=function(){function XMap(f,xf){this.xf=xf;this.f=f}XMap.prototype["@@transducer/init"]=_xfBase.init;XMap.prototype["@@transducer/result"]=_xfBase.result;XMap.prototype["@@transducer/step"]=function(result,input){return this.xf["@@transducer/step"](result,this.f(input))};return _curry2(function _xmap(f,xf){return new XMap(f,xf)})}();var _xreduceBy=function(){function XReduceBy(valueFn,valueAcc,keyFn,xf){this.valueFn=valueFn;this.valueAcc=valueAcc;this.keyFn=keyFn;this.xf=xf;this.inputs={}}XReduceBy.prototype["@@transducer/init"]=_xfBase.init;XReduceBy.prototype["@@transducer/result"]=function(result){var key;for(key in this.inputs){if(_has(key,this.inputs)){result=this.xf["@@transducer/step"](result,this.inputs[key]);if(result["@@transducer/reduced"]){result=result["@@transducer/value"];break}}}this.inputs=null;return this.xf["@@transducer/result"](result)};XReduceBy.prototype["@@transducer/step"]=function(result,input){var key=this.keyFn(input);this.inputs[key]=this.inputs[key]||[key,this.valueAcc];this.inputs[key][1]=this.valueFn(this.inputs[key][1],input);return result};return _curryN(4,[],function _xreduceBy(valueFn,valueAcc,keyFn,xf){return new XReduceBy(valueFn,valueAcc,keyFn,xf)})}();var _xtake=function(){function XTake(n,xf){this.xf=xf;this.n=n;this.i=0}XTake.prototype["@@transducer/init"]=_xfBase.init;XTake.prototype["@@transducer/result"]=_xfBase.result;XTake.prototype["@@transducer/step"]=function(result,input){this.i+=1;var ret=this.n===0?result:this.xf["@@transducer/step"](result,input);return this.i>=this.n?_reduced(ret):ret};return _curry2(function _xtake(n,xf){return new XTake(n,xf)})}();var _xtakeWhile=function(){function XTakeWhile(f,xf){this.xf=xf;this.f=f}XTakeWhile.prototype["@@transducer/init"]=_xfBase.init;XTakeWhile.prototype["@@transducer/result"]=_xfBase.result;XTakeWhile.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.xf["@@transducer/step"](result,input):_reduced(result)};return _curry2(function _xtakeWhile(f,xf){return new XTakeWhile(f,xf)})}();var add=_curry2(function add(a,b){return Number(a)+Number(b)});var adjust=_curry3(function adjust(fn,idx,list){if(idx>=list.length||idx<-list.length){return list}var start=idx<0?list.length:0;var _idx=start+idx;var _list=_concat(list);_list[_idx]=fn(list[_idx]);return _list});var all=_curry2(_dispatchable("all",_xall,function all(fn,list){var idx=0;while(idx<list.length){if(!fn(list[idx])){return false}idx+=1}return true}));var always=_curry1(function always(val){return function(){return val}});var and=_curry2(function and(a,b){return a&&b});var any=_curry2(_dispatchable("any",_xany,function any(fn,list){var idx=0;while(idx<list.length){if(fn(list[idx])){return true}idx+=1}return false}));var aperture=_curry2(_dispatchable("aperture",_xaperture,_aperture));var append=_curry2(function append(el,list){return _concat(list,[el])});var apply=_curry2(function apply(fn,args){return fn.apply(this,args)});var assoc=_curry3(function assoc(prop,val,obj){var result={};for(var p in obj){result[p]=obj[p]}result[prop]=val;return result});var assocPath=_curry3(function assocPath(path,val,obj){switch(path.length){case 0:return val;case 1:return assoc(path[0],val,obj);default:return assoc(path[0],assocPath(_slice(path,1),val,Object(obj[path[0]])),obj)}});var bind=_curry2(function bind(fn,thisObj){return _arity(fn.length,function(){return fn.apply(thisObj,arguments)})});var clamp=_curry3(function clamp(min,max,value){if(min>max){throw new Error("min must not be greater than max in clamp(min, max, value)")}return value<min?min:value>max?max:value});var comparator=_curry1(function comparator(pred){return function(a,b){return pred(a,b)?-1:pred(b,a)?1:0}});var curryN=_curry2(function curryN(length,fn){if(length===1){return _curry1(fn)}return _arity(length,_curryN(length,[],fn))});var dec=add(-1);var defaultTo=_curry2(function defaultTo(d,v){return v==null||v!==v?d:v});var differenceWith=_curry3(function differenceWith(pred,first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_containsWith(pred,first[idx],second)&&!_containsWith(pred,first[idx],out)){out.push(first[idx])}idx+=1}return out});var dissoc=_curry2(function dissoc(prop,obj){var result={};for(var p in obj){if(p!==prop){result[p]=obj[p]}}return result});var dissocPath=_curry2(function dissocPath(path,obj){switch(path.length){case 0:return obj;case 1:return dissoc(path[0],obj);default:var head=path[0];var tail=_slice(path,1);return obj[head]==null?obj:assoc(head,dissocPath(tail,obj[head]),obj)}});var divide=_curry2(function divide(a,b){return a/b});var dropWhile=_curry2(_dispatchable("dropWhile",_xdropWhile,function dropWhile(pred,list){var idx=0;var len=list.length;while(idx<len&&pred(list[idx])){idx+=1}return _slice(list,idx)}));var empty=_curry1(function empty(x){return x!=null&&typeof x.empty==="function"?x.empty():x!=null&&x.constructor!=null&&typeof x.constructor.empty==="function"?x.constructor.empty():_isArray(x)?[]:_isString(x)?"":_isObject(x)?{}:_isArguments(x)?function(){return arguments}():void 0});var evolve=_curry2(function evolve(transformations,object){var result={};var transformation,key,type;for(key in object){transformation=transformations[key];type=typeof transformation;result[key]=type==="function"?transformation(object[key]):type==="object"?evolve(transformations[key],object[key]):object[key]}return result});var find=_curry2(_dispatchable("find",_xfind,function find(fn,list){var idx=0;var len=list.length;while(idx<len){if(fn(list[idx])){return list[idx]}idx+=1}}));var findIndex=_curry2(_dispatchable("findIndex",_xfindIndex,function findIndex(fn,list){var idx=0;var len=list.length;while(idx<len){if(fn(list[idx])){return idx}idx+=1}return-1}));var findLast=_curry2(_dispatchable("findLast",_xfindLast,function findLast(fn,list){var idx=list.length-1;while(idx>=0){if(fn(list[idx])){return list[idx]}idx-=1}}));var findLastIndex=_curry2(_dispatchable("findLastIndex",_xfindLastIndex,function findLastIndex(fn,list){var idx=list.length-1;while(idx>=0){if(fn(list[idx])){return idx}idx-=1}return-1}));var forEach=_curry2(_checkForMethod("forEach",function forEach(fn,list){var len=list.length;var idx=0;while(idx<len){fn(list[idx]);idx+=1}return list}));var fromPairs=_curry1(function fromPairs(pairs){var result={};var idx=0;while(idx<pairs.length){result[pairs[idx][0]]=pairs[idx][1];idx+=1}return result});var groupWith=_curry2(function(fn,list){var res=[];var idx=0;var len=list.length;while(idx<len){var nextidx=idx+1;while(nextidx<len&&fn(list[idx],list[nextidx])){nextidx+=1}res.push(list.slice(idx,nextidx));idx=nextidx}return res});var gt=_curry2(function gt(a,b){return a>b});var gte=_curry2(function gte(a,b){return a>=b});var has=_curry2(_has);var hasIn=_curry2(function hasIn(prop,obj){return prop in obj});var identical=_curry2(function identical(a,b){if(a===b){return a!==0||1/a===1/b}else{return a!==a&&b!==b}});var identity=_curry1(_identity);var ifElse=_curry3(function ifElse(condition,onTrue,onFalse){return curryN(Math.max(condition.length,onTrue.length,onFalse.length),function _ifElse(){return condition.apply(this,arguments)?onTrue.apply(this,arguments):onFalse.apply(this,arguments)})});var inc=add(1);var insert=_curry3(function insert(idx,elt,list){idx=idx<list.length&&idx>=0?idx:list.length;var result=_slice(list);result.splice(idx,0,elt);return result});var insertAll=_curry3(function insertAll(idx,elts,list){idx=idx<list.length&&idx>=0?idx:list.length;return _concat(_concat(_slice(list,0,idx),elts),_slice(list,idx))});var intersperse=_curry2(_checkForMethod("intersperse",function intersperse(separator,list){var out=[];var idx=0;var length=list.length;while(idx<length){if(idx===length-1){out.push(list[idx])}else{out.push(list[idx],separator)}idx+=1}return out}));var is=_curry2(function is(Ctor,val){return val!=null&&val.constructor===Ctor||val instanceof Ctor});var isArrayLike=_curry1(function isArrayLike(x){if(_isArray(x)){return true}if(!x){return false}if(typeof x!=="object"){return false}if(_isString(x)){return false}if(x.nodeType===1){return!!x.length}if(x.length===0){return true}if(x.length>0){return x.hasOwnProperty(0)&&x.hasOwnProperty(x.length-1)}return false});var isNil=_curry1(function isNil(x){return x==null});var keys=function(){var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];var hasArgsEnumBug=function(){"use strict";return arguments.propertyIsEnumerable("length")}();var contains=function contains(list,item){var idx=0;while(idx<list.length){if(list[idx]===item){return true}idx+=1}return false};return typeof Object.keys==="function"&&!hasArgsEnumBug?_curry1(function keys(obj){return Object(obj)!==obj?[]:Object.keys(obj)}):_curry1(function keys(obj){if(Object(obj)!==obj){return[]}var prop,nIdx;var ks=[];var checkArgsLength=hasArgsEnumBug&&_isArguments(obj);for(prop in obj){if(_has(prop,obj)&&(!checkArgsLength||prop!=="length")){ks[ks.length]=prop}}if(hasEnumBug){nIdx=nonEnumerableProps.length-1;while(nIdx>=0){prop=nonEnumerableProps[nIdx];if(_has(prop,obj)&&!contains(ks,prop)){ks[ks.length]=prop}nIdx-=1}}return ks})}();var keysIn=_curry1(function keysIn(obj){var prop;var ks=[];for(prop in obj){ks[ks.length]=prop}return ks});var length=_curry1(function length(list){return list!=null&&_isNumber(list.length)?list.length:NaN});var lt=_curry2(function lt(a,b){return a<b});var lte=_curry2(function lte(a,b){return a<=b});var mapAccum=_curry3(function mapAccum(fn,acc,list){var idx=0;var len=list.length;var result=[];var tuple=[acc];while(idx<len){tuple=fn(tuple[0],list[idx]);result[idx]=tuple[1];idx+=1}return[tuple[0],result]});var mapAccumRight=_curry3(function mapAccumRight(fn,acc,list){var idx=list.length-1;var result=[];var tuple=[acc];while(idx>=0){tuple=fn(tuple[0],list[idx]);result[idx]=tuple[1];idx-=1}return[tuple[0],result]});var match=_curry2(function match(rx,str){return str.match(rx)||[]});var mathMod=_curry2(function mathMod(m,p){if(!_isInteger(m)){return NaN}if(!_isInteger(p)||p<1){return NaN}return(m%p+p)%p});var max=_curry2(function max(a,b){return b>a?b:a});var maxBy=_curry3(function maxBy(f,a,b){return f(b)>f(a)?b:a});var merge=_curry2(function merge(l,r){return _assign({},l,r)});var mergeAll=_curry1(function mergeAll(list){return _assign.apply(null,[{}].concat(list))});var mergeWithKey=_curry3(function mergeWithKey(fn,l,r){var result={};var k;for(k in l){if(_has(k,l)){result[k]=_has(k,r)?fn(k,l[k],r[k]):l[k]}}for(k in r){if(_has(k,r)&&!_has(k,result)){result[k]=r[k]}}return result});var min=_curry2(function min(a,b){return b<a?b:a});var minBy=_curry3(function minBy(f,a,b){return f(b)<f(a)?b:a});var modulo=_curry2(function modulo(a,b){return a%b});var multiply=_curry2(function multiply(a,b){return a*b});var nAry=_curry2(function nAry(n,fn){switch(n){case 0:return function(){return fn.call(this)};case 1:return function(a0){return fn.call(this,a0)};case 2:return function(a0,a1){return fn.call(this,a0,a1)};case 3:return function(a0,a1,a2){return fn.call(this,a0,a1,a2)};case 4:return function(a0,a1,a2,a3){return fn.call(this,a0,a1,a2,a3)};case 5:return function(a0,a1,a2,a3,a4){return fn.call(this,a0,a1,a2,a3,a4)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.call(this,a0,a1,a2,a3,a4,a5)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.call(this,a0,a1,a2,a3,a4,a5,a6)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});var negate=_curry1(function negate(n){return-n});var none=_curry2(_complement(_dispatchable("any",_xany,any)));var not=_curry1(function not(a){return!a});var nth=_curry2(function nth(offset,list){var idx=offset<0?list.length+offset:offset;return _isString(list)?list.charAt(idx):list[idx]});var nthArg=_curry1(function nthArg(n){var arity=n<0?1:n+1;return curryN(arity,function(){return nth(n,arguments)})});var objOf=_curry2(function objOf(key,val){var obj={};obj[key]=val;return obj});var of=_curry1(_of);var once=_curry1(function once(fn){var called=false;var result;return _arity(fn.length,function(){if(called){return result}called=true;result=fn.apply(this,arguments);return result})});var or=_curry2(function or(a,b){return a||b});var over=function(){var Identity=function(x){return{value:x,map:function(f){return Identity(f(x))}}};return _curry3(function over(lens,f,x){return lens(function(y){return Identity(f(y))})(x).value})}();var pair=_curry2(function pair(fst,snd){return[fst,snd]});var path=_curry2(function path(paths,obj){var val=obj;var idx=0;while(idx<paths.length){if(val==null){return}val=val[paths[idx]];idx+=1}return val});var pathOr=_curry3(function pathOr(d,p,obj){return defaultTo(d,path(p,obj))});var pathSatisfies=_curry3(function pathSatisfies(pred,propPath,obj){return propPath.length>0&&pred(path(propPath,obj))});var pick=_curry2(function pick(names,obj){var result={};var idx=0;while(idx<names.length){if(names[idx]in obj){result[names[idx]]=obj[names[idx]]}idx+=1}return result});var pickAll=_curry2(function pickAll(names,obj){var result={};var idx=0;var len=names.length;while(idx<len){var name=names[idx];result[name]=obj[name];idx+=1}return result});var pickBy=_curry2(function pickBy(test,obj){var result={};for(var prop in obj){if(test(obj[prop],prop,obj)){result[prop]=obj[prop]}}return result});var prepend=_curry2(function prepend(el,list){return _concat([el],list)});var prop=_curry2(function prop(p,obj){return obj[p]});var propIs=_curry3(function propIs(type,name,obj){return is(type,obj[name])});var propOr=_curry3(function propOr(val,p,obj){return obj!=null&&_has(p,obj)?obj[p]:val});var propSatisfies=_curry3(function propSatisfies(pred,name,obj){return pred(obj[name])});var props=_curry2(function props(ps,obj){var len=ps.length;var out=[];var idx=0;while(idx<len){out[idx]=obj[ps[idx]];idx+=1}return out});var range=_curry2(function range(from,to){if(!(_isNumber(from)&&_isNumber(to))){throw new TypeError("Both arguments to range must be numbers")}var result=[];var n=from;while(n<to){result.push(n);n+=1}return result});var reduceRight=_curry3(function reduceRight(fn,acc,list){var idx=list.length-1;while(idx>=0){acc=fn(acc,list[idx]);idx-=1}return acc});var reduced=_curry1(_reduced);var remove=_curry3(function remove(start,count,list){return _concat(_slice(list,0,Math.min(start,list.length)),_slice(list,Math.min(list.length,start+count)))});var replace=_curry3(function replace(regex,replacement,str){return str.replace(regex,replacement)});var reverse=_curry1(function reverse(list){return _isString(list)?list.split("").reverse().join(""):_slice(list).reverse()});var scan=_curry3(function scan(fn,acc,list){var idx=0;var len=list.length;var result=[acc];while(idx<len){acc=fn(acc,list[idx]);result[idx+1]=acc;idx+=1}return result});var set=_curry3(function set(lens,v,x){return over(lens,always(v),x)});var slice=_curry3(_checkForMethod("slice",function slice(fromIndex,toIndex,list){return Array.prototype.slice.call(list,fromIndex,toIndex)}));var sort=_curry2(function sort(comparator,list){return _slice(list).sort(comparator)});var sortBy=_curry2(function sortBy(fn,list){return _slice(list).sort(function(a,b){var aa=fn(a);var bb=fn(b);return aa<bb?-1:aa>bb?1:0})});var splitAt=_curry2(function splitAt(index,array){return[slice(0,index,array),slice(index,length(array),array)]});var splitEvery=_curry2(function splitEvery(n,list){if(n<=0){throw new Error("First argument to splitEvery must be a positive integer")}var result=[];var idx=0;while(idx<list.length){result.push(slice(idx,idx+=n,list))}return result});var splitWhen=_curry2(function splitWhen(pred,list){var idx=0;var len=list.length;var prefix=[];while(idx<len&&!pred(list[idx])){prefix.push(list[idx]);idx+=1}return[prefix,_slice(list,idx)]});var subtract=_curry2(function subtract(a,b){return Number(a)-Number(b)});var tail=_checkForMethod("tail",slice(1,Infinity));var take=_curry2(_dispatchable("take",_xtake,function take(n,xs){return slice(0,n<0?Infinity:n,xs)}));var takeLastWhile=_curry2(function takeLastWhile(fn,list){var idx=list.length-1;while(idx>=0&&fn(list[idx])){idx-=1}return _slice(list,idx+1,Infinity)});var takeWhile=_curry2(_dispatchable("takeWhile",_xtakeWhile,function takeWhile(fn,list){var idx=0;var len=list.length;while(idx<len&&fn(list[idx])){idx+=1}return _slice(list,0,idx)}));var tap=_curry2(function tap(fn,x){fn(x);return x});var times=_curry2(function times(fn,n){var len=Number(n);var idx=0;var list;if(len<0||isNaN(len)){throw new RangeError("n must be a non-negative number")}list=new Array(len);while(idx<len){list[idx]=fn(idx);idx+=1}return list});var toPairs=_curry1(function toPairs(obj){var pairs=[];for(var prop in obj){if(_has(prop,obj)){pairs[pairs.length]=[prop,obj[prop]]}}return pairs});var toPairsIn=_curry1(function toPairsIn(obj){var pairs=[];for(var prop in obj){pairs[pairs.length]=[prop,obj[prop]]}return pairs});var transpose=_curry1(function transpose(outerlist){var i=0;var result=[];while(i<outerlist.length){var innerlist=outerlist[i];var j=0;while(j<innerlist.length){if(typeof result[j]==="undefined"){result[j]=[]}result[j].push(innerlist[j]);j+=1}i+=1}return result});var trim=function(){var ws="\t\n\v\f\r   ᠎    "+"         　\u2028"+"\u2029\ufeff";var zeroWidth="​";var hasProtoTrim=typeof String.prototype.trim==="function";if(!hasProtoTrim||(ws.trim()||!zeroWidth.trim())){return _curry1(function trim(str){var beginRx=new RegExp("^["+ws+"]["+ws+"]*");var endRx=new RegExp("["+ws+"]["+ws+"]*$");return str.replace(beginRx,"").replace(endRx,"")})}else{return _curry1(function trim(str){return str.trim()})}}();var tryCatch=_curry2(function _tryCatch(tryer,catcher){return _arity(tryer.length,function(){try{return tryer.apply(this,arguments)}catch(e){return catcher.apply(this,_concat([e],arguments))}})});var type=_curry1(function type(val){return val===null?"Null":val===undefined?"Undefined":Object.prototype.toString.call(val).slice(8,-1)});var unapply=_curry1(function unapply(fn){return function(){return fn(_slice(arguments))}});var unary=_curry1(function unary(fn){return nAry(1,fn)});var uncurryN=_curry2(function uncurryN(depth,fn){return curryN(depth,function(){var currentDepth=1;var value=fn;var idx=0;var endIdx;while(currentDepth<=depth&&typeof value==="function"){endIdx=currentDepth===depth?arguments.length:idx+value.length;value=value.apply(this,_slice(arguments,idx,endIdx));currentDepth+=1;idx=endIdx}return value})});var unfold=_curry2(function unfold(fn,seed){var pair=fn(seed);var result=[];while(pair&&pair.length){result[result.length]=pair[0];pair=fn(pair[1])}return result});var uniqWith=_curry2(function uniqWith(pred,list){var idx=0;var len=list.length;var result=[];var item;while(idx<len){item=list[idx];if(!_containsWith(pred,item,result)){result[result.length]=item}idx+=1}return result});var unless=_curry3(function unless(pred,whenFalseFn,x){return pred(x)?x:whenFalseFn(x)});var until=_curry3(function until(pred,fn,init){var val=init;while(!pred(val)){val=fn(val)}return val});var update=_curry3(function update(idx,x,list){return adjust(always(x),idx,list)});var useWith=_curry2(function useWith(fn,transformers){return curryN(transformers.length,function(){var args=[];var idx=0;while(idx<transformers.length){args.push(transformers[idx].call(this,arguments[idx]));idx+=1}return fn.apply(this,args.concat(_slice(arguments,transformers.length)))})});var values=_curry1(function values(obj){var props=keys(obj);var len=props.length;var vals=[];var idx=0;while(idx<len){vals[idx]=obj[props[idx]];idx+=1}return vals});var valuesIn=_curry1(function valuesIn(obj){var prop;var vs=[];for(prop in obj){vs[vs.length]=obj[prop]}return vs});var view=function(){var Const=function(x){return{value:x,map:function(){return this}}};return _curry2(function view(lens,x){return lens(Const)(x).value})}();var when=_curry3(function when(pred,whenTrueFn,x){return pred(x)?whenTrueFn(x):x});var where=_curry2(function where(spec,testObj){for(var prop in spec){if(_has(prop,spec)&&!spec[prop](testObj[prop])){return false}}return true});var wrap=_curry2(function wrap(fn,wrapper){return curryN(fn.length,function(){return wrapper.apply(this,_concat([fn],arguments))})});var xprod=_curry2(function xprod(a,b){var idx=0;var ilen=a.length;var j;var jlen=b.length;var result=[];while(idx<ilen){j=0;while(j<jlen){result[result.length]=[a[idx],b[j]];j+=1}idx+=1}return result});var zip=_curry2(function zip(a,b){var rv=[];var idx=0;var len=Math.min(a.length,b.length);while(idx<len){rv[idx]=[a[idx],b[idx]];idx+=1}return rv});var zipObj=_curry2(function zipObj(keys,values){var idx=0;var len=Math.min(keys.length,values.length);var out={};while(idx<len){out[keys[idx]]=values[idx];idx+=1}return out});var zipWith=_curry3(function zipWith(fn,a,b){var rv=[];var idx=0;var len=Math.min(a.length,b.length);while(idx<len){rv[idx]=fn(a[idx],b[idx]);idx+=1}return rv});var F=always(false);var T=always(true);var _clone=function _clone(value,refFrom,refTo,deep){var copy=function copy(copiedValue){var len=refFrom.length;var idx=0;while(idx<len){if(value===refFrom[idx]){return refTo[idx]}idx+=1}refFrom[idx+1]=value;refTo[idx+1]=copiedValue;for(var key in value){copiedValue[key]=deep?_clone(value[key],refFrom,refTo,true):value[key]}return copiedValue};switch(type(value)){case"Object":return copy({});case"Array":return copy([]);case"Date":return new Date(value.valueOf());case"RegExp":return _cloneRegExp(value);default:return value}};var _createPartialApplicator=function _createPartialApplicator(concat){return _curry2(function(fn,args){return _arity(Math.max(0,fn.length-args.length),function(){return fn.apply(this,concat(args,arguments))})})};var _dropLast=function dropLast(n,xs){return take(n<xs.length?xs.length-n:0,xs)};var _equals=function _equals(a,b,stackA,stackB){if(identical(a,b)){return true}if(type(a)!==type(b)){return false}if(a==null||b==null){return false}if(typeof a.equals==="function"||typeof b.equals==="function"){return typeof a.equals==="function"&&a.equals(b)&&typeof b.equals==="function"&&b.equals(a)}switch(type(a)){case"Arguments":case"Array":case"Object":if(typeof a.constructor==="function"&&_functionName(a.constructor)==="Promise"){return a===b}break;case"Boolean":case"Number":case"String":if(!(typeof a===typeof b&&identical(a.valueOf(),b.valueOf()))){return false}break;case"Date":if(!identical(a.valueOf(),b.valueOf())){return false}break;case"Error":return a.name===b.name&&a.message===b.message;case"RegExp":if(!(a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline&&a.sticky===b.sticky&&a.unicode===b.unicode)){return false}break;case"Map":case"Set":if(!_equals(_arrayFromIterator(a.entries()),_arrayFromIterator(b.entries()),stackA,stackB)){return false}break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":break;case"ArrayBuffer":break;default:return false}var keysA=keys(a);if(keysA.length!==keys(b).length){return false}var idx=stackA.length-1;while(idx>=0){if(stackA[idx]===a){return stackB[idx]===b}idx-=1}stackA.push(a);stackB.push(b);idx=keysA.length-1;while(idx>=0){var key=keysA[idx];if(!(_has(key,b)&&_equals(b[key],a[key],stackA,stackB))){return false}idx-=1}stackA.pop();stackB.pop();return true};var _makeFlat=function _makeFlat(recursive){return function flatt(list){var value,jlen,j;var result=[];var idx=0;var ilen=list.length;while(idx<ilen){if(isArrayLike(list[idx])){value=recursive?flatt(list[idx]):list[idx];j=0;jlen=value.length;while(j<jlen){result[result.length]=value[j];j+=1}}else{result[result.length]=list[idx]}idx+=1}return result}};var _reduce=function(){function _arrayReduce(xf,acc,list){var idx=0;var len=list.length;while(idx<len){acc=xf["@@transducer/step"](acc,list[idx]);if(acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}idx+=1}return xf["@@transducer/result"](acc)}function _iterableReduce(xf,acc,iter){var step=iter.next();while(!step.done){acc=xf["@@transducer/step"](acc,step.value);if(acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}step=iter.next()}return xf["@@transducer/result"](acc)}function _methodReduce(xf,acc,obj){return xf["@@transducer/result"](obj.reduce(bind(xf["@@transducer/step"],xf),acc))}var symIterator=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator";return function _reduce(fn,acc,list){if(typeof fn==="function"){fn=_xwrap(fn)}if(isArrayLike(list)){return _arrayReduce(fn,acc,list)}if(typeof list.reduce==="function"){return _methodReduce(fn,acc,list)}if(list[symIterator]!=null){return _iterableReduce(fn,acc,list[symIterator]())}if(typeof list.next==="function"){return _iterableReduce(fn,acc,list)}throw new TypeError("reduce: list must be array or iterable")}}();var _stepCat=function(){var _stepCatArray={"@@transducer/init":Array,"@@transducer/step":function(xs,x){xs.push(x);return xs},"@@transducer/result":_identity};var _stepCatString={"@@transducer/init":String,"@@transducer/step":function(a,b){return a+b},"@@transducer/result":_identity};var _stepCatObject={"@@transducer/init":Object,"@@transducer/step":function(result,input){return _assign(result,isArrayLike(input)?objOf(input[0],input[1]):input)},"@@transducer/result":_identity};return function _stepCat(obj){if(_isTransformer(obj)){return obj}if(isArrayLike(obj)){return _stepCatArray}if(typeof obj==="string"){return _stepCatString}if(typeof obj==="object"){return _stepCatObject}throw new Error("Cannot create transformer for "+obj)}}();var _xdropLastWhile=function(){function XDropLastWhile(fn,xf){this.f=fn;this.retained=[];this.xf=xf}XDropLastWhile.prototype["@@transducer/init"]=_xfBase.init;XDropLastWhile.prototype["@@transducer/result"]=function(result){this.retained=null;return this.xf["@@transducer/result"](result)};XDropLastWhile.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.retain(result,input):this.flush(result,input)};XDropLastWhile.prototype.flush=function(result,input){result=_reduce(this.xf["@@transducer/step"],result,this.retained);this.retained=[];return this.xf["@@transducer/step"](result,input)};XDropLastWhile.prototype.retain=function(result,input){this.retained.push(input);return result};return _curry2(function _xdropLastWhile(fn,xf){return new XDropLastWhile(fn,xf)})}();var addIndex=_curry1(function addIndex(fn){return curryN(fn.length,function(){var idx=0;var origFn=arguments[0];var list=arguments[arguments.length-1];var args=_slice(arguments);args[0]=function(){var result=origFn.apply(this,_concat(arguments,[idx,list]));idx+=1;return result};return fn.apply(this,args)})});var binary=_curry1(function binary(fn){return nAry(2,fn)});var clone=_curry1(function clone(value){return value!=null&&typeof value.clone==="function"?value.clone():_clone(value,[],[],true)});var curry=_curry1(function curry(fn){return curryN(fn.length,fn)});var drop=_curry2(_dispatchable("drop",_xdrop,function drop(n,xs){return slice(Math.max(0,n),Infinity,xs)}));var dropLast=_curry2(_dispatchable("dropLast",_xdropLast,_dropLast));var dropLastWhile=_curry2(_dispatchable("dropLastWhile",_xdropLastWhile,_dropLastWhile));var equals=_curry2(function equals(a,b){return _equals(a,b,[],[])});var filter=_curry2(_dispatchable("filter",_xfilter,function(pred,filterable){return _isObject(filterable)?_reduce(function(acc,key){if(pred(filterable[key])){acc[key]=filterable[key]}return acc},{},keys(filterable)):_filter(pred,filterable)}));var flatten=_curry1(_makeFlat(true));var flip=_curry1(function flip(fn){return curry(function(a,b){var args=_slice(arguments);args[0]=b;args[1]=a;return fn.apply(this,args)})});var head=nth(0);var init=slice(0,-1);var intersectionWith=_curry3(function intersectionWith(pred,list1,list2){var lookupList,filteredList;if(list1.length>list2.length){lookupList=list1;filteredList=list2}else{lookupList=list2;filteredList=list1}var results=[];var idx=0;while(idx<filteredList.length){if(_containsWith(pred,filteredList[idx],lookupList)){results[results.length]=filteredList[idx]}idx+=1}return uniqWith(pred,results)});var into=_curry3(function into(acc,xf,list){return _isTransformer(acc)?_reduce(xf(acc),acc["@@transducer/init"](),list):_reduce(xf(_stepCat(acc)),_clone(acc,[],[],false),list)});var invert=_curry1(function invert(obj){var props=keys(obj);var len=props.length;var idx=0;var out={};while(idx<len){var key=props[idx];var val=obj[key];var list=_has(val,out)?out[val]:out[val]=[];list[list.length]=key;idx+=1}return out});var invertObj=_curry1(function invertObj(obj){var props=keys(obj);var len=props.length;var idx=0;var out={};while(idx<len){var key=props[idx];out[obj[key]]=key;idx+=1}return out});var isEmpty=_curry1(function isEmpty(x){return x!=null&&equals(x,empty(x))});var last=nth(-1);var lastIndexOf=_curry2(function lastIndexOf(target,xs){if(typeof xs.lastIndexOf==="function"&&!_isArray(xs)){return xs.lastIndexOf(target)}else{var idx=xs.length-1;while(idx>=0){if(equals(xs[idx],target)){return idx}idx-=1}return-1}});var map=_curry2(_dispatchable("map",_xmap,function map(fn,functor){switch(Object.prototype.toString.call(functor)){case"[object Function]":return curryN(functor.length,function(){return fn.call(this,functor.apply(this,arguments))});case"[object Object]":return _reduce(function(acc,key){acc[key]=fn(functor[key]);return acc},{},keys(functor));default:return _map(fn,functor)}}));var mapObjIndexed=_curry2(function mapObjIndexed(fn,obj){return _reduce(function(acc,key){acc[key]=fn(obj[key],key,obj);return acc},{},keys(obj))});var mergeWith=_curry3(function mergeWith(fn,l,r){return mergeWithKey(function(_,_l,_r){return fn(_l,_r)},l,r)});var partial=_createPartialApplicator(_concat);var partialRight=_createPartialApplicator(flip(_concat));var pathEq=_curry3(function pathEq(_path,val,obj){return equals(path(_path,obj),val)});var pluck=_curry2(function pluck(p,list){return map(prop(p),list)});var project=useWith(_map,[pickAll,identity]);var propEq=_curry3(function propEq(name,val,obj){return equals(val,obj[name])});var reduce=_curry3(_reduce);var reduceBy=_curryN(4,[],_dispatchable("reduceBy",_xreduceBy,function reduceBy(valueFn,valueAcc,keyFn,list){return _reduce(function(acc,elt){var key=keyFn(elt);acc[key]=valueFn(_has(key,acc)?acc[key]:valueAcc,elt);return acc},{},list)}));var reduceWhile=_curryN(4,[],function _reduceWhile(pred,fn,a,list){return _reduce(function(acc,x){return pred(acc,x)?fn(acc,x):_reduced(acc)},a,list)});var reject=_curry2(function reject(pred,filterable){return filter(_complement(pred),filterable)});var repeat=_curry2(function repeat(value,n){return times(always(value),n)});var sum=reduce(add,0);var takeLast=_curry2(function takeLast(n,xs){return drop(n>=0?xs.length-n:0,xs)});var transduce=curryN(4,function transduce(xf,fn,acc,list){return _reduce(xf(typeof fn==="function"?_xwrap(fn):fn),acc,list)});var unionWith=_curry3(function unionWith(pred,list1,list2){return uniqWith(pred,_concat(list1,list2))});var whereEq=_curry2(function whereEq(spec,testObj){return where(map(equals,spec),testObj)});var _flatCat=function(){var preservingReduced=function(xf){return{"@@transducer/init":_xfBase.init,"@@transducer/result":function(result){return xf["@@transducer/result"](result)},"@@transducer/step":function(result,input){var ret=xf["@@transducer/step"](result,input);return ret["@@transducer/reduced"]?_forceReduced(ret):ret}}};return function _xcat(xf){var rxf=preservingReduced(xf);return{"@@transducer/init":_xfBase.init,"@@transducer/result":function(result){return rxf["@@transducer/result"](result)},"@@transducer/step":function(result,input){return!isArrayLike(input)?_reduce(rxf,result,[input]):_reduce(rxf,result,input)}}}}();var _indexOf=function _indexOf(list,a,idx){var inf,item;if(typeof list.indexOf==="function"){switch(typeof a){case"number":if(a===0){inf=1/a;while(idx<list.length){item=list[idx];if(item===0&&1/item===inf){return idx}idx+=1}return-1}else if(a!==a){while(idx<list.length){item=list[idx];if(typeof item==="number"&&item!==item){return idx}idx+=1}return-1}return list.indexOf(a,idx);case"string":case"boolean":case"function":case"undefined":return list.indexOf(a,idx);case"object":if(a===null){return list.indexOf(a,idx)}}}while(idx<list.length){if(equals(list[idx],a)){return idx}idx+=1}return-1};var _xchain=_curry2(function _xchain(f,xf){return map(f,_flatCat(xf))});var allPass=_curry1(function allPass(preds){return curryN(reduce(max,0,pluck("length",preds)),function(){var idx=0;var len=preds.length;while(idx<len){if(!preds[idx].apply(this,arguments)){return false}idx+=1}return true})});var anyPass=_curry1(function anyPass(preds){return curryN(reduce(max,0,pluck("length",preds)),function(){var idx=0;var len=preds.length;while(idx<len){if(preds[idx].apply(this,arguments)){return true}idx+=1}return false})});var ap=_curry2(function ap(applicative,fn){return typeof applicative.ap==="function"?applicative.ap(fn):typeof applicative==="function"?function(x){return applicative(x)(fn(x))}:_reduce(function(acc,f){return _concat(acc,map(f,fn))},[],applicative)});var applySpec=_curry1(function applySpec(spec){spec=map(function(v){return typeof v=="function"?v:applySpec(v)},spec);return curryN(reduce(max,0,pluck("length",values(spec))),function(){var args=arguments;return map(function(f){return apply(f,args)},spec)})});var call=curry(function call(fn){return fn.apply(this,_slice(arguments,1))});var chain=_curry2(_dispatchable("chain",_xchain,function chain(fn,monad){if(typeof monad==="function"){return function(){return monad.call(this,fn.apply(this,arguments)).apply(this,arguments)}}return _makeFlat(false)(map(fn,monad))}));var cond=_curry1(function cond(pairs){var arity=reduce(max,0,map(function(pair){return pair[0].length},pairs));return _arity(arity,function(){var idx=0;while(idx<pairs.length){if(pairs[idx][0].apply(this,arguments)){return pairs[idx][1].apply(this,arguments)}idx+=1}})});var constructN=_curry2(function constructN(n,Fn){if(n>10){throw new Error("Constructor with greater than ten arguments")}if(n===0){return function(){return new Fn}}return curry(nAry(n,function($0,$1,$2,$3,$4,$5,$6,$7,$8,$9){switch(arguments.length){case 1:return new Fn($0);case 2:return new Fn($0,$1);case 3:return new Fn($0,$1,$2);case 4:return new Fn($0,$1,$2,$3);case 5:return new Fn($0,$1,$2,$3,$4);case 6:return new Fn($0,$1,$2,$3,$4,$5);case 7:return new Fn($0,$1,$2,$3,$4,$5,$6);case 8:return new Fn($0,$1,$2,$3,$4,$5,$6,$7);case 9:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8);case 10:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8,$9)}}))});var converge=_curry2(function converge(after,fns){return curryN(reduce(max,0,pluck("length",fns)),function(){var args=arguments;var context=this;return after.apply(context,_map(function(fn){return fn.apply(context,args)},fns))})});var countBy=reduceBy(function(acc,elem){return acc+1},0);var dropRepeatsWith=_curry2(_dispatchable("dropRepeatsWith",_xdropRepeatsWith,function dropRepeatsWith(pred,list){var result=[];var idx=1;var len=list.length;if(len!==0){result[0]=list[0];while(idx<len){if(!pred(last(result),list[idx])){result[result.length]=list[idx]}idx+=1}}return result}));var eqBy=_curry3(function eqBy(f,x,y){return equals(f(x),f(y))});var eqProps=_curry3(function eqProps(prop,obj1,obj2){return equals(obj1[prop],obj2[prop])});var groupBy=_curry2(_checkForMethod("groupBy",reduceBy(function(acc,item){if(acc==null){acc=[]}acc.push(item);return acc},null)));var indexBy=reduceBy(function(acc,elem){return elem},null);var indexOf=_curry2(function indexOf(target,xs){return typeof xs.indexOf==="function"&&!_isArray(xs)?xs.indexOf(target):_indexOf(xs,target,0)});var juxt=_curry1(function juxt(fns){return converge(_arrayOf,fns)});var lens=_curry2(function lens(getter,setter){return function(toFunctorFn){return function(target){return map(function(focus){return setter(focus,target)},toFunctorFn(getter(target)))}}});var lensIndex=_curry1(function lensIndex(n){return lens(nth(n),update(n))});var lensPath=_curry1(function lensPath(p){return lens(path(p),assocPath(p))});var lensProp=_curry1(function lensProp(k){return lens(prop(k),assoc(k))});var liftN=_curry2(function liftN(arity,fn){var lifted=curryN(arity,fn);return curryN(arity,function(){return _reduce(ap,map(lifted,arguments[0]),_slice(arguments,1))})});var mean=_curry1(function mean(list){return sum(list)/list.length});var median=_curry1(function median(list){var len=list.length;if(len===0){return NaN}var width=2-len%2;var idx=(len-width)/2;return mean(_slice(list).sort(function(a,b){return a<b?-1:a>b?1:0}).slice(idx,idx+width))});var partition=juxt([filter,reject]);var pipe=function pipe(){if(arguments.length===0){throw new Error("pipe requires at least one argument")}return _arity(arguments[0].length,reduce(_pipe,arguments[0],tail(arguments)))};var pipeP=function pipeP(){if(arguments.length===0){throw new Error("pipeP requires at least one argument")}return _arity(arguments[0].length,reduce(_pipeP,arguments[0],tail(arguments)))};var product=reduce(multiply,1);var sequence=_curry2(function sequence(of,traversable){return typeof traversable.sequence==="function"?traversable.sequence(of):reduceRight(function(acc,x){return ap(map(prepend,x),acc)},of([]),traversable)});var traverse=_curry3(function traverse(of,f,traversable){return sequence(of,map(f,traversable))});var unnest=chain(_identity);var _contains=function _contains(a,list){return _indexOf(list,a,0)>=0};var _toString=function _toString(x,seen){var recur=function recur(y){var xs=seen.concat([x]);return _contains(y,xs)?"<Circular>":_toString(y,xs)};var mapPairs=function(obj,keys){return _map(function(k){return _quote(k)+": "+recur(obj[k])},keys.slice().sort())};switch(Object.prototype.toString.call(x)){case"[object Arguments]":return"(function() { return arguments; }("+_map(recur,x).join(", ")+"))";case"[object Array]":return"["+_map(recur,x).concat(mapPairs(x,reject(function(k){return/^\d+$/.test(k)},keys(x)))).join(", ")+"]";case"[object Boolean]":return typeof x==="object"?"new Boolean("+recur(x.valueOf())+")":x.toString();case"[object Date]":return"new Date("+(isNaN(x.valueOf())?recur(NaN):_quote(_toISOString(x)))+")";case"[object Null]":return"null";case"[object Number]":return typeof x==="object"?"new Number("+recur(x.valueOf())+")":1/x===-Infinity?"-0":x.toString(10);case"[object String]":return typeof x==="object"?"new String("+recur(x.valueOf())+")":_quote(x);case"[object Undefined]":return"undefined";default:if(typeof x.toString==="function"){var repr=x.toString();if(repr!=="[object Object]"){return repr}}return"{"+mapPairs(x,keys(x)).join(", ")+"}"}};var compose=function compose(){if(arguments.length===0){throw new Error("compose requires at least one argument")}return pipe.apply(this,reverse(arguments))};var composeK=function composeK(){return compose.apply(this,prepend(identity,map(chain,arguments)))};var composeP=function composeP(){if(arguments.length===0){throw new Error("composeP requires at least one argument")}return pipeP.apply(this,reverse(arguments))};var construct=_curry1(function construct(Fn){return constructN(Fn.length,Fn)});var contains=_curry2(_contains);var difference=_curry2(function difference(first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_contains(first[idx],second)&&!_contains(first[idx],out)){out[out.length]=first[idx]}idx+=1}return out});var dropRepeats=_curry1(_dispatchable("dropRepeats",_xdropRepeatsWith(equals),dropRepeatsWith(equals)));var lift=_curry1(function lift(fn){return liftN(fn.length,fn)});var omit=_curry2(function omit(names,obj){var result={};for(var prop in obj){if(!_contains(prop,names)){result[prop]=obj[prop]}}return result});var pipeK=function pipeK(){return composeK.apply(this,reverse(arguments))};var toString=_curry1(function toString(val){return _toString(val,[])});var without=_curry2(function(xs,list){return reject(flip(_contains)(xs),list)});var _Set=function(){function _Set(){this._nativeSet=typeof Set==="function"?new Set:null;this._items={}}_Set.prototype.add=function(item){return!hasOrAdd(item,true,this)};_Set.prototype.has=function(item){return hasOrAdd(item,false,this)};function hasOrAdd(item,shouldAdd,set){var type=typeof item;var prevSize,newSize;switch(type){case"string":case"number":if(item===0&&1/item===-Infinity){if(set._items["-0"]){return true}else{if(shouldAdd){set._items["-0"]=true}return false}}if(set._nativeSet!==null){if(shouldAdd){prevSize=set._nativeSet.size;set._nativeSet.add(item);newSize=set._nativeSet.size;return newSize===prevSize}else{return set._nativeSet.has(item)}}else{if(!(type in set._items)){if(shouldAdd){set._items[type]={};set._items[type][item]=true}return false}else if(item in set._items[type]){return true}else{if(shouldAdd){set._items[type][item]=true}return false}}case"boolean":if(type in set._items){var bIdx=item?1:0;if(set._items[type][bIdx]){return true}else{if(shouldAdd){set._items[type][bIdx]=true}return false}}else{if(shouldAdd){set._items[type]=item?[false,true]:[true,false]}return false}case"function":if(set._nativeSet!==null){if(shouldAdd){prevSize=set._nativeSet.size;set._nativeSet.add(item);newSize=set._nativeSet.size;return newSize>prevSize}else{return set._nativeSet.has(item)}}else{if(!(type in set._items)){if(shouldAdd){set._items[type]=[item]}return false}if(!_contains(item,set._items[type])){if(shouldAdd){set._items[type].push(item)}return false}return true}case"undefined":if(set._items[type]){return true}else{if(shouldAdd){set._items[type]=true}return false}case"object":if(item===null){if(!set._items["null"]){if(shouldAdd){set._items["null"]=true}return false}return true}default:type=Object.prototype.toString.call(item);if(!(type in set._items)){if(shouldAdd){set._items[type]=[item]}return false}if(!_contains(item,set._items[type])){if(shouldAdd){set._items[type].push(item)}return false}return true}}return _Set}();var both=_curry2(function both(f,g){return _isFunction(f)?function _both(){return f.apply(this,arguments)&&g.apply(this,arguments)}:lift(and)(f,g)});var complement=lift(not);var concat=_curry2(function concat(a,b){if(a==null||!_isFunction(a.concat)){throw new TypeError(toString(a)+' does not have a method named "concat"')}if(_isArray(a)&&!_isArray(b)){throw new TypeError(toString(b)+" is not an array")}return a.concat(b)});var either=_curry2(function either(f,g){return _isFunction(f)?function _either(){return f.apply(this,arguments)||g.apply(this,arguments)}:lift(or)(f,g)});var invoker=_curry2(function invoker(arity,method){return curryN(arity+1,function(){var target=arguments[arity];if(target!=null&&_isFunction(target[method])){return target[method].apply(target,_slice(arguments,0,arity))}throw new TypeError(toString(target)+' does not have a method named "'+method+'"')})});var join=invoker(1,"join");var memoize=_curry1(function memoize(fn){var cache={};return _arity(fn.length,function(){var key=toString(arguments);if(!_has(key,cache)){cache[key]=fn.apply(this,arguments)}return cache[key]})});var split=invoker(1,"split");var symmetricDifference=_curry2(function symmetricDifference(list1,list2){return concat(difference(list1,list2),difference(list2,list1))});var symmetricDifferenceWith=_curry3(function symmetricDifferenceWith(pred,list1,list2){return concat(differenceWith(pred,list1,list2),differenceWith(pred,list2,list1))});var test=_curry2(function test(pattern,str){if(!_isRegExp(pattern)){throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+toString(pattern))}return _cloneRegExp(pattern).test(str)});var toLower=invoker(0,"toLowerCase");var toUpper=invoker(0,"toUpperCase");var uniqBy=_curry2(function uniqBy(fn,list){var set=new _Set;var result=[];var idx=0;var appliedItem,item;while(idx<list.length){item=list[idx];appliedItem=fn(item);if(set.add(appliedItem)){result.push(item)}idx+=1}return result});var uniq=uniqBy(identity);var intersection=_curry2(function intersection(list1,list2){var lookupList,filteredList;if(list1.length>list2.length){lookupList=list1;filteredList=list2}else{lookupList=list2;filteredList=list1}return uniq(_filter(flip(_contains)(lookupList),filteredList))});var union=_curry2(compose(uniq,_concat));var R={F:F,T:T,__:__,add:add,addIndex:addIndex,adjust:adjust,all:all,allPass:allPass,always:always,and:and,any:any,anyPass:anyPass,ap:ap,aperture:aperture,append:append,apply:apply,applySpec:applySpec,assoc:assoc,assocPath:assocPath,binary:binary,bind:bind,both:both,call:call,chain:chain,clamp:clamp,clone:clone,comparator:comparator,complement:complement,compose:compose,composeK:composeK,composeP:composeP,concat:concat,cond:cond,construct:construct,constructN:constructN,contains:contains,converge:converge,countBy:countBy,curry:curry,curryN:curryN,dec:dec,defaultTo:defaultTo,difference:difference,differenceWith:differenceWith,dissoc:dissoc,dissocPath:dissocPath,divide:divide,drop:drop,dropLast:dropLast,dropLastWhile:dropLastWhile,dropRepeats:dropRepeats,dropRepeatsWith:dropRepeatsWith,dropWhile:dropWhile,either:either,empty:empty,eqBy:eqBy,eqProps:eqProps,equals:equals,evolve:evolve,filter:filter,find:find,findIndex:findIndex,findLast:findLast,findLastIndex:findLastIndex,flatten:flatten,flip:flip,forEach:forEach,fromPairs:fromPairs,groupBy:groupBy,groupWith:groupWith,gt:gt,gte:gte,has:has,hasIn:hasIn,head:head,identical:identical,identity:identity,ifElse:ifElse,inc:inc,indexBy:indexBy,indexOf:indexOf,init:init,insert:insert,insertAll:insertAll,intersection:intersection,intersectionWith:intersectionWith,intersperse:intersperse,into:into,invert:invert,invertObj:invertObj,invoker:invoker,is:is,isArrayLike:isArrayLike,isEmpty:isEmpty,isNil:isNil,join:join,juxt:juxt,keys:keys,keysIn:keysIn,last:last,lastIndexOf:lastIndexOf,length:length,lens:lens,lensIndex:lensIndex,lensPath:lensPath,lensProp:lensProp,lift:lift,liftN:liftN,lt:lt,lte:lte,map:map,mapAccum:mapAccum,mapAccumRight:mapAccumRight,mapObjIndexed:mapObjIndexed,match:match,mathMod:mathMod,max:max,maxBy:maxBy,mean:mean,median:median,memoize:memoize,merge:merge,mergeAll:mergeAll,mergeWith:mergeWith,mergeWithKey:mergeWithKey,min:min,minBy:minBy,modulo:modulo,multiply:multiply,nAry:nAry,negate:negate,none:none,not:not,nth:nth,nthArg:nthArg,objOf:objOf,of:of,omit:omit,once:once,or:or,over:over,pair:pair,partial:partial,partialRight:partialRight,partition:partition,path:path,pathEq:pathEq,pathOr:pathOr,pathSatisfies:pathSatisfies,pick:pick,pickAll:pickAll,pickBy:pickBy,pipe:pipe,pipeK:pipeK,pipeP:pipeP,pluck:pluck,prepend:prepend,product:product,project:project,prop:prop,propEq:propEq,propIs:propIs,propOr:propOr,propSatisfies:propSatisfies,props:props,range:range,reduce:reduce,reduceBy:reduceBy,reduceRight:reduceRight,reduceWhile:reduceWhile,reduced:reduced,reject:reject,remove:remove,repeat:repeat,replace:replace,reverse:reverse,scan:scan,sequence:sequence,set:set,slice:slice,sort:sort,sortBy:sortBy,split:split,splitAt:splitAt,splitEvery:splitEvery,splitWhen:splitWhen,subtract:subtract,sum:sum,symmetricDifference:symmetricDifference,symmetricDifferenceWith:symmetricDifferenceWith,tail:tail,take:take,takeLast:takeLast,takeLastWhile:takeLastWhile,takeWhile:takeWhile,tap:tap,test:test,times:times,toLower:toLower,toPairs:toPairs,toPairsIn:toPairsIn,toString:toString,toUpper:toUpper,transduce:transduce,transpose:transpose,traverse:traverse,trim:trim,tryCatch:tryCatch,type:type,unapply:unapply,unary:unary,uncurryN:uncurryN,unfold:unfold,union:union,unionWith:unionWith,uniq:uniq,uniqBy:uniqBy,uniqWith:uniqWith,unless:unless,unnest:unnest,until:until,update:update,useWith:useWith,values:values,valuesIn:valuesIn,view:view,when:when,where:where,whereEq:whereEq,without:without,wrap:wrap,xprod:xprod,zip:zip,zipObj:zipObj,zipWith:zipWith};if(true){module.exports=R}else if(typeof define==="function"&&define.amd){define(function(){return R})}else{this.R=R}}).call(this)},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.Immutable=factory()})(this,function(){"use strict";var SLICE$0=Array.prototype.slice;function createClass(ctor,superClass){if(superClass){ctor.prototype=Object.create(superClass.prototype)}ctor.prototype.constructor=ctor}function Iterable(value){return isIterable(value)?value:Seq(value)}createClass(KeyedIterable,Iterable);function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value)}createClass(IndexedIterable,Iterable);function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value)}createClass(SetIterable,Iterable);function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value)}function isIterable(maybeIterable){return!!(maybeIterable&&maybeIterable[IS_ITERABLE_SENTINEL])}function isKeyed(maybeKeyed){return!!(maybeKeyed&&maybeKeyed[IS_KEYED_SENTINEL])}function isIndexed(maybeIndexed){return!!(maybeIndexed&&maybeIndexed[IS_INDEXED_SENTINEL])}function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative)}function isOrdered(maybeOrdered){return!!(maybeOrdered&&maybeOrdered[IS_ORDERED_SENTINEL])}Iterable.isIterable=isIterable;Iterable.isKeyed=isKeyed;Iterable.isIndexed=isIndexed;Iterable.isAssociative=isAssociative;Iterable.isOrdered=isOrdered;Iterable.Keyed=KeyedIterable;Iterable.Indexed=IndexedIterable;Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL="@@__IMMUTABLE_ITERABLE__@@";var IS_KEYED_SENTINEL="@@__IMMUTABLE_KEYED__@@";var IS_INDEXED_SENTINEL="@@__IMMUTABLE_INDEXED__@@";var IS_ORDERED_SENTINEL="@@__IMMUTABLE_ORDERED__@@";var DELETE="delete";var SHIFT=5;var SIZE=1<<SHIFT;var MASK=SIZE-1;var NOT_SET={};var CHANGE_LENGTH={value:false};var DID_ALTER={value:false};function MakeRef(ref){ref.value=false;return ref}function SetRef(ref){ref&&(ref.value=true)}function OwnerID(){}function arrCopy(arr,offset){offset=offset||0;var len=Math.max(0,arr.length-offset);var newArr=new Array(len);for(var ii=0;ii<len;ii++){newArr[ii]=arr[ii+offset]}return newArr}function ensureSize(iter){if(iter.size===undefined){iter.size=iter.__iterate(returnTrue)}return iter.size}function wrapIndex(iter,index){if(typeof index!=="number"){var uint32Index=index>>>0;if(""+uint32Index!==index||uint32Index===4294967295){return NaN}index=uint32Index}return index<0?ensureSize(iter)+index:index}function returnTrue(){return true}function wholeSlice(begin,end,size){return(begin===0||size!==undefined&&begin<=-size)&&(end===undefined||size!==undefined&&end>=size)}function resolveBegin(begin,size){return resolveIndex(begin,size,0)}function resolveEnd(end,size){return resolveIndex(end,size,size)}function resolveIndex(index,size,defaultIndex){return index===undefined?defaultIndex:index<0?Math.max(0,size+index):size===undefined?index:Math.min(size,index)}var ITERATE_KEYS=0;var ITERATE_VALUES=1;var ITERATE_ENTRIES=2;var REAL_ITERATOR_SYMBOL=typeof Symbol==="function"&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL="@@iterator";var ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;function Iterator(next){this.next=next}Iterator.prototype.toString=function(){return"[Iterator]"};Iterator.KEYS=ITERATE_KEYS;Iterator.VALUES=ITERATE_VALUES;Iterator.ENTRIES=ITERATE_ENTRIES;Iterator.prototype.inspect=Iterator.prototype.toSource=function(){return this.toString()};Iterator.prototype[ITERATOR_SYMBOL]=function(){return this};function iteratorValue(type,k,v,iteratorResult){var value=type===0?k:type===1?v:[k,v];iteratorResult?iteratorResult.value=value:iteratorResult={value:value,done:false};return iteratorResult}function iteratorDone(){return{value:undefined,done:true}}function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable)}function isIterator(maybeIterator){return maybeIterator&&typeof maybeIterator.next==="function"}function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable)}function getIteratorFn(iterable){var iteratorFn=iterable&&(REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL]||iterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==="function"){return iteratorFn}}function isArrayLike(value){return value&&typeof value.length==="number"}createClass(Seq,Iterable);function Seq(value){return value===null||value===undefined?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value)}Seq.of=function(){return Seq(arguments)};Seq.prototype.toSeq=function(){return this};Seq.prototype.toString=function(){return this.__toString("Seq {","}")};Seq.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this};Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,true)};Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,true)};createClass(KeyedSeq,Seq);function KeyedSeq(value){return value===null||value===undefined?emptySequence().toKeyedSeq():isIterable(value)?isKeyed(value)?value.toSeq():value.fromEntrySeq():keyedSeqFromValue(value)}KeyedSeq.prototype.toKeyedSeq=function(){return this};createClass(IndexedSeq,Seq);function IndexedSeq(value){return value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value.toIndexedSeq()}IndexedSeq.of=function(){return IndexedSeq(arguments)};IndexedSeq.prototype.toIndexedSeq=function(){return this};IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")};IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,false)};IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,false)};createClass(SetSeq,Seq);function SetSeq(value){return(value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value).toSetSeq()}SetSeq.of=function(){return SetSeq(arguments)};SetSeq.prototype.toSetSeq=function(){return this};Seq.isSeq=isSeq;Seq.Keyed=KeyedSeq;Seq.Set=SetSeq;Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL="@@__IMMUTABLE_SEQ__@@";Seq.prototype[IS_SEQ_SENTINEL]=true;createClass(ArraySeq,IndexedSeq);function ArraySeq(array){this._array=array;this.size=array.length}ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue};ArraySeq.prototype.__iterate=function(fn,reverse){var array=this._array;var maxIndex=array.length-1;for(var ii=0;ii<=maxIndex;ii++){if(fn(array[reverse?maxIndex-ii:ii],ii,this)===false){return ii+1}}return ii};ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array;var maxIndex=array.length-1;var ii=0;return new Iterator(function(){return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])})};createClass(ObjectSeq,KeyedSeq);function ObjectSeq(object){var keys=Object.keys(object);this._object=object;this._keys=keys;this.size=keys.length}ObjectSeq.prototype.get=function(key,notSetValue){if(notSetValue!==undefined&&!this.has(key)){return notSetValue}return this._object[key]};ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key)};ObjectSeq.prototype.__iterate=function(fn,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;for(var ii=0;ii<=maxIndex;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===false){return ii+1}}return ii};ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;var ii=0;return new Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key])})};ObjectSeq.prototype[IS_ORDERED_SENTINEL]=true;createClass(IterableSeq,IndexedSeq);function IterableSeq(iterable){this._iterable=iterable;this.size=iterable.length||iterable.size}IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse)}var iterable=this._iterable;var iterator=getIterator(iterable);var iterations=0;if(isIterator(iterator)){var step;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break}}}return iterations};IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterable=this._iterable;var iterator=getIterator(iterable);if(!isIterator(iterator)){return new Iterator(iteratorDone)}var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value)})};createClass(IteratorSeq,IndexedSeq);function IteratorSeq(iterator){this._iterator=iterator;this._iteratorCache=[]}IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse)}var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;while(iterations<cache.length){if(fn(cache[iterations],iterations++,this)===false){return iterations}}var step;while(!(step=iterator.next()).done){var val=step.value;cache[iterations]=val;if(fn(val,iterations++,this)===false){break}}return iterations};IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;return new Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done){return step}cache[iterations]=step.value}return iteratorValue(type,iterations,cache[iterations++])})};function isSeq(maybeSeq){return!!(maybeSeq&&maybeSeq[IS_SEQ_SENTINEL])}var EMPTY_SEQ;function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]))}function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():typeof value==="object"?new ObjectSeq(value):undefined;if(!seq){throw new TypeError("Expected Array or iterable object of [k, v] entries, "+"or keyed object: "+value)}return seq}function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq){throw new TypeError("Expected Array or iterable object of values: "+value)}return seq}function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||typeof value==="object"&&new ObjectSeq(value);if(!seq){throw new TypeError("Expected Array or iterable object of values, or keyed object: "+value)}return seq}function maybeIndexedSeqFromValue(value){return isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):undefined}function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;for(var ii=0;ii<=maxIndex;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===false){return ii+1}}return ii}return seq.__iterateUncached(fn,reverse)}function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;var ii=0;return new Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1])})}return seq.__iteratorUncached(type,reverse)}function fromJS(json,converter){return converter?fromJSWith(converter,json,"",{"":json}):fromJSDefault(json)}function fromJSWith(converter,json,key,parentJSON){if(Array.isArray(json)){return converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}))}if(isPlainObj(json)){return converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}))}return json}function fromJSDefault(json){if(Array.isArray(json)){return IndexedSeq(json).map(fromJSDefault).toList()}if(isPlainObj(json)){return KeyedSeq(json).map(fromJSDefault).toMap()}return json}function isPlainObj(value){return value&&(value.constructor===Object||value.constructor===undefined)}function is(valueA,valueB){if(valueA===valueB||valueA!==valueA&&valueB!==valueB){return true}if(!valueA||!valueB){return false}if(typeof valueA.valueOf==="function"&&typeof valueB.valueOf==="function"){valueA=valueA.valueOf();valueB=valueB.valueOf();if(valueA===valueB||valueA!==valueA&&valueB!==valueB){return true}if(!valueA||!valueB){return false}}if(typeof valueA.equals==="function"&&typeof valueB.equals==="function"&&valueA.equals(valueB)){return true}return false}function deepEqual(a,b){if(a===b){return true}if(!isIterable(b)||a.size!==undefined&&b.size!==undefined&&a.size!==b.size||a.__hash!==undefined&&b.__hash!==undefined&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b)){return false}if(a.size===0&&b.size===0){return true}var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k))})&&entries.next().done}var flipped=false;if(a.size===undefined){if(b.size===undefined){if(typeof a.cacheResult==="function"){a.cacheResult()}}else{flipped=true;var _=a;a=b;b=_}}var allEqual=true;var bSize=b.__iterate(function(v,k){if(notAssociative?!a.has(v):flipped?!is(v,a.get(k,NOT_SET)):!is(a.get(k,NOT_SET),v)){allEqual=false;return false}});return allEqual&&a.size===bSize}createClass(Repeat,IndexedSeq);function Repeat(value,times){if(!(this instanceof Repeat)){return new Repeat(value,times)}this._value=value;this.size=times===undefined?Infinity:Math.max(0,times);if(this.size===0){if(EMPTY_REPEAT){return EMPTY_REPEAT}EMPTY_REPEAT=this}}Repeat.prototype.toString=function(){if(this.size===0){return"Repeat []"}return"Repeat [ "+this._value+" "+this.size+" times ]"};Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue};Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue)};Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size))};Repeat.prototype.reverse=function(){return this};Repeat.prototype.indexOf=function(searchValue){if(is(this._value,searchValue)){return 0}return-1};Repeat.prototype.lastIndexOf=function(searchValue){if(is(this._value,searchValue)){return this.size}return-1};Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++){if(fn(this._value,ii,this)===false){return ii+1}}return ii};Repeat.prototype.__iterator=function(type,reverse){var this$0=this;var ii=0;return new Iterator(function(){return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()})};Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other)};var EMPTY_REPEAT;function invariant(condition,error){if(!condition)throw new Error(error)}createClass(Range,IndexedSeq);function Range(start,end,step){if(!(this instanceof Range)){return new Range(start,end,step)}invariant(step!==0,"Cannot step a Range by 0");start=start||0;if(end===undefined){end=Infinity}step=step===undefined?1:Math.abs(step);if(end<start){step=-step}this._start=start;this._end=end;this._step=step;this.size=Math.max(0,Math.ceil((end-start)/step-1)+1);if(this.size===0){if(EMPTY_RANGE){return EMPTY_RANGE}EMPTY_RANGE=this}}Range.prototype.toString=function(){if(this.size===0){return"Range []"}return"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"};Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue};Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex)};Range.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this}begin=resolveBegin(begin,this.size);end=resolveEnd(end,this.size);if(end<=begin){return new Range(0,0)}return new Range(this.get(begin,this._end),this.get(end,this._end),this._step)};Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size){return index}}return-1};Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue)};Range.prototype.__iterate=function(fn,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;for(var ii=0;ii<=maxIndex;ii++){if(fn(value,ii,this)===false){return ii+1}value+=reverse?-step:step}return ii};Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;var ii=0;return new Iterator(function(){var v=value;value+=reverse?-step:step;return ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v)})};Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other)};var EMPTY_RANGE;createClass(Collection,Iterable);function Collection(){throw TypeError("Abstract")}createClass(KeyedCollection,Collection);function KeyedCollection(){}createClass(IndexedCollection,Collection);function IndexedCollection(){}createClass(SetCollection,Collection);function SetCollection(){}Collection.Keyed=KeyedCollection;Collection.Indexed=IndexedCollection;Collection.Set=SetCollection;var imul=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function imul(a,b){a=a|0;b=b|0;var c=a&65535;var d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function smi(i32){return i32>>>1&1073741824|i32&3221225471}function hash(o){if(o===false||o===null||o===undefined){return 0}if(typeof o.valueOf==="function"){o=o.valueOf();if(o===false||o===null||o===undefined){return 0}}if(o===true){return 1}var type=typeof o;if(type==="number"){if(o!==o||o===Infinity){return 0}var h=o|0;if(h!==o){h^=o*4294967295}while(o>4294967295){o/=4294967295;h^=o}return smi(h)}if(type==="string"){return o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o)}if(typeof o.hashCode==="function"){return o.hashCode()}if(type==="object"){return hashJSObj(o)}if(typeof o.toString==="function"){return hashString(o.toString())}throw new Error("Value type "+type+" cannot be hashed.")}function cachedHashString(string){var hash=stringHashCache[string];if(hash===undefined){hash=hashString(string);if(STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE){STRING_HASH_CACHE_SIZE=0;stringHashCache={}}STRING_HASH_CACHE_SIZE++;stringHashCache[string]=hash}return hash}function hashString(string){var hash=0;for(var ii=0;ii<string.length;ii++){hash=31*hash+string.charCodeAt(ii)|0}return smi(hash)}function hashJSObj(obj){var hash;if(usingWeakMap){hash=weakMap.get(obj);if(hash!==undefined){return hash}}hash=obj[UID_HASH_KEY];if(hash!==undefined){return hash}if(!canDefineProperty){hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY];if(hash!==undefined){return hash}hash=getIENodeHash(obj);if(hash!==undefined){return hash}}hash=++objHashUID;if(objHashUID&1073741824){objHashUID=0}if(usingWeakMap){weakMap.set(obj,hash)}else if(isExtensible!==undefined&&isExtensible(obj)===false){throw new Error("Non-extensible objects are not allowed as keys.")}else if(canDefineProperty){Object.defineProperty(obj,UID_HASH_KEY,{enumerable:false,configurable:false,writable:false,value:hash})}else if(obj.propertyIsEnumerable!==undefined&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable){obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};obj.propertyIsEnumerable[UID_HASH_KEY]=hash}else if(obj.nodeType!==undefined){obj[UID_HASH_KEY]=hash}else{throw new Error("Unable to set a non-enumerable property on object.")}return hash}var isExtensible=Object.isExtensible;var canDefineProperty=function(){try{Object.defineProperty({},"@",{});return true}catch(e){return false}}();function getIENodeHash(node){if(node&&node.nodeType>0){switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID}}}var usingWeakMap=typeof WeakMap==="function";var weakMap;if(usingWeakMap){weakMap=new WeakMap}var objHashUID=0;var UID_HASH_KEY="__immutablehash__";if(typeof Symbol==="function"){UID_HASH_KEY=Symbol(UID_HASH_KEY)}var STRING_HASH_CACHE_MIN_STRLEN=16;var STRING_HASH_CACHE_MAX_SIZE=255;var STRING_HASH_CACHE_SIZE=0;var stringHashCache={};function assertNotInfinite(size){invariant(size!==Infinity,"Cannot perform this action with an infinite size.")}createClass(Map,KeyedCollection);function Map(value){return value===null||value===undefined?emptyMap():isMap(value)&&!isOrdered(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)})})}Map.of=function(){var keyValues=SLICE$0.call(arguments,0);return emptyMap().withMutations(function(map){for(var i=0;i<keyValues.length;i+=2){if(i+1>=keyValues.length){throw new Error("Missing value for key: "+keyValues[i])}map.set(keyValues[i],keyValues[i+1])}})};Map.prototype.toString=function(){return this.__toString("Map {","}")};Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,undefined,k,notSetValue):notSetValue};Map.prototype.set=function(k,v){return updateMap(this,k,v)};Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v})};Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET)};Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET})};Map.prototype.update=function(k,notSetValue,updater){return arguments.length===1?k(this):this.updateIn([k],notSetValue,updater)};Map.prototype.updateIn=function(keyPath,notSetValue,updater){if(!updater){updater=notSetValue;notSetValue=undefined}var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?undefined:updatedValue};Map.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this}return emptyMap()};Map.prototype.merge=function(){return mergeIntoMapWith(this,undefined,arguments)};Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters)};Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.merge==="function"?m.merge.apply(m,iters):iters[iters.length-1]})};Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger,arguments)};Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMergerWith(merger),iters)};Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.mergeDeep==="function"?m.mergeDeep.apply(m,iters):iters[iters.length-1]})};Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator))};Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper))};Map.prototype.withMutations=function(fn){var mutable=this.asMutable();fn(mutable);return mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this};Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)};Map.prototype.asImmutable=function(){return this.__ensureOwner()};Map.prototype.wasAltered=function(){return this.__altered};Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse)};Map.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;this._root&&this._root.iterate(function(entry){iterations++;return fn(entry[1],entry[0],this$0)},reverse);return iterations};Map.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this}return makeMap(this.size,this._root,ownerID,this.__hash)};function isMap(maybeMap){return!!(maybeMap&&maybeMap[IS_MAP_SENTINEL])}Map.isMap=isMap;var IS_MAP_SENTINEL="@@__IMMUTABLE_MAP__@@";var MapPrototype=Map.prototype;MapPrototype[IS_MAP_SENTINEL]=true;MapPrototype[DELETE]=MapPrototype.remove;MapPrototype.removeIn=MapPrototype.deleteIn;function ArrayMapNode(ownerID,entries){this.ownerID=ownerID;this.entries=entries}ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1]}}return notSetValue};ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break}}var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this}SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&entries.length===1){return}if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE){return createNodes(ownerID,entries,key,value)}var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop()}else{newEntries[idx]=[key,value]}}else{newEntries.push([key,value])}if(isEditable){this.entries=newEntries;return this}return new ArrayMapNode(ownerID,newEntries)};function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID;this.bitmap=bitmap;this.nodes=nodes}BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key)}var bit=1<<((shift===0?keyHash:keyHash>>>shift)&MASK);var bitmap=this.bitmap;return(bitmap&bit)===0?notSetValue:this.nodes[popCount(bitmap&bit-1)].get(shift+SHIFT,keyHash,key,notSetValue)};BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key)}var keyHashFrag=(shift===0?keyHash:keyHash>>>shift)&MASK;var bit=1<<keyHashFrag;var bitmap=this.bitmap;var exists=(bitmap&bit)!==0;if(!exists&&value===NOT_SET){return this}var idx=popCount(bitmap&bit-1);var nodes=this.nodes;var node=exists?nodes[idx]:undefined;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this}if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE){return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode)}if(exists&&!newNode&&nodes.length===2&&isLeafNode(nodes[idx^1])){return nodes[idx^1]}if(exists&&newNode&&nodes.length===1&&isLeafNode(newNode)){return newNode}var isEditable=ownerID&&ownerID===this.ownerID;var newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit;var newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);if(isEditable){this.bitmap=newBitmap;this.nodes=newNodes;return this}return new BitmapIndexedNode(ownerID,newBitmap,newNodes)};function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID;this.count=count;this.nodes=nodes}HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key)}var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue};HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key)}var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var removed=value===NOT_SET;var nodes=this.nodes;var node=nodes[idx];if(removed&&!node){return this}var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this}var newCount=this.count;if(!node){newCount++}else if(!newNode){newCount--;if(newCount<MIN_HASH_ARRAY_MAP_SIZE){return packNodes(ownerID,nodes,newCount,idx)}}var isEditable=ownerID&&ownerID===this.ownerID;var newNodes=setIn(nodes,idx,newNode,isEditable);if(isEditable){this.count=newCount;this.nodes=newNodes;return this}return new HashArrayMapNode(ownerID,newCount,newNodes)};function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID;this.keyHash=keyHash;this.entries=entries}HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1]}}return notSetValue};HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key)}var removed=value===NOT_SET;if(keyHash!==this.keyHash){if(removed){return this}SetRef(didAlter);SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,keyHash,[key,value])}var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break}}var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this}SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&len===2){return new ValueNode(ownerID,this.keyHash,entries[idx^1])}var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop()}else{newEntries[idx]=[key,value]}}else{newEntries.push([key,value])}if(isEditable){this.entries=newEntries;return this}return new HashCollisionNode(ownerID,this.keyHash,newEntries)};function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID;this.keyHash=keyHash;this.entry=entry}ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue};ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var keyMatch=is(key,this.entry[0]);if(keyMatch?value===this.entry[1]:removed){return this}SetRef(didAlter);if(removed){SetRef(didChangeSize);return}if(keyMatch){if(ownerID&&ownerID===this.ownerID){this.entry[1]=value;return this}return new ValueNode(ownerID,this.keyHash,[key,value])}SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,hash(key),[key,value])};ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){var entries=this.entries;for(var ii=0,maxIndex=entries.length-1;ii<=maxIndex;ii++){if(fn(entries[reverse?maxIndex-ii:ii])===false){return false}}};BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){var nodes=this.nodes;for(var ii=0,maxIndex=nodes.length-1;ii<=maxIndex;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===false){return false}}};ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry)};createClass(MapIterator,Iterator);function MapIterator(map,type,reverse){this._type=type;this._reverse=reverse;this._stack=map._root&&mapIteratorFrame(map._root)}MapIterator.prototype.next=function(){var type=this._type;var stack=this._stack;while(stack){var node=stack.node;var index=stack.index++;var maxIndex;if(node.entry){if(index===0){return mapIteratorValue(type,node.entry)}}else if(node.entries){maxIndex=node.entries.length-1;if(index<=maxIndex){return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index])}}else{maxIndex=node.nodes.length-1;if(index<=maxIndex){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry){return mapIteratorValue(type,subNode.entry)}stack=this._stack=mapIteratorFrame(subNode,stack)}continue}}stack=this._stack=this._stack.__prev}return iteratorDone()};function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1])}function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev}}function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);map.size=size;map._root=root;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map}var EMPTY_MAP;function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0))}function updateMap(map,k,v){var newRoot;var newSize;if(!map._root){if(v===NOT_SET){return map}newSize=1;newRoot=new ArrayMapNode(map.__ownerID,[[k,v]])}else{var didChangeSize=MakeRef(CHANGE_LENGTH);var didAlter=MakeRef(DID_ALTER);newRoot=updateNode(map._root,map.__ownerID,0,undefined,k,v,didChangeSize,didAlter);if(!didAlter.value){return map}newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0)}if(map.__ownerID){map.size=newSize;map._root=newRoot;map.__hash=undefined;map.__altered=true;return map}return newRoot?makeMap(newSize,newRoot):emptyMap()}function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(!node){if(value===NOT_SET){return node}SetRef(didAlter);SetRef(didChangeSize);return new ValueNode(ownerID,keyHash,[key,value])}return node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter)}function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode}function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash){return new HashCollisionNode(ownerID,keyHash,[node.entry,entry])}var idx1=(shift===0?node.keyHash:node.keyHash>>>shift)&MASK;var idx2=(shift===0?keyHash:keyHash>>>shift)&MASK;var newNode;var nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:(newNode=new ValueNode(ownerID,keyHash,entry),idx1<idx2?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,1<<idx1|1<<idx2,nodes)}function createNodes(ownerID,entries,key,value){if(!ownerID){ownerID=new OwnerID}var node=new ValueNode(ownerID,hash(key),[key,value]);for(var ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,undefined,entry[0],entry[1])}return node}function packNodes(ownerID,nodes,count,excluding){var bitmap=0;var packedII=0;var packedNodes=new Array(count);for(var ii=0,bit=1,len=nodes.length;ii<len;ii++,bit<<=1){var node=nodes[ii];if(node!==undefined&&ii!==excluding){bitmap|=bit;packedNodes[packedII++]=node}}return new BitmapIndexedNode(ownerID,bitmap,packedNodes)}function expandNodes(ownerID,nodes,bitmap,including,node){var count=0;var expandedNodes=new Array(SIZE);for(var ii=0;bitmap!==0;ii++,bitmap>>>=1){expandedNodes[ii]=bitmap&1?nodes[count++]:undefined}expandedNodes[including]=node;return new HashArrayMapNode(ownerID,count+1,expandedNodes)}function mergeIntoMapWith(map,merger,iterables){var iters=[];for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=KeyedIterable(value);if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)})}iters.push(iter)}return mergeIntoCollectionWith(map,merger,iters)}function deepMerger(existing,value,key){return existing&&existing.mergeDeep&&isIterable(value)?existing.mergeDeep(value):is(existing,value)?existing:value}function deepMergerWith(merger){return function(existing,value,key){if(existing&&existing.mergeDeepWith&&isIterable(value)){return existing.mergeDeepWith(merger,value)}var nextValue=merger(existing,value,key);return is(existing,nextValue)?existing:nextValue}}function mergeIntoCollectionWith(collection,merger,iters){iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return collection}if(collection.size===0&&!collection.__ownerID&&iters.length===1){return collection.constructor(iters[0])}return collection.withMutations(function(collection){var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing){return existing===NOT_SET?value:merger(existing,value,key)})}:function(value,key){collection.set(key,value)};for(var ii=0;ii<iters.length;ii++){iters[ii].forEach(mergeIntoMap)}})}function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET;var step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing;var newValue=updater(existingValue);return newValue===existingValue?existing:newValue}invariant(isNotSet||existing&&existing.set,"invalid keyPath");var key=step.value;var nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET);var nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated)}function popCount(x){x=x-(x>>1&1431655765);x=(x&858993459)+(x>>2&858993459);x=x+(x>>4)&252645135;x=x+(x>>8);x=x+(x>>16);return x&127}function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);newArray[idx]=val;return newArray}function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen){array[idx]=val;return array}var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){newArray[ii]=val;after=-1}else{newArray[ii]=array[ii+after]}}return newArray}function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen){array.pop();return array}var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){after=1}newArray[ii]=array[ii+after]}return newArray}var MAX_ARRAY_MAP_SIZE=SIZE/4;var MAX_BITMAP_INDEXED_SIZE=SIZE/2;var MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection);function List(value){var empty=emptyList();if(value===null||value===undefined){return empty}if(isList(value)){return value}var iter=IndexedIterable(value);var size=iter.size;if(size===0){return empty}assertNotInfinite(size);if(size>0&&size<SIZE){return makeList(0,size,SHIFT,null,new VNode(iter.toArray()))}return empty.withMutations(function(list){list.setSize(size);iter.forEach(function(v,i){return list.set(i,v)})})}List.of=function(){return this(arguments)};List.prototype.toString=function(){return this.__toString("List [","]")};List.prototype.get=function(index,notSetValue){index=wrapIndex(this,index);if(index>=0&&index<this.size){index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK]}return notSetValue};List.prototype.set=function(index,value){return updateList(this,index,value)};List.prototype.remove=function(index){return!this.has(index)?this:index===0?this.shift():index===this.size-1?this.pop():this.splice(index,1)};List.prototype.insert=function(index,value){return this.splice(index,0,value)};List.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=SHIFT;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this}return emptyList()};List.prototype.push=function(){var values=arguments;var oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++){list.set(oldSize+ii,values[ii])}})};List.prototype.pop=function(){return setListBounds(this,0,-1)};List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++){list.set(ii,values[ii])}})};List.prototype.shift=function(){return setListBounds(this,1)};List.prototype.merge=function(){return mergeIntoListWith(this,undefined,arguments)};List.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters)};List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger,arguments)};List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMergerWith(merger),iters)};List.prototype.setSize=function(size){return setListBounds(this,0,size)};List.prototype.slice=function(begin,end){var size=this.size;if(wholeSlice(begin,end,size)){return this}return setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size))};List.prototype.__iterator=function(type,reverse){var index=0;var values=iterateList(this,reverse);return new Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value)})};List.prototype.__iterate=function(fn,reverse){var index=0;var values=iterateList(this,reverse);var value;while((value=values())!==DONE){if(fn(value,index++,this)===false){break}}return index};List.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}if(!ownerID){this.__ownerID=ownerID;return this}return makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash)};function isList(maybeList){return!!(maybeList&&maybeList[IS_LIST_SENTINEL])}List.isList=isList;var IS_LIST_SENTINEL="@@__IMMUTABLE_LIST__@@";var ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=true;ListPrototype[DELETE]=ListPrototype.remove;ListPrototype.setIn=MapPrototype.setIn;ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn;ListPrototype.update=MapPrototype.update;ListPrototype.updateIn=MapPrototype.updateIn;ListPrototype.mergeIn=MapPrototype.mergeIn;ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;ListPrototype.withMutations=MapPrototype.withMutations;ListPrototype.asMutable=MapPrototype.asMutable;ListPrototype.asImmutable=MapPrototype.asImmutable;ListPrototype.wasAltered=MapPrototype.wasAltered;function VNode(array,ownerID){this.array=array;this.ownerID=ownerID}VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||this.array.length===0){return this}var originIndex=index>>>level&MASK;if(originIndex>=this.array.length){return new VNode([],ownerID)}var removingFirst=originIndex===0;var newChild;if(level>0){var oldChild=this.array[originIndex];newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index);if(newChild===oldChild&&removingFirst){return this}}if(removingFirst&&!newChild){return this}var editable=editableVNode(this,ownerID);if(!removingFirst){for(var ii=0;ii<originIndex;ii++){editable.array[ii]=undefined}}if(newChild){editable.array[originIndex]=newChild}return editable};VNode.prototype.removeAfter=function(ownerID,level,index){if(index===(level?1<<level:0)||this.array.length===0){return this}var sizeIndex=index-1>>>level&MASK;if(sizeIndex>=this.array.length){return this}var newChild;if(level>0){var oldChild=this.array[sizeIndex];newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index);if(newChild===oldChild&&sizeIndex===this.array.length-1){return this}}var editable=editableVNode(this,ownerID);editable.array.splice(sizeIndex+1);if(newChild){editable.array[sizeIndex]=newChild}return editable};var DONE={};function iterateList(list,reverse){var left=list._origin;var right=list._capacity;var tailPos=getTailOffset(right);var tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0);function iterateNodeOrLeaf(node,level,offset){return level===0?iterateLeaf(node,offset):iterateNode(node,level,offset)}function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array;var from=offset>left?0:left-offset;var to=right-offset;if(to>SIZE){to=SIZE}return function(){if(from===to){return DONE}var idx=reverse?--to:from++;return array&&array[idx]}}function iterateNode(node,level,offset){var values;var array=node&&node.array;var from=offset>left?0:left-offset>>level;var to=(right-offset>>level)+1;if(to>SIZE){to=SIZE}return function(){do{if(values){var value=values();if(value!==DONE){return value}values=null}if(from===to){return DONE}var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level))}while(true)}}}function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);list.size=capacity-origin;list._origin=origin;list._capacity=capacity;list._level=level;list._root=root;list._tail=tail;list.__ownerID=ownerID;list.__hash=hash;list.__altered=false;return list}var EMPTY_LIST;function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT))}function updateList(list,index,value){index=wrapIndex(list,index);if(index!==index){return list}if(index>=list.size||index<0){return list.withMutations(function(list){index<0?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)})}index+=list._origin;var newTail=list._tail;var newRoot=list._root;var didAlter=MakeRef(DID_ALTER);if(index>=getTailOffset(list._capacity)){newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter)}else{newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter)}if(!didAlter.value){return list}if(list.__ownerID){list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list}return makeList(list._origin,list._capacity,list._level,newRoot,newTail)}function updateVNode(node,ownerID,level,index,value,didAlter){var idx=index>>>level&MASK;var nodeHas=node&&idx<node.array.length;if(!nodeHas&&value===undefined){return node}var newNode;if(level>0){var lowerNode=node&&node.array[idx];var newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);if(newLowerNode===lowerNode){return node}newNode=editableVNode(node,ownerID);newNode.array[idx]=newLowerNode;return newNode}if(nodeHas&&node.array[idx]===value){return node}SetRef(didAlter);newNode=editableVNode(node,ownerID);if(value===undefined&&idx===newNode.array.length-1){newNode.array.pop()}else{newNode.array[idx]=value}return newNode}function editableVNode(node,ownerID){if(ownerID&&node&&ownerID===node.ownerID){return node}return new VNode(node?node.array.slice():[],ownerID)}function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity)){return list._tail}if(rawIndex<1<<list._level+SHIFT){var node=list._root;var level=list._level;while(node&&level>0){node=node.array[rawIndex>>>level&MASK];level-=SHIFT}return node}}function setListBounds(list,begin,end){if(begin!==undefined){begin=begin|0}if(end!==undefined){end=end|0}var owner=list.__ownerID||new OwnerID;var oldOrigin=list._origin;var oldCapacity=list._capacity;var newOrigin=oldOrigin+begin;var newCapacity=end===undefined?oldCapacity:end<0?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity){return list}if(newOrigin>=newCapacity){return list.clear()}var newLevel=list._level;var newRoot=list._root;var offsetShift=0;while(newOrigin+offsetShift<0){newRoot=new VNode(newRoot&&newRoot.array.length?[undefined,newRoot]:[],owner);newLevel+=SHIFT;offsetShift+=1<<newLevel}if(offsetShift){newOrigin+=offsetShift;oldOrigin+=offsetShift;newCapacity+=offsetShift;oldCapacity+=offsetShift}var oldTailOffset=getTailOffset(oldCapacity);var newTailOffset=getTailOffset(newCapacity);while(newTailOffset>=1<<newLevel+SHIFT){newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner);newLevel+=SHIFT}var oldTail=list._tail;var newTail=newTailOffset<oldTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&newOrigin<oldCapacity&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);var node=newRoot;for(var level=newLevel;level>SHIFT;level-=SHIFT){var idx=oldTailOffset>>>level&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner)}node.array[oldTailOffset>>>SHIFT&MASK]=oldTail}if(newCapacity<oldCapacity){newTail=newTail&&newTail.removeAfter(owner,0,newCapacity)}if(newOrigin>=newTailOffset){newOrigin-=newTailOffset;newCapacity-=newTailOffset;newLevel=SHIFT;newRoot=null;newTail=newTail&&newTail.removeBefore(owner,0,newOrigin)}else if(newOrigin>oldOrigin||newTailOffset<oldTailOffset){offsetShift=0;while(newRoot){var beginIndex=newOrigin>>>newLevel&MASK;if(beginIndex!==newTailOffset>>>newLevel&MASK){break}if(beginIndex){offsetShift+=(1<<newLevel)*beginIndex}newLevel-=SHIFT;newRoot=newRoot.array[beginIndex]}if(newRoot&&newOrigin>oldOrigin){newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift)}if(newRoot&&newTailOffset<oldTailOffset){newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift)}if(offsetShift){newOrigin-=offsetShift;newCapacity-=offsetShift}}if(list.__ownerID){list.size=newCapacity-newOrigin;list._origin=newOrigin;list._capacity=newCapacity;list._level=newLevel;list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list}return makeList(newOrigin,newCapacity,newLevel,newRoot,newTail)}function mergeIntoListWith(list,merger,iterables){var iters=[];var maxSize=0;for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=IndexedIterable(value);if(iter.size>maxSize){maxSize=iter.size}if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)})}iters.push(iter)}if(maxSize>list.size){list=list.setSize(maxSize)}return mergeIntoCollectionWith(list,merger,iters)}function getTailOffset(size){return size<SIZE?0:size-1>>>SHIFT<<SHIFT}createClass(OrderedMap,Map);function OrderedMap(value){return value===null||value===undefined?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)})})}OrderedMap.of=function(){return this(arguments)};OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")};OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return index!==undefined?this._list.get(index)[1]:notSetValue};OrderedMap.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return emptyOrderedMap()};OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v)};OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET)};OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse)};OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse)};OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}var newMap=this._map.__ensureOwner(ownerID);var newList=this._list.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;this._list=newList;return this}return makeOrderedMap(newMap,newList,ownerID,this.__hash)};function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap)}OrderedMap.isOrderedMap=isOrderedMap;OrderedMap.prototype[IS_ORDERED_SENTINEL]=true;OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);omap.size=map?map.size:0;omap._map=map;omap._list=list;omap.__ownerID=ownerID;omap.__hash=hash;return omap}var EMPTY_ORDERED_MAP;function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(omap,k,v){var map=omap._map;var list=omap._list;var i=map.get(k);var has=i!==undefined;var newMap;var newList;if(v===NOT_SET){if(!has){return omap}if(list.size>=SIZE&&list.size>=map.size*2){newList=list.filter(function(entry,idx){return entry!==undefined&&i!==idx});newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap();if(omap.__ownerID){newMap.__ownerID=newList.__ownerID=omap.__ownerID}}else{newMap=map.remove(k);newList=i===list.size-1?list.pop():list.set(i,undefined)}}else{if(has){if(v===list.get(i)[1]){return omap}newMap=map;newList=list.set(i,[k,v])}else{newMap=map.set(k,list.size);newList=list.set(list.size,[k,v])}}if(omap.__ownerID){omap.size=newMap.size;omap._map=newMap;omap._list=newList;omap.__hash=undefined;return omap}return makeOrderedMap(newMap,newList)}createClass(ToKeyedSequence,KeyedSeq);function ToKeyedSequence(indexed,useKeys){this._iter=indexed;this._useKeys=useKeys;this.size=indexed.size}ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue)};ToKeyedSequence.prototype.has=function(key){return this._iter.has(key)};ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()};ToKeyedSequence.prototype.reverse=function(){var this$0=this;var reversedSequence=reverseFactory(this,true);if(!this._useKeys){reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()}}return reversedSequence};ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this;var mappedSequence=mapFactory(this,mapper,context);if(!this._useKeys){mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)}}return mappedSequence};ToKeyedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var ii;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:(ii=reverse?resolveSize(this):0,function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse)};ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys){return this._iter.__iterator(type,reverse)}var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var ii=reverse?resolveSize(this):0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step)})};ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=true;createClass(ToIndexedSequence,IndexedSeq);function ToIndexedSequence(iter){this._iter=iter;this.size=iter.size}ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value)};ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse)};ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)})};createClass(ToSetSequence,SetSeq);function ToSetSequence(iter){this._iter=iter;this.size=iter.size}ToSetSequence.prototype.has=function(key){return this._iter.includes(key)};ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse)};ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step)})};createClass(FromEntriesSequence,KeyedSeq);function FromEntriesSequence(entries){this._iter=entries;this.size=entries.size}FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()};FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0)}},reverse)};FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step}var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step)}}})};ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough;function flipFactory(iterable){var flipSequence=makeSequence(iterable);flipSequence._iter=iterable;flipSequence.size=iterable.size;flipSequence.flip=function(){return iterable};flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);reversedSequence.flip=function(){return iterable.reverse()};return reversedSequence};flipSequence.has=function(key){return iterable.includes(key)};flipSequence.includes=function(key){return iterable.has(key)};flipSequence.cacheResult=cacheResultThrough;flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==false},reverse)};flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1];step.value[1]=k}return step})}return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse)};return flipSequence}function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);mappedSequence.size=iterable.size;mappedSequence.has=function(key){return iterable.has(key)};mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable)};mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==false},reverse)};mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new Iterator(function(){var step=iterator.next();if(step.done){return step}var entry=step.value;var key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step)})};return mappedSequence}function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);reversedSequence._iter=iterable;reversedSequence.size=iterable.size;reversedSequence.reverse=function(){return iterable};if(iterable.flip){reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);flipSequence.reverse=function(){return iterable.flip()};return flipSequence}}reversedSequence.get=function(key,notSetValue){return iterable.get(useKeys?key:-1-key,notSetValue)};reversedSequence.has=function(key){return iterable.has(useKeys?key:-1-key)};reversedSequence.includes=function(value){return iterable.includes(value)};reversedSequence.cacheResult=cacheResultThrough;reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse)};reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)};return reversedSequence}function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);if(useKeys){filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable)};filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue}}filterSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){iterations++;return fn(v,useKeys?k:iterations-1,this$0)}},reverse);return iterations};filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterations=0;return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step}var entry=step.value;var key=entry[0];var value=entry[1];if(predicate.call(context,value,key,iterable)){return iteratorValue(type,useKeys?key:iterations++,value,step)}}})};return filterSequence}function countByFactory(iterable,grouper,context){var groups=Map().asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1})});return groups.asImmutable()}function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable);var groups=(isOrdered(iterable)?OrderedMap():Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return a=a||[],a.push(isKeyedIter?[k,v]:v),a})});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))})}function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(begin!==undefined){begin=begin|0}if(end!==undefined){if(end===Infinity){end=originalSize}else{end=end|0}}if(wholeSlice(begin,end,originalSize)){return iterable}var resolvedBegin=resolveBegin(begin,originalSize);var resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd){return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys)}var resolvedSize=resolvedEnd-resolvedBegin;var sliceSize;if(resolvedSize===resolvedSize){sliceSize=resolvedSize<0?0:resolvedSize}var sliceSeq=makeSequence(iterable);sliceSeq.size=sliceSize===0?sliceSize:iterable.size&&sliceSize||undefined;if(!useKeys&&isSeq(iterable)&&sliceSize>=0){sliceSeq.get=function(index,notSetValue){index=wrapIndex(this,index);return index>=0&&index<sliceSize?iterable.get(index+resolvedBegin,notSetValue):notSetValue}}sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(sliceSize===0){return 0}if(reverse){return this.cacheResult().__iterate(fn,reverse)}var skipped=0;var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k){if(!(isSkipping&&(isSkipping=skipped++<resolvedBegin))){iterations++;return fn(v,useKeys?k:iterations-1,this$0)!==false&&iterations!==sliceSize}});return iterations};sliceSeq.__iteratorUncached=function(type,reverse){if(sliceSize!==0&&reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=sliceSize!==0&&iterable.__iterator(type,reverse);var skipped=0;var iterations=0;return new Iterator(function(){while(skipped++<resolvedBegin){iterator.next()}if(++iterations>sliceSize){return iteratorDone()}var step=iterator.next();if(useKeys||type===ITERATE_VALUES){return step}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations-1,undefined,step)}else{return iteratorValue(type,iterations-1,step.value[1],step)}})};return sliceSeq}function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse)}var iterations=0;iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)});return iterations};takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterating=true;return new Iterator(function(){if(!iterating){return iteratorDone()}var step=iterator.next();if(step.done){return step}var entry=step.value;var k=entry[0];var v=entry[1];if(!predicate.call(context,v,k,this$0)){iterating=false;return iteratorDone()}return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})};return takeSequence}function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse)}var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k,c){if(!(isSkipping&&(isSkipping=predicate.call(context,v,k,c)))){iterations++;return fn(v,useKeys?k:iterations-1,this$0)}});return iterations};skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var skipping=true;var iterations=0;return new Iterator(function(){var step,k,v;do{step=iterator.next();if(step.done){if(useKeys||type===ITERATE_VALUES){return step}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations++,undefined,step)}else{return iteratorValue(type,iterations++,step.value[1],step)}}var entry=step.value;k=entry[0];v=entry[1];skipping&&(skipping=predicate.call(context,v,k,this$0))}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})};return skipSequence}function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable);var iters=[iterable].concat(values).map(function(v){if(!isIterable(v)){v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v])}else if(isKeyedIterable){v=KeyedIterable(v)}return v}).filter(function(v){return v.size!==0});if(iters.length===0){return iterable}if(iters.length===1){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton)){return singleton}}var concatSeq=new ArraySeq(iters);if(isKeyedIterable){concatSeq=concatSeq.toKeyedSeq()}else if(!isIndexed(iterable)){concatSeq=concatSeq.toSetSeq()}concatSeq=concatSeq.flatten(true);concatSeq.size=iters.reduce(function(sum,seq){if(sum!==undefined){var size=seq.size;if(size!==undefined){return sum+size}}},0);return concatSeq}function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);flatSequence.__iterateUncached=function(fn,reverse){var iterations=0;var stopped=false;function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){if((!depth||currentDepth<depth)&&isIterable(v)){flatDeep(v,currentDepth+1)}else if(fn(v,useKeys?k:iterations++,this$0)===false){stopped=true}return!stopped},reverse)}flatDeep(iterable,0);return iterations};flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse);var stack=[];var iterations=0;return new Iterator(function(){while(iterator){var step=iterator.next();if(step.done!==false){iterator=stack.pop();continue}var v=step.value;if(type===ITERATE_ENTRIES){v=v[1]}if((!depth||stack.length<depth)&&isIterable(v)){stack.push(iterator);iterator=v.__iterator(type,reverse)}else{return useKeys?step:iteratorValue(type,iterations++,v,step)}}return iteratorDone()})};return flatSequence}function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(true)}function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);interposedSequence.size=iterable.size&&iterable.size*2-1;interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k){return(!iterations||fn(separator,iterations++,this$0)!==false)&&fn(v,iterations++,this$0)!==false},reverse);return iterations};interposedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_VALUES,reverse);var iterations=0;var step;return new Iterator(function(){if(!step||iterations%2){step=iterator.next();if(step.done){return step}}return iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step)})};return interposedSequence}function sortFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator}var isKeyedIterable=isKeyed(iterable);var index=0;var entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2}:function(v,i){entries[i]=v[1]});return isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries)}function maxFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator}if(mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0]}else{return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a})}}function maxCompare(comparator,a,b){var comp=comparator(b,a);return comp===0&&b!==a&&(b===undefined||b===null||b!==b)||comp>0}function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min();zipSequence.__iterate=function(fn,reverse){var iterator=this.__iterator(ITERATE_VALUES,reverse);var step;var iterations=0;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break}}return iterations};zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i){return i=Iterable(i),getIterator(reverse?i.reverse():i)});var iterations=0;var isDone=false;return new Iterator(function(){var steps;if(!isDone){steps=iterators.map(function(i){return i.next()});isDone=steps.some(function(s){return s.done})}if(isDone){return iteratorDone()}return iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})))})};return zipSequence}function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq)}function validateEntry(entry){if(entry!==Object(entry)){throw new TypeError("Expected [K, V] tuple: "+entry)}}function resolveSize(iter){assertNotInfinite(iter.size);return ensureSize(iter)}function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable}function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else{return Seq.prototype.cacheResult.call(this)}}function defaultComparator(a,b){return a>b?1:a<b?-1:0}function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath)){throw new TypeError("Expected iterable or array-like: "+keyPath)}iter=getIterator(Iterable(keyPath))}return iter}createClass(Record,KeyedCollection);function Record(defaultValues,name){var hasInitialized;var RecordType=function Record(values){if(values instanceof RecordType){return values}if(!(this instanceof RecordType)){return new RecordType(values)}if(!hasInitialized){hasInitialized=true;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys);RecordTypePrototype.size=keys.length;RecordTypePrototype._name=name;RecordTypePrototype._keys=keys;RecordTypePrototype._defaultValues=defaultValues}this._map=Map(values)};var RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);RecordTypePrototype.constructor=RecordType;return RecordType}Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")};Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k)};Record.prototype.get=function(k,notSetValue){if(!this.has(k)){return notSetValue}var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal};Record.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()))};Record.prototype.set=function(k,v){if(!this.has(k)){throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this))}if(this._map&&!this._map.has(k)){var defaultVal=this._defaultValues[k];if(v===defaultVal){return this}}var newMap=this._map&&this._map.set(k,v);if(this.__ownerID||newMap===this._map){return this}return makeRecord(this,newMap)};Record.prototype.remove=function(k){if(!this.has(k)){return this}var newMap=this._map&&this._map.remove(k);if(this.__ownerID||newMap===this._map){return this}return makeRecord(this,newMap)};Record.prototype.wasAltered=function(){return this._map.wasAltered()};Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse)};Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse)};Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}var newMap=this._map&&this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this}return makeRecord(this,newMap,ownerID)};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove;RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn;RecordPrototype.merge=MapPrototype.merge;RecordPrototype.mergeWith=MapPrototype.mergeWith;RecordPrototype.mergeIn=MapPrototype.mergeIn;RecordPrototype.mergeDeep=MapPrototype.mergeDeep;RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith;RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;RecordPrototype.setIn=MapPrototype.setIn;RecordPrototype.update=MapPrototype.update;RecordPrototype.updateIn=MapPrototype.updateIn;RecordPrototype.withMutations=MapPrototype.withMutations;RecordPrototype.asMutable=MapPrototype.asMutable;RecordPrototype.asImmutable=MapPrototype.asImmutable;function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));record._map=map;record.__ownerID=ownerID;return record}function recordName(record){return record._name||record.constructor.name||"Record"}function setProps(prototype,names){try{names.forEach(setProp.bind(undefined,prototype))}catch(error){}}function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name)},set:function(value){invariant(this.__ownerID,"Cannot set on an immutable record.");this.set(name,value)}})}createClass(Set,SetCollection);function Set(value){return value===null||value===undefined?emptySet():isSet(value)&&!isOrdered(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)})})}Set.of=function(){return this(arguments)};Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq())};Set.prototype.toString=function(){return this.__toString("Set {","}")};Set.prototype.has=function(value){return this._map.has(value)};Set.prototype.add=function(value){return updateSet(this,this._map.set(value,true))};Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value))};Set.prototype.clear=function(){return updateSet(this,this._map.clear())};Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return this}if(this.size===0&&!this.__ownerID&&iters.length===1){return this.constructor(iters[0])}return this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++){SetIterable(iters[ii]).forEach(function(value){return set.add(value)})}})};Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this}iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(!iters.every(function(iter){return iter.includes(value)})){set.remove(value)}})})};Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this}iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(iters.some(function(iter){return iter.includes(value)})){set.remove(value)}})})};Set.prototype.merge=function(){return this.union.apply(this,arguments)};Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters)};Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator))};Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper))};Set.prototype.wasAltered=function(){return this._map.wasAltered()};Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse)};Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse)};Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}var newMap=this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this}return this.__make(newMap,ownerID)};function isSet(maybeSet){return!!(maybeSet&&maybeSet[IS_SET_SENTINEL])}Set.isSet=isSet;var IS_SET_SENTINEL="@@__IMMUTABLE_SET__@@";var SetPrototype=Set.prototype;SetPrototype[IS_SET_SENTINEL]=true;SetPrototype[DELETE]=SetPrototype.remove;SetPrototype.mergeDeep=SetPrototype.merge;SetPrototype.mergeDeepWith=SetPrototype.mergeWith;SetPrototype.withMutations=MapPrototype.withMutations;SetPrototype.asMutable=MapPrototype.asMutable;SetPrototype.asImmutable=MapPrototype.asImmutable;SetPrototype.__empty=emptySet;SetPrototype.__make=makeSet;function updateSet(set,newMap){if(set.__ownerID){set.size=newMap.size;set._map=newMap;return set}return newMap===set._map?set:newMap.size===0?set.__empty():set.__make(newMap)}function makeSet(map,ownerID){var set=Object.create(SetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set}var EMPTY_SET;function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()))}createClass(OrderedSet,Set);function OrderedSet(value){return value===null||value===undefined?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)})})}OrderedSet.of=function(){return this(arguments)};OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq())};OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet)}OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=true;OrderedSetPrototype.__empty=emptyOrderedSet;OrderedSetPrototype.__make=makeOrderedSet;function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set}var EMPTY_ORDERED_SET;function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()))}createClass(Stack,IndexedCollection);function Stack(value){return value===null||value===undefined?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value)}Stack.of=function(){return this(arguments)};Stack.prototype.toString=function(){return this.__toString("Stack [","]")};Stack.prototype.get=function(index,notSetValue){var head=this._head;index=wrapIndex(this,index);while(head&&index--){head=head.next}return head?head.value:notSetValue};Stack.prototype.peek=function(){return this._head&&this._head.value};Stack.prototype.push=function(){if(arguments.length===0){return this}var newSize=this.size+arguments.length;var head=this._head;for(var ii=arguments.length-1;ii>=0;ii--){head={value:arguments[ii],next:head}}if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this}return makeStack(newSize,head)};Stack.prototype.pushAll=function(iter){iter=IndexedIterable(iter);if(iter.size===0){return this}assertNotInfinite(iter.size);var newSize=this.size;var head=this._head;iter.reverse().forEach(function(value){newSize++;head={value:value,next:head}});if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this}return makeStack(newSize,head)};Stack.prototype.pop=function(){return this.slice(1)};Stack.prototype.unshift=function(){return this.push.apply(this,arguments)};Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter)};Stack.prototype.shift=function(){return this.pop.apply(this,arguments)};Stack.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this}return emptyStack()};Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this}var resolvedBegin=resolveBegin(begin,this.size);var resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size){return IndexedCollection.prototype.slice.call(this,begin,end)}var newSize=this.size-resolvedBegin;var head=this._head;while(resolvedBegin--){head=head.next}if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this}return makeStack(newSize,head)};Stack.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this}return makeStack(this.size,this._head,ownerID,this.__hash)};Stack.prototype.__iterate=function(fn,reverse){if(reverse){return this.reverse().__iterate(fn)}var iterations=0;var node=this._head;while(node){if(fn(node.value,iterations++,this)===false){break}node=node.next}return iterations};Stack.prototype.__iterator=function(type,reverse){if(reverse){return this.reverse().__iterator(type)}var iterations=0;var node=this._head;return new Iterator(function(){if(node){var value=node.value;node=node.next;return iteratorValue(type,iterations++,value)}return iteratorDone()})};function isStack(maybeStack){return!!(maybeStack&&maybeStack[IS_STACK_SENTINEL])}Stack.isStack=isStack;var IS_STACK_SENTINEL="@@__IMMUTABLE_STACK__@@";var StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=true;StackPrototype.withMutations=MapPrototype.withMutations;StackPrototype.asMutable=MapPrototype.asMutable;StackPrototype.asImmutable=MapPrototype.asImmutable;StackPrototype.wasAltered=MapPrototype.wasAltered;function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);map.size=size;map._head=head;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map}var EMPTY_STACK;function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0))}function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key]};Object.keys(methods).forEach(keyCopier);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier);return ctor}Iterable.Iterator=Iterator;mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);this.valueSeq().__iterate(function(v,i){array[i]=v});return array},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(value){return value&&typeof value.toJS==="function"?value.toJS():value}).__toJS()},toJSON:function(){return this.toSeq().map(function(value){return value&&typeof value.toJSON==="function"?value.toJSON():value}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,true)},toMap:function(){return Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var object={};this.__iterate(function(v,k){object[k]=v});return object},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(head,tail){if(this.size===0){return head+tail}return head+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+tail},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values))},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)})},entries:function(){return this.__iterator(ITERATE_ENTRIES)},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=true;this.__iterate(function(v,k,c){if(!predicate.call(context,v,k,c)){returnValue=false;return false}});return returnValue},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,true))},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue},forEach:function(sideEffect,context){assertNotInfinite(this.size);return this.__iterate(context?sideEffect.bind(context):sideEffect)},join:function(separator){assertNotInfinite(this.size);separator=separator!==undefined?""+separator:",";var joined="";var isFirst=true;this.__iterate(function(v){isFirst?isFirst=false:joined+=separator;joined+=v!==null&&v!==undefined?v.toString():""});return joined},keys:function(){return this.__iterator(ITERATE_KEYS)},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context))},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction;var useFirst;if(arguments.length<2){useFirst=true}else{reduction=initialReduction}this.__iterate(function(v,k,c){if(useFirst){useFirst=false;reduction=v}else{reduction=reducer.call(context,reduction,v,k,c)}});return reduction},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments)},reverse:function(){return reify(this,reverseFactory(this,true))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,true))},some:function(predicate,context){return!this.every(not(predicate),context)},sort:function(comparator){return reify(this,sortFactory(this,comparator))},values:function(){return this.__iterator(ITERATE_VALUES)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true})},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this)},countBy:function(grouper,context){return countByFactory(this,grouper,context)},equals:function(other){return deepEqual(this,other)},entrySeq:function(){var iterable=this;if(iterable._cache){return new ArraySeq(iterable._cache)}var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();entriesSequence.fromEntrySeq=function(){return iterable.toSeq()};return entriesSequence},filterNot:function(predicate,context){return this.filter(not(predicate),context)},findEntry:function(predicate,context,notSetValue){var found=notSetValue;this.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){found=[k,v];return false}});return found},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0]},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue)},findLastEntry:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().findEntry(predicate,context,notSetValue)},findLastKey:function(predicate,context){return this.toKeyedSeq().reverse().findKey(predicate,context)},first:function(){return this.find(returnTrue)},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context))},flatten:function(depth){return reify(this,flattenFactory(this,depth,true))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},undefined,notSetValue)},getIn:function(searchKeyPath,notSetValue){var nested=this;var iter=forceIterator(searchKeyPath);var step;while(!(step=iter.next()).done){var key=step.value;nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET;if(nested===NOT_SET){return notSetValue}}return nested},groupBy:function(grouper,context){return groupByFactory(this,grouper,context)},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET},isSubset:function(iter){iter=typeof iter.includes==="function"?iter:Iterable(iter);return this.every(function(value){return iter.includes(value)})},isSuperset:function(iter){iter=typeof iter.isSubset==="function"?iter:Iterable(iter);return iter.isSubset(this)},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)})},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(searchValue){return this.toKeyedSeq().reverse().keyOf(searchValue)},max:function(comparator){return maxFactory(this,comparator)},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper)},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator)},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper)},rest:function(){return this.slice(1)},skip:function(amount){return this.slice(Math.max(0,amount))},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse())},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,true))},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context)},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper))},take:function(amount){return this.slice(0,Math.max(0,amount))},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse())},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context))},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this))}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=true;IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values;IterablePrototype.__toJS=IterablePrototype.toArray;IterablePrototype.__toStringMapper=quoteString;IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString()};IterablePrototype.chain=IterablePrototype.flatMap;IterablePrototype.contains=IterablePrototype.includes;mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},mapEntries:function(mapper,context){var this$0=this;var iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq())},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip())}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=true;KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries;KeyedIterablePrototype.__toJS=IterablePrototype.toObject;KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+": "+quoteString(v)};mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,false)},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,false))},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1},indexOf:function(searchValue){var key=this.keyOf(searchValue);return key===undefined?-1:key},lastIndexOf:function(searchValue){var key=this.lastKeyOf(searchValue);return key===undefined?-1:key},reverse:function(){return reify(this,reverseFactory(this,false))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,false))},splice:function(index,removeNum){var numArgs=arguments.length;removeNum=Math.max(removeNum|0,0);if(numArgs===0||numArgs===2&&!removeNum){return this}index=resolveBegin(index,index<0?this.count():this.size);var spliced=this.slice(0,index);return reify(this,numArgs===1?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)))},findLastIndex:function(predicate,context){var entry=this.findLastEntry(predicate,context);return entry?entry[0]:-1},first:function(){return this.get(0)},flatten:function(depth){return reify(this,flattenFactory(this,depth,false))},get:function(index,notSetValue){index=wrapIndex(this,index);return index<0||(this.size===Infinity||this.size!==undefined&&index>this.size)?notSetValue:this.find(function(_,key){return key===index},undefined,notSetValue)},has:function(index){index=wrapIndex(this,index);return index>=0&&(this.size!==undefined?this.size===Infinity||index<this.size:this.indexOf(index)!==-1)},interpose:function(separator){return reify(this,interposeFactory(this,separator))},interleave:function(){var iterables=[this].concat(arrCopy(arguments));var zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables);var interleaved=zipped.flatten(true);if(zipped.size){interleaved.size=zipped.size*iterables.length}return reify(this,interleaved)},keySeq:function(){return Range(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,false))},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables))},zipWith:function(zipper){var iterables=arrCopy(arguments);iterables[0]=this;return reify(this,zipWithFactory(this,zipper,iterables))}});IndexedIterable.prototype[IS_INDEXED_SENTINEL]=true;IndexedIterable.prototype[IS_ORDERED_SENTINEL]=true;mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue},includes:function(value){return this.has(value)},keySeq:function(){return this.valueSeq()}});SetIterable.prototype.has=IterablePrototype.includes;SetIterable.prototype.contains=SetIterable.prototype.includes;mixin(KeyedSeq,KeyedIterable.prototype);mixin(IndexedSeq,IndexedIterable.prototype);mixin(SetSeq,SetIterable.prototype);mixin(KeyedCollection,KeyedIterable.prototype);mixin(IndexedCollection,IndexedIterable.prototype);mixin(SetCollection,SetIterable.prototype);function keyMapper(v,k){return k}function entryMapper(v,k){return[k,v]}function not(predicate){return function(){return!predicate.apply(this,arguments)}}function neg(predicate){return function(){return-predicate.apply(this,arguments)}}function quoteString(value){return typeof value==="string"?JSON.stringify(value):String(value)}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(a,b){return a<b?1:a>b?-1:0}function hashIterable(iterable){if(iterable.size===Infinity){return 0}var ordered=isOrdered(iterable);var keyed=isKeyed(iterable);var h=ordered?1:0;var size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0}:ordered?function(v){h=31*h+hash(v)|0}:function(v){h=h+hash(v)|0});return murmurHashOfSize(size,h)}function murmurHashOfSize(size,h){h=imul(h,3432918353);h=imul(h<<15|h>>>-15,461845907);h=imul(h<<13|h>>>-13,5);h=(h+3864292196|0)^size;h=imul(h^h>>>16,2246822507);h=imul(h^h>>>13,3266489909);h=smi(h^h>>>16);return h}function hashMerge(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});class Term{constructor(attrs_64,type_65){Object.assign(this,attrs_64);this.type=type_65||"Term";this.loc=null;Object.freeze(this)}_reduceState(reducer_66,state_67={}){return state_67}_cloneAttrs(){return{}}reduce(reducer_68){let state_69=this._reduceState(reducer_68);return reducer_68.reduceTerm(this,state_69)}extend(attrs_70){return new Term(Object.assign(this._cloneAttrs(),attrs_70))}from(type_71,value_72){if(this.value&&typeof this.value.from==="function"){return this.value.from(type_71,value_72)}throw new Error("Not implemented yet")}fromNull(){return this.from("null",null)}fromNumber(value_73){return this.from("number",value_73)}fromString(value_74){return this.from("string",value_74)}fromPunctuator(value_75){return this.from("punctuator",value_75)}fromKeyword(value_76){return this.from("keyword",value_76)}fromIdentifier(value_77){return this.from("identifier",value_77)}fromRegularExpression(value_78){return this.from("regularExpression",value_78)}fromBraces(inner_79){return this.from("braces",inner_79)}fromBrackets(inner_80){return this.from("brackets",inner_80)}fromParens(inner_81){return this.from("parens",inner_81)}}Term.CloneReducer=class{reduceTerm(term_82,state_83){return new Term(state_83)}};exports.default=Term;class SyntaxTerm extends Term{constructor(attrs_84,type_85){super(attrs_84,type_85||"SyntaxTerm")}_reduceState(reducer_86,state_87={}){return super._reduceState(reducer_86,state_87)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_88){let state_89=this._reduceState(reducer_88);return reducer_88.reduceSyntaxTerm(this,state_89)}extend(attrs_90){return new SyntaxTerm(Object.assign(this._cloneAttrs(),attrs_90))}}Term.CloneReducer.prototype.reduceSyntaxTerm=function(term_91,state_92){return new SyntaxTerm(state_92)};exports.SyntaxTerm=SyntaxTerm;class RawDelimiter extends SyntaxTerm{constructor(attrs_93,type_94){super(attrs_93,type_94||"RawDelimiter");if(!{}.hasOwnProperty.call(attrs_93,"kind")){throw new Error("Missing attribute: "+"kind")}if(!{}.hasOwnProperty.call(attrs_93,"inner")){throw new Error("Missing attribute: "+"inner")}}_reduceState(reducer_95,state_96={}){state_96.kind=this.kind;state_96.inner=this.inner.map(a_97=>a_97 instanceof Term?a_97.reduce(reducer_95):function(){throw new Error("Unknown object: "+JSON.stringify(a_97))}.call(this));return super._reduceState(reducer_95,state_96)}_cloneAttrs(){return Object.assign({kind:this.kind,inner:this.inner},super._cloneAttrs())}reduce(reducer_98){let state_99=this._reduceState(reducer_98);return reducer_98.reduceRawDelimiter(this,state_99)}extend(attrs_100){return new RawDelimiter(Object.assign(this._cloneAttrs(),attrs_100))}}SyntaxTerm.CloneReducer.prototype.reduceRawDelimiter=function(term_101,state_102){return new RawDelimiter(state_102)};exports.RawDelimiter=RawDelimiter;class RawSyntax extends SyntaxTerm{constructor(attrs_103,type_104){super(attrs_103,type_104||"RawSyntax");if(!{}.hasOwnProperty.call(attrs_103,"value")){throw new Error("Missing attribute: "+"value")}}_reduceState(reducer_105,state_106={}){state_106.value=this.value;return super._reduceState(reducer_105,state_106)}_cloneAttrs(){return Object.assign({value:this.value},super._cloneAttrs())}reduce(reducer_107){let state_108=this._reduceState(reducer_107);return reducer_107.reduceRawSyntax(this,state_108)}extend(attrs_109){return new RawSyntax(Object.assign(this._cloneAttrs(),attrs_109))}}SyntaxTerm.CloneReducer.prototype.reduceRawSyntax=function(term_110,state_111){return new RawSyntax(state_111)};exports.RawSyntax=RawSyntax;class Statement extends Term{constructor(attrs_112,type_113){super(attrs_112,type_113||"Statement")}_reduceState(reducer_114,state_115={}){return super._reduceState(reducer_114,state_115)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_116){let state_117=this._reduceState(reducer_116);return reducer_116.reduceStatement(this,state_117)}extend(attrs_118){return new Statement(Object.assign(this._cloneAttrs(),attrs_118))}}Term.CloneReducer.prototype.reduceStatement=function(term_119,state_120){return new Statement(state_120)};exports.Statement=Statement;class IterationStatement extends Statement{constructor(attrs_121,type_122){super(attrs_121,type_122||"IterationStatement");if(!{}.hasOwnProperty.call(attrs_121,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_123,state_124={}){state_124.body=this.body instanceof Statement?this.body.reduce(reducer_123):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_123,state_124)}_cloneAttrs(){return Object.assign({body:this.body},super._cloneAttrs())}reduce(reducer_125){let state_126=this._reduceState(reducer_125);return reducer_125.reduceIterationStatement(this,state_126)}extend(attrs_127){return new IterationStatement(Object.assign(this._cloneAttrs(),attrs_127))}}Statement.CloneReducer.prototype.reduceIterationStatement=function(term_128,state_129){return new IterationStatement(state_129)};exports.IterationStatement=IterationStatement;class Expression extends Term{constructor(attrs_130,type_131){super(attrs_130,type_131||"Expression")}_reduceState(reducer_132,state_133={}){return super._reduceState(reducer_132,state_133)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_134){let state_135=this._reduceState(reducer_134);return reducer_134.reduceExpression(this,state_135)}extend(attrs_136){return new Expression(Object.assign(this._cloneAttrs(),attrs_136))}}Term.CloneReducer.prototype.reduceExpression=function(term_137,state_138){return new Expression(state_138)};exports.Expression=Expression;class MemberExpression extends Expression{constructor(attrs_139,type_140){super(attrs_139,type_140||"MemberExpression");if(!{}.hasOwnProperty.call(attrs_139,"object")){throw new Error("Missing attribute: "+"object")}}_reduceState(reducer_141,state_142={}){state_142.object=this.object instanceof Expression?this.object.reduce(reducer_141):this.object instanceof Super?this.object.reduce(reducer_141):function(){throw new Error("Unknown object: "+JSON.stringify(this.object))}.call(this);return super._reduceState(reducer_141,state_142)}_cloneAttrs(){return Object.assign({object:this.object},super._cloneAttrs())}reduce(reducer_143){let state_144=this._reduceState(reducer_143);return reducer_143.reduceMemberExpression(this,state_144)}extend(attrs_145){return new MemberExpression(Object.assign(this._cloneAttrs(),attrs_145))}}Expression.CloneReducer.prototype.reduceMemberExpression=function(term_146,state_147){return new MemberExpression(state_147)};exports.MemberExpression=MemberExpression;class PropertyName extends Term{constructor(attrs_148,type_149){super(attrs_148,type_149||"PropertyName")}_reduceState(reducer_150,state_151={}){return super._reduceState(reducer_150,state_151)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_152){let state_153=this._reduceState(reducer_152);return reducer_152.reducePropertyName(this,state_153)}extend(attrs_154){return new PropertyName(Object.assign(this._cloneAttrs(),attrs_154))}}Term.CloneReducer.prototype.reducePropertyName=function(term_155,state_156){return new PropertyName(state_156)};exports.PropertyName=PropertyName;class ObjectProperty extends Term{constructor(attrs_157,type_158){super(attrs_157,type_158||"ObjectProperty")}_reduceState(reducer_159,state_160={}){return super._reduceState(reducer_159,state_160)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_161){let state_162=this._reduceState(reducer_161);return reducer_161.reduceObjectProperty(this,state_162)}extend(attrs_163){return new ObjectProperty(Object.assign(this._cloneAttrs(),attrs_163))}}Term.CloneReducer.prototype.reduceObjectProperty=function(term_164,state_165){return new ObjectProperty(state_165)};exports.ObjectProperty=ObjectProperty;class NamedObjectProperty extends ObjectProperty{constructor(attrs_166,type_167){super(attrs_166,type_167||"NamedObjectProperty");if(!{}.hasOwnProperty.call(attrs_166,"name")){throw new Error("Missing attribute: "+"name")}}_reduceState(reducer_168,state_169={}){state_169.name=this.name instanceof PropertyName?this.name.reduce(reducer_168):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);return super._reduceState(reducer_168,state_169)}_cloneAttrs(){return Object.assign({name:this.name},super._cloneAttrs())}reduce(reducer_170){let state_171=this._reduceState(reducer_170);return reducer_170.reduceNamedObjectProperty(this,state_171)}extend(attrs_172){return new NamedObjectProperty(Object.assign(this._cloneAttrs(),attrs_172))}}ObjectProperty.CloneReducer.prototype.reduceNamedObjectProperty=function(term_173,state_174){return new NamedObjectProperty(state_174)};exports.NamedObjectProperty=NamedObjectProperty;class MethodDefinition extends NamedObjectProperty{constructor(attrs_175,type_176){super(attrs_175,type_176||"MethodDefinition");if(!{}.hasOwnProperty.call(attrs_175,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_177,state_178={}){state_178.body=this.body instanceof FunctionBody?this.body.reduce(reducer_177):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_177,state_178)}_cloneAttrs(){return Object.assign({body:this.body},super._cloneAttrs())}reduce(reducer_179){let state_180=this._reduceState(reducer_179);return reducer_179.reduceMethodDefinition(this,state_180)}extend(attrs_181){return new MethodDefinition(Object.assign(this._cloneAttrs(),attrs_181))}}NamedObjectProperty.CloneReducer.prototype.reduceMethodDefinition=function(term_182,state_183){return new MethodDefinition(state_183)};exports.MethodDefinition=MethodDefinition;class BindingWithDefault extends Term{constructor(attrs_184,type_185){super(attrs_184,type_185||"BindingWithDefault");if(!{}.hasOwnProperty.call(attrs_184,"binding")){throw new Error("Missing attribute: "+"binding")}if(!{}.hasOwnProperty.call(attrs_184,"init")){throw new Error("Missing attribute: "+"init")}}_reduceState(reducer_186,state_187={}){state_187.binding=this.binding instanceof ObjectBinding?this.binding.reduce(reducer_186):this.binding instanceof ArrayBinding?this.binding.reduce(reducer_186):this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_186):this.binding instanceof MemberExpression?this.binding.reduce(reducer_186):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);state_187.init=this.init instanceof Expression?this.init.reduce(reducer_186):function(){throw new Error("Unknown object: "+JSON.stringify(this.init))}.call(this);return super._reduceState(reducer_186,state_187)}_cloneAttrs(){return Object.assign({binding:this.binding,init:this.init},super._cloneAttrs())}reduce(reducer_188){let state_189=this._reduceState(reducer_188);return reducer_188.reduceBindingWithDefault(this,state_189)}extend(attrs_190){return new BindingWithDefault(Object.assign(this._cloneAttrs(),attrs_190))}}Term.CloneReducer.prototype.reduceBindingWithDefault=function(term_191,state_192){return new BindingWithDefault(state_192)};exports.BindingWithDefault=BindingWithDefault;class BindingIdentifier extends Term{constructor(attrs_193,type_194){super(attrs_193,type_194||"BindingIdentifier");if(!{}.hasOwnProperty.call(attrs_193,"name")){throw new Error("Missing attribute: "+"name")}}_reduceState(reducer_195,state_196={}){state_196.name=this.name;return super._reduceState(reducer_195,state_196)}_cloneAttrs(){return Object.assign({name:this.name},super._cloneAttrs())}reduce(reducer_197){let state_198=this._reduceState(reducer_197);return reducer_197.reduceBindingIdentifier(this,state_198)}extend(attrs_199){return new BindingIdentifier(Object.assign(this._cloneAttrs(),attrs_199))}}Term.CloneReducer.prototype.reduceBindingIdentifier=function(term_200,state_201){return new BindingIdentifier(state_201)};exports.BindingIdentifier=BindingIdentifier;class ArrayBinding extends Term{constructor(attrs_202,type_203){super(attrs_202,type_203||"ArrayBinding");if(!{}.hasOwnProperty.call(attrs_202,"elements")){throw new Error("Missing attribute: "+"elements")}if(!{}.hasOwnProperty.call(attrs_202,"restElement")){throw new Error("Missing attribute: "+"restElement")}}_reduceState(reducer_204,state_205={}){state_205.elements=this.elements.map(a_206=>a_206 instanceof ObjectBinding?a_206.reduce(reducer_204):a_206 instanceof ArrayBinding?a_206.reduce(reducer_204):a_206 instanceof BindingIdentifier?a_206.reduce(reducer_204):a_206 instanceof MemberExpression?a_206.reduce(reducer_204):a_206 instanceof BindingWithDefault?a_206.reduce(reducer_204):a_206==null?null:function(){throw new Error("Unknown object: "+JSON.stringify(a_206))}.call(this));state_205.restElement=this.restElement==null?null:this.restElement instanceof ObjectBinding?this.restElement.reduce(reducer_204):this.restElement instanceof ArrayBinding?this.restElement.reduce(reducer_204):this.restElement instanceof BindingIdentifier?this.restElement.reduce(reducer_204):this.restElement instanceof MemberExpression?this.restElement.reduce(reducer_204):function(){throw new Error("Unknown object: "+JSON.stringify(this.restElement))}.call(this);return super._reduceState(reducer_204,state_205)}_cloneAttrs(){return Object.assign({elements:this.elements,restElement:this.restElement},super._cloneAttrs())}reduce(reducer_207){let state_208=this._reduceState(reducer_207);return reducer_207.reduceArrayBinding(this,state_208)}extend(attrs_209){return new ArrayBinding(Object.assign(this._cloneAttrs(),attrs_209))}}Term.CloneReducer.prototype.reduceArrayBinding=function(term_210,state_211){return new ArrayBinding(state_211)};exports.ArrayBinding=ArrayBinding;class ObjectBinding extends Term{constructor(attrs_212,type_213){super(attrs_212,type_213||"ObjectBinding");if(!{}.hasOwnProperty.call(attrs_212,"properties")){throw new Error("Missing attribute: "+"properties")}}_reduceState(reducer_214,state_215={}){state_215.properties=this.properties.map(a_216=>a_216 instanceof BindingProperty?a_216.reduce(reducer_214):function(){throw new Error("Unknown object: "+JSON.stringify(a_216))}.call(this));return super._reduceState(reducer_214,state_215)}_cloneAttrs(){return Object.assign({properties:this.properties},super._cloneAttrs())}reduce(reducer_217){let state_218=this._reduceState(reducer_217);return reducer_217.reduceObjectBinding(this,state_218)}extend(attrs_219){return new ObjectBinding(Object.assign(this._cloneAttrs(),attrs_219))}}Term.CloneReducer.prototype.reduceObjectBinding=function(term_220,state_221){return new ObjectBinding(state_221)};exports.ObjectBinding=ObjectBinding;class BindingProperty extends Term{constructor(attrs_222,type_223){super(attrs_222,type_223||"BindingProperty")}_reduceState(reducer_224,state_225={}){return super._reduceState(reducer_224,state_225)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_226){let state_227=this._reduceState(reducer_226);return reducer_226.reduceBindingProperty(this,state_227)}extend(attrs_228){return new BindingProperty(Object.assign(this._cloneAttrs(),attrs_228))}}Term.CloneReducer.prototype.reduceBindingProperty=function(term_229,state_230){return new BindingProperty(state_230)};exports.BindingProperty=BindingProperty;class BindingPropertyIdentifier extends BindingProperty{constructor(attrs_231,type_232){super(attrs_231,type_232||"BindingPropertyIdentifier");if(!{}.hasOwnProperty.call(attrs_231,"binding")){throw new Error("Missing attribute: "+"binding")}if(!{}.hasOwnProperty.call(attrs_231,"init")){throw new Error("Missing attribute: "+"init")}}_reduceState(reducer_233,state_234={}){state_234.binding=this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_233):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);state_234.init=this.init==null?null:this.init instanceof Expression?this.init.reduce(reducer_233):function(){throw new Error("Unknown object: "+JSON.stringify(this.init))}.call(this);return super._reduceState(reducer_233,state_234)}_cloneAttrs(){return Object.assign({binding:this.binding,init:this.init},super._cloneAttrs())}reduce(reducer_235){let state_236=this._reduceState(reducer_235);return reducer_235.reduceBindingPropertyIdentifier(this,state_236)}extend(attrs_237){return new BindingPropertyIdentifier(Object.assign(this._cloneAttrs(),attrs_237))}}BindingProperty.CloneReducer.prototype.reduceBindingPropertyIdentifier=function(term_238,state_239){return new BindingPropertyIdentifier(state_239)};exports.BindingPropertyIdentifier=BindingPropertyIdentifier;class BindingPropertyProperty extends BindingProperty{constructor(attrs_240,type_241){super(attrs_240,type_241||"BindingPropertyProperty");if(!{}.hasOwnProperty.call(attrs_240,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_240,"binding")){throw new Error("Missing attribute: "+"binding")}}_reduceState(reducer_242,state_243={}){state_243.name=this.name instanceof PropertyName?this.name.reduce(reducer_242):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);state_243.binding=this.binding instanceof ObjectBinding?this.binding.reduce(reducer_242):this.binding instanceof ArrayBinding?this.binding.reduce(reducer_242):this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_242):this.binding instanceof MemberExpression?this.binding.reduce(reducer_242):this.binding instanceof BindingWithDefault?this.binding.reduce(reducer_242):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);return super._reduceState(reducer_242,state_243)}_cloneAttrs(){return Object.assign({name:this.name,binding:this.binding},super._cloneAttrs())}reduce(reducer_244){let state_245=this._reduceState(reducer_244);return reducer_244.reduceBindingPropertyProperty(this,state_245)}extend(attrs_246){return new BindingPropertyProperty(Object.assign(this._cloneAttrs(),attrs_246))}}BindingProperty.CloneReducer.prototype.reduceBindingPropertyProperty=function(term_247,state_248){return new BindingPropertyProperty(state_248)};exports.BindingPropertyProperty=BindingPropertyProperty;class ClassExpression extends Expression{constructor(attrs_249,type_250){super(attrs_249,type_250||"ClassExpression");if(!{}.hasOwnProperty.call(attrs_249,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_249,"super")){throw new Error("Missing attribute: "+"super")}if(!{}.hasOwnProperty.call(attrs_249,"elements")){throw new Error("Missing attribute: "+"elements")}}_reduceState(reducer_251,state_252={}){state_252.name=this.name==null?null:this.name instanceof BindingIdentifier?this.name.reduce(reducer_251):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);state_252.super=this.super==null?null:this.super instanceof Expression?this.super.reduce(reducer_251):function(){throw new Error("Unknown object: "+JSON.stringify(this.super))}.call(this);state_252.elements=this.elements.map(a_253=>a_253 instanceof ClassElement?a_253.reduce(reducer_251):function(){throw new Error("Unknown object: "+JSON.stringify(a_253))}.call(this));return super._reduceState(reducer_251,state_252)}_cloneAttrs(){return Object.assign({name:this.name,super:this.super,elements:this.elements},super._cloneAttrs())}reduce(reducer_254){let state_255=this._reduceState(reducer_254);return reducer_254.reduceClassExpression(this,state_255)}extend(attrs_256){return new ClassExpression(Object.assign(this._cloneAttrs(),attrs_256))}}Expression.CloneReducer.prototype.reduceClassExpression=function(term_257,state_258){return new ClassExpression(state_258)};exports.ClassExpression=ClassExpression;class ClassDeclaration extends Statement{constructor(attrs_259,type_260){super(attrs_259,type_260||"ClassDeclaration");if(!{}.hasOwnProperty.call(attrs_259,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_259,"super")){throw new Error("Missing attribute: "+"super")}if(!{}.hasOwnProperty.call(attrs_259,"elements")){throw new Error("Missing attribute: "+"elements")}}_reduceState(reducer_261,state_262={}){state_262.name=this.name instanceof BindingIdentifier?this.name.reduce(reducer_261):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);state_262.super=this.super==null?null:this.super instanceof Expression?this.super.reduce(reducer_261):function(){throw new Error("Unknown object: "+JSON.stringify(this.super))}.call(this);state_262.elements=this.elements.map(a_263=>a_263 instanceof ClassElement?a_263.reduce(reducer_261):function(){throw new Error("Unknown object: "+JSON.stringify(a_263))}.call(this));return super._reduceState(reducer_261,state_262)}_cloneAttrs(){return Object.assign({name:this.name,super:this.super,elements:this.elements},super._cloneAttrs())}reduce(reducer_264){let state_265=this._reduceState(reducer_264);return reducer_264.reduceClassDeclaration(this,state_265)}extend(attrs_266){return new ClassDeclaration(Object.assign(this._cloneAttrs(),attrs_266))}}Statement.CloneReducer.prototype.reduceClassDeclaration=function(term_267,state_268){return new ClassDeclaration(state_268)};exports.ClassDeclaration=ClassDeclaration;class ClassElement extends Term{constructor(attrs_269,type_270){super(attrs_269,type_270||"ClassElement");if(!{}.hasOwnProperty.call(attrs_269,"isStatic")){throw new Error("Missing attribute: "+"isStatic")}if(!{}.hasOwnProperty.call(attrs_269,"method")){throw new Error("Missing attribute: "+"method")}}_reduceState(reducer_271,state_272={}){state_272.isStatic=this.isStatic;state_272.method=this.method instanceof MethodDefinition?this.method.reduce(reducer_271):function(){throw new Error("Unknown object: "+JSON.stringify(this.method))}.call(this);return super._reduceState(reducer_271,state_272)}_cloneAttrs(){return Object.assign({isStatic:this.isStatic,method:this.method},super._cloneAttrs())}reduce(reducer_273){let state_274=this._reduceState(reducer_273);return reducer_273.reduceClassElement(this,state_274)}extend(attrs_275){return new ClassElement(Object.assign(this._cloneAttrs(),attrs_275))}}Term.CloneReducer.prototype.reduceClassElement=function(term_276,state_277){return new ClassElement(state_277)};exports.ClassElement=ClassElement;class Module extends Term{constructor(attrs_278,type_279){super(attrs_278,type_279||"Module");if(!{}.hasOwnProperty.call(attrs_278,"directives")){throw new Error("Missing attribute: "+"directives")}if(!{}.hasOwnProperty.call(attrs_278,"items")){throw new Error("Missing attribute: "+"items")}}_reduceState(reducer_280,state_281={}){state_281.directives=this.directives.map(a_282=>a_282);state_281.items=this.items.map(a_283=>a_283 instanceof Term?a_283.reduce(reducer_280):function(){throw new Error("Unknown object: "+JSON.stringify(a_283))}.call(this));return super._reduceState(reducer_280,state_281)}_cloneAttrs(){return Object.assign({directives:this.directives,items:this.items},super._cloneAttrs())}reduce(reducer_284){let state_285=this._reduceState(reducer_284);return reducer_284.reduceModule(this,state_285)}extend(attrs_286){return new Module(Object.assign(this._cloneAttrs(),attrs_286))}}Term.CloneReducer.prototype.reduceModule=function(term_287,state_288){return new Module(state_288)};exports.Module=Module;class ImportDeclaration extends Term{constructor(attrs_289,type_290){super(attrs_289,type_290||"ImportDeclaration");if(!{}.hasOwnProperty.call(attrs_289,"moduleSpecifier")){throw new Error("Missing attribute: "+"moduleSpecifier")}if(!{}.hasOwnProperty.call(attrs_289,"forSyntax")){throw new Error("Missing attribute: "+"forSyntax")}}_reduceState(reducer_291,state_292={}){state_292.moduleSpecifier=this.moduleSpecifier;state_292.forSyntax=this.forSyntax;return super._reduceState(reducer_291,state_292)}_cloneAttrs(){return Object.assign({moduleSpecifier:this.moduleSpecifier,forSyntax:this.forSyntax},super._cloneAttrs())}reduce(reducer_293){let state_294=this._reduceState(reducer_293);return reducer_293.reduceImportDeclaration(this,state_294)}extend(attrs_295){return new ImportDeclaration(Object.assign(this._cloneAttrs(),attrs_295))}}Term.CloneReducer.prototype.reduceImportDeclaration=function(term_296,state_297){return new ImportDeclaration(state_297)};exports.ImportDeclaration=ImportDeclaration;class ExportDeclaration extends Term{constructor(attrs_298,type_299){super(attrs_298,type_299||"ExportDeclaration")}_reduceState(reducer_300,state_301={}){return super._reduceState(reducer_300,state_301)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_302){let state_303=this._reduceState(reducer_302);return reducer_302.reduceExportDeclaration(this,state_303)}extend(attrs_304){return new ExportDeclaration(Object.assign(this._cloneAttrs(),attrs_304))}}Term.CloneReducer.prototype.reduceExportDeclaration=function(term_305,state_306){return new ExportDeclaration(state_306)};exports.ExportDeclaration=ExportDeclaration;class Import extends ImportDeclaration{constructor(attrs_307,type_308){super(attrs_307,type_308||"Import");if(!{}.hasOwnProperty.call(attrs_307,"defaultBinding")){throw new Error("Missing attribute: "+"defaultBinding")}if(!{}.hasOwnProperty.call(attrs_307,"namedImports")){throw new Error("Missing attribute: "+"namedImports")}}_reduceState(reducer_309,state_310={}){state_310.defaultBinding=this.defaultBinding==null?null:this.defaultBinding instanceof BindingIdentifier?this.defaultBinding.reduce(reducer_309):function(){throw new Error("Unknown object: "+JSON.stringify(this.defaultBinding))}.call(this);state_310.namedImports=this.namedImports.map(a_311=>a_311 instanceof ImportSpecifier?a_311.reduce(reducer_309):function(){throw new Error("Unknown object: "+JSON.stringify(a_311))}.call(this));return super._reduceState(reducer_309,state_310)}_cloneAttrs(){return Object.assign({defaultBinding:this.defaultBinding,namedImports:this.namedImports},super._cloneAttrs())}reduce(reducer_312){let state_313=this._reduceState(reducer_312);return reducer_312.reduceImport(this,state_313)}extend(attrs_314){return new Import(Object.assign(this._cloneAttrs(),attrs_314))}}ImportDeclaration.CloneReducer.prototype.reduceImport=function(term_315,state_316){return new Import(state_316)};exports.Import=Import;class ImportNamespace extends ImportDeclaration{constructor(attrs_317,type_318){super(attrs_317,type_318||"ImportNamespace");if(!{}.hasOwnProperty.call(attrs_317,"defaultBinding")){throw new Error("Missing attribute: "+"defaultBinding")}if(!{}.hasOwnProperty.call(attrs_317,"namespaceBinding")){throw new Error("Missing attribute: "+"namespaceBinding")}}_reduceState(reducer_319,state_320={}){state_320.defaultBinding=this.defaultBinding==null?null:this.defaultBinding instanceof BindingIdentifier?this.defaultBinding.reduce(reducer_319):function(){throw new Error("Unknown object: "+JSON.stringify(this.defaultBinding))}.call(this);state_320.namespaceBinding=this.namespaceBinding instanceof BindingIdentifier?this.namespaceBinding.reduce(reducer_319):function(){throw new Error("Unknown object: "+JSON.stringify(this.namespaceBinding))}.call(this);return super._reduceState(reducer_319,state_320)}_cloneAttrs(){return Object.assign({defaultBinding:this.defaultBinding,namespaceBinding:this.namespaceBinding},super._cloneAttrs())}reduce(reducer_321){let state_322=this._reduceState(reducer_321);return reducer_321.reduceImportNamespace(this,state_322)}extend(attrs_323){return new ImportNamespace(Object.assign(this._cloneAttrs(),attrs_323))}}ImportDeclaration.CloneReducer.prototype.reduceImportNamespace=function(term_324,state_325){return new ImportNamespace(state_325)};exports.ImportNamespace=ImportNamespace;class ImportSpecifier extends Term{constructor(attrs_326,type_327){super(attrs_326,type_327||"ImportSpecifier");if(!{}.hasOwnProperty.call(attrs_326,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_326,"binding")){throw new Error("Missing attribute: "+"binding")}}_reduceState(reducer_328,state_329={}){state_329.name=this.name==null?null:this.name;state_329.binding=this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_328):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);return super._reduceState(reducer_328,state_329)}_cloneAttrs(){return Object.assign({name:this.name,binding:this.binding},super._cloneAttrs())}reduce(reducer_330){let state_331=this._reduceState(reducer_330);return reducer_330.reduceImportSpecifier(this,state_331)}extend(attrs_332){return new ImportSpecifier(Object.assign(this._cloneAttrs(),attrs_332))}}Term.CloneReducer.prototype.reduceImportSpecifier=function(term_333,state_334){return new ImportSpecifier(state_334)};exports.ImportSpecifier=ImportSpecifier;class ExportAllFrom extends ExportDeclaration{constructor(attrs_335,type_336){super(attrs_335,type_336||"ExportAllFrom");if(!{}.hasOwnProperty.call(attrs_335,"moduleSpecifier")){throw new Error("Missing attribute: "+"moduleSpecifier")}}_reduceState(reducer_337,state_338={}){state_338.moduleSpecifier=this.moduleSpecifier;return super._reduceState(reducer_337,state_338)}_cloneAttrs(){return Object.assign({moduleSpecifier:this.moduleSpecifier},super._cloneAttrs())}reduce(reducer_339){let state_340=this._reduceState(reducer_339);return reducer_339.reduceExportAllFrom(this,state_340)}extend(attrs_341){return new ExportAllFrom(Object.assign(this._cloneAttrs(),attrs_341))}}ExportDeclaration.CloneReducer.prototype.reduceExportAllFrom=function(term_342,state_343){return new ExportAllFrom(state_343)};exports.ExportAllFrom=ExportAllFrom;class ExportFrom extends ExportDeclaration{constructor(attrs_344,type_345){super(attrs_344,type_345||"ExportFrom");if(!{}.hasOwnProperty.call(attrs_344,"namedExports")){throw new Error("Missing attribute: "+"namedExports")}if(!{}.hasOwnProperty.call(attrs_344,"moduleSpecifier")){throw new Error("Missing attribute: "+"moduleSpecifier")}}_reduceState(reducer_346,state_347={}){state_347.namedExports=this.namedExports.map(a_348=>a_348 instanceof ExportSpecifier?a_348.reduce(reducer_346):function(){throw new Error("Unknown object: "+JSON.stringify(a_348))}.call(this));state_347.moduleSpecifier=this.moduleSpecifier==null?null:this.moduleSpecifier;return super._reduceState(reducer_346,state_347)}_cloneAttrs(){return Object.assign({namedExports:this.namedExports,moduleSpecifier:this.moduleSpecifier},super._cloneAttrs())}reduce(reducer_349){let state_350=this._reduceState(reducer_349);return reducer_349.reduceExportFrom(this,state_350)}extend(attrs_351){return new ExportFrom(Object.assign(this._cloneAttrs(),attrs_351))}}ExportDeclaration.CloneReducer.prototype.reduceExportFrom=function(term_352,state_353){return new ExportFrom(state_353)};exports.ExportFrom=ExportFrom;class Export extends ExportDeclaration{constructor(attrs_354,type_355){super(attrs_354,type_355||"Export");if(!{}.hasOwnProperty.call(attrs_354,"declaration")){throw new Error("Missing attribute: "+"declaration")}}_reduceState(reducer_356,state_357={}){state_357.declaration=this.declaration instanceof FunctionDeclaration?this.declaration.reduce(reducer_356):this.declaration instanceof ClassDeclaration?this.declaration.reduce(reducer_356):this.declaration instanceof VariableDeclaration?this.declaration.reduce(reducer_356):function(){throw new Error("Unknown object: "+JSON.stringify(this.declaration))}.call(this);return super._reduceState(reducer_356,state_357)}_cloneAttrs(){return Object.assign({declaration:this.declaration},super._cloneAttrs())}reduce(reducer_358){let state_359=this._reduceState(reducer_358);return reducer_358.reduceExport(this,state_359)}extend(attrs_360){return new Export(Object.assign(this._cloneAttrs(),attrs_360))}}ExportDeclaration.CloneReducer.prototype.reduceExport=function(term_361,state_362){return new Export(state_362)};exports.Export=Export;class ExportDefault extends ExportDeclaration{constructor(attrs_363,type_364){super(attrs_363,type_364||"ExportDefault");if(!{}.hasOwnProperty.call(attrs_363,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_365,state_366={}){state_366.body=this.body instanceof FunctionDeclaration?this.body.reduce(reducer_365):this.body instanceof ClassDeclaration?this.body.reduce(reducer_365):this.body instanceof Expression?this.body.reduce(reducer_365):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_365,state_366)}_cloneAttrs(){return Object.assign({body:this.body},super._cloneAttrs())}reduce(reducer_367){let state_368=this._reduceState(reducer_367);return reducer_367.reduceExportDefault(this,state_368)}extend(attrs_369){return new ExportDefault(Object.assign(this._cloneAttrs(),attrs_369))}}ExportDeclaration.CloneReducer.prototype.reduceExportDefault=function(term_370,state_371){return new ExportDefault(state_371)};exports.ExportDefault=ExportDefault;class ExportSpecifier extends Term{constructor(attrs_372,type_373){super(attrs_372,type_373||"ExportSpecifier");if(!{}.hasOwnProperty.call(attrs_372,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_372,"exportedName")){throw new Error("Missing attribute: "+"exportedName")}}_reduceState(reducer_374,state_375={}){state_375.name=this.name==null?null:this.name;state_375.exportedName=this.exportedName;return super._reduceState(reducer_374,state_375)}_cloneAttrs(){return Object.assign({name:this.name,exportedName:this.exportedName},super._cloneAttrs())}reduce(reducer_376){let state_377=this._reduceState(reducer_376);return reducer_376.reduceExportSpecifier(this,state_377)}extend(attrs_378){return new ExportSpecifier(Object.assign(this._cloneAttrs(),attrs_378))}}Term.CloneReducer.prototype.reduceExportSpecifier=function(term_379,state_380){return new ExportSpecifier(state_380)};exports.ExportSpecifier=ExportSpecifier;class Method extends MethodDefinition{constructor(attrs_381,type_382){super(attrs_381,type_382||"Method");if(!{}.hasOwnProperty.call(attrs_381,"isGenerator")){throw new Error("Missing attribute: "+"isGenerator")}if(!{}.hasOwnProperty.call(attrs_381,"params")){throw new Error("Missing attribute: "+"params")}}_reduceState(reducer_383,state_384={}){state_384.isGenerator=this.isGenerator;state_384.params=this.params instanceof FormalParameters?this.params.reduce(reducer_383):function(){throw new Error("Unknown object: "+JSON.stringify(this.params))}.call(this);return super._reduceState(reducer_383,state_384)}_cloneAttrs(){return Object.assign({isGenerator:this.isGenerator,params:this.params},super._cloneAttrs())}reduce(reducer_385){let state_386=this._reduceState(reducer_385);return reducer_385.reduceMethod(this,state_386)}extend(attrs_387){return new Method(Object.assign(this._cloneAttrs(),attrs_387))}}MethodDefinition.CloneReducer.prototype.reduceMethod=function(term_388,state_389){return new Method(state_389)};exports.Method=Method;class Getter extends MethodDefinition{constructor(attrs_390,type_391){super(attrs_390,type_391||"Getter")}_reduceState(reducer_392,state_393={}){return super._reduceState(reducer_392,state_393)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_394){let state_395=this._reduceState(reducer_394);return reducer_394.reduceGetter(this,state_395)}extend(attrs_396){return new Getter(Object.assign(this._cloneAttrs(),attrs_396))}}MethodDefinition.CloneReducer.prototype.reduceGetter=function(term_397,state_398){return new Getter(state_398)};exports.Getter=Getter;class Setter extends MethodDefinition{constructor(attrs_399,type_400){super(attrs_399,type_400||"Setter");if(!{}.hasOwnProperty.call(attrs_399,"param")){throw new Error("Missing attribute: "+"param")}}_reduceState(reducer_401,state_402={}){state_402.param=this.param instanceof ObjectBinding?this.param.reduce(reducer_401):this.param instanceof ArrayBinding?this.param.reduce(reducer_401):this.param instanceof BindingIdentifier?this.param.reduce(reducer_401):this.param instanceof MemberExpression?this.param.reduce(reducer_401):this.param instanceof BindingWithDefault?this.param.reduce(reducer_401):function(){throw new Error("Unknown object: "+JSON.stringify(this.param))}.call(this);return super._reduceState(reducer_401,state_402)}_cloneAttrs(){return Object.assign({param:this.param},super._cloneAttrs())}reduce(reducer_403){let state_404=this._reduceState(reducer_403);return reducer_403.reduceSetter(this,state_404)}extend(attrs_405){return new Setter(Object.assign(this._cloneAttrs(),attrs_405))}}MethodDefinition.CloneReducer.prototype.reduceSetter=function(term_406,state_407){return new Setter(state_407)};exports.Setter=Setter;class DataProperty extends NamedObjectProperty{constructor(attrs_408,type_409){super(attrs_408,type_409||"DataProperty");if(!{}.hasOwnProperty.call(attrs_408,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_410,state_411={}){state_411.expression=this.expression instanceof Expression?this.expression.reduce(reducer_410):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_410,state_411)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_412){let state_413=this._reduceState(reducer_412);return reducer_412.reduceDataProperty(this,state_413)}extend(attrs_414){return new DataProperty(Object.assign(this._cloneAttrs(),attrs_414))}}NamedObjectProperty.CloneReducer.prototype.reduceDataProperty=function(term_415,state_416){return new DataProperty(state_416)};exports.DataProperty=DataProperty;class ShorthandProperty extends ObjectProperty{constructor(attrs_417,type_418){super(attrs_417,type_418||"ShorthandProperty");if(!{}.hasOwnProperty.call(attrs_417,"name")){throw new Error("Missing attribute: "+"name")}}_reduceState(reducer_419,state_420={}){state_420.name=this.name;return super._reduceState(reducer_419,state_420)}_cloneAttrs(){return Object.assign({name:this.name},super._cloneAttrs())}reduce(reducer_421){let state_422=this._reduceState(reducer_421);return reducer_421.reduceShorthandProperty(this,state_422)}extend(attrs_423){return new ShorthandProperty(Object.assign(this._cloneAttrs(),attrs_423))}}ObjectProperty.CloneReducer.prototype.reduceShorthandProperty=function(term_424,state_425){return new ShorthandProperty(state_425)};exports.ShorthandProperty=ShorthandProperty;class StaticPropertyName extends PropertyName{constructor(attrs_426,type_427){super(attrs_426,type_427||"StaticPropertyName");if(!{}.hasOwnProperty.call(attrs_426,"value")){throw new Error("Missing attribute: "+"value")}}_reduceState(reducer_428,state_429={}){state_429.value=this.value;return super._reduceState(reducer_428,state_429)}_cloneAttrs(){return Object.assign({value:this.value},super._cloneAttrs())}reduce(reducer_430){let state_431=this._reduceState(reducer_430);return reducer_430.reduceStaticPropertyName(this,state_431)}extend(attrs_432){return new StaticPropertyName(Object.assign(this._cloneAttrs(),attrs_432))}}PropertyName.CloneReducer.prototype.reduceStaticPropertyName=function(term_433,state_434){return new StaticPropertyName(state_434)};exports.StaticPropertyName=StaticPropertyName;class ComputedPropertyName extends PropertyName{constructor(attrs_435,type_436){super(attrs_435,type_436||"ComputedPropertyName");if(!{}.hasOwnProperty.call(attrs_435,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_437,state_438={}){state_438.expression=this.expression instanceof Expression?this.expression.reduce(reducer_437):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_437,state_438)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_439){let state_440=this._reduceState(reducer_439);return reducer_439.reduceComputedPropertyName(this,state_440)}extend(attrs_441){return new ComputedPropertyName(Object.assign(this._cloneAttrs(),attrs_441))}}PropertyName.CloneReducer.prototype.reduceComputedPropertyName=function(term_442,state_443){return new ComputedPropertyName(state_443)};exports.ComputedPropertyName=ComputedPropertyName;class LiteralBooleanExpression extends Expression{constructor(attrs_444,type_445){super(attrs_444,type_445||"LiteralBooleanExpression");if(!{}.hasOwnProperty.call(attrs_444,"value")){throw new Error("Missing attribute: "+"value")}}_reduceState(reducer_446,state_447={}){state_447.value=this.value;return super._reduceState(reducer_446,state_447)}_cloneAttrs(){return Object.assign({value:this.value},super._cloneAttrs())}reduce(reducer_448){let state_449=this._reduceState(reducer_448);return reducer_448.reduceLiteralBooleanExpression(this,state_449)}extend(attrs_450){return new LiteralBooleanExpression(Object.assign(this._cloneAttrs(),attrs_450))}}Expression.CloneReducer.prototype.reduceLiteralBooleanExpression=function(term_451,state_452){return new LiteralBooleanExpression(state_452)};exports.LiteralBooleanExpression=LiteralBooleanExpression;class LiteralInfinityExpression extends Expression{constructor(attrs_453,type_454){super(attrs_453,type_454||"LiteralInfinityExpression")}_reduceState(reducer_455,state_456={}){return super._reduceState(reducer_455,state_456)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_457){let state_458=this._reduceState(reducer_457);return reducer_457.reduceLiteralInfinityExpression(this,state_458)}extend(attrs_459){return new LiteralInfinityExpression(Object.assign(this._cloneAttrs(),attrs_459))}}Expression.CloneReducer.prototype.reduceLiteralInfinityExpression=function(term_460,state_461){return new LiteralInfinityExpression(state_461)};exports.LiteralInfinityExpression=LiteralInfinityExpression;class LiteralNullExpression extends Expression{constructor(attrs_462,type_463){super(attrs_462,type_463||"LiteralNullExpression")}_reduceState(reducer_464,state_465={}){return super._reduceState(reducer_464,state_465)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_466){let state_467=this._reduceState(reducer_466);return reducer_466.reduceLiteralNullExpression(this,state_467)}extend(attrs_468){return new LiteralNullExpression(Object.assign(this._cloneAttrs(),attrs_468))}}Expression.CloneReducer.prototype.reduceLiteralNullExpression=function(term_469,state_470){return new LiteralNullExpression(state_470)};exports.LiteralNullExpression=LiteralNullExpression;class LiteralNumericExpression extends Expression{constructor(attrs_471,type_472){super(attrs_471,type_472||"LiteralNumericExpression");if(!{}.hasOwnProperty.call(attrs_471,"value")){throw new Error("Missing attribute: "+"value")}}_reduceState(reducer_473,state_474={}){state_474.value=this.value;return super._reduceState(reducer_473,state_474)}_cloneAttrs(){return Object.assign({value:this.value},super._cloneAttrs())}reduce(reducer_475){let state_476=this._reduceState(reducer_475);return reducer_475.reduceLiteralNumericExpression(this,state_476)}extend(attrs_477){return new LiteralNumericExpression(Object.assign(this._cloneAttrs(),attrs_477))}}Expression.CloneReducer.prototype.reduceLiteralNumericExpression=function(term_478,state_479){return new LiteralNumericExpression(state_479)};exports.LiteralNumericExpression=LiteralNumericExpression;class LiteralRegExpExpression extends Expression{constructor(attrs_480,type_481){super(attrs_480,type_481||"LiteralRegExpExpression");if(!{}.hasOwnProperty.call(attrs_480,"pattern")){throw new Error("Missing attribute: "+"pattern")}if(!{}.hasOwnProperty.call(attrs_480,"flags")){throw new Error("Missing attribute: "+"flags")}}_reduceState(reducer_482,state_483={}){state_483.pattern=this.pattern;state_483.flags=this.flags;return super._reduceState(reducer_482,state_483)}_cloneAttrs(){return Object.assign({pattern:this.pattern,flags:this.flags},super._cloneAttrs())}reduce(reducer_484){let state_485=this._reduceState(reducer_484);return reducer_484.reduceLiteralRegExpExpression(this,state_485)}extend(attrs_486){return new LiteralRegExpExpression(Object.assign(this._cloneAttrs(),attrs_486))}}Expression.CloneReducer.prototype.reduceLiteralRegExpExpression=function(term_487,state_488){return new LiteralRegExpExpression(state_488)};exports.LiteralRegExpExpression=LiteralRegExpExpression;class LiteralStringExpression extends Expression{constructor(attrs_489,type_490){super(attrs_489,type_490||"LiteralStringExpression");if(!{}.hasOwnProperty.call(attrs_489,"value")){throw new Error("Missing attribute: "+"value")}}_reduceState(reducer_491,state_492={}){state_492.value=this.value;return super._reduceState(reducer_491,state_492)}_cloneAttrs(){return Object.assign({value:this.value},super._cloneAttrs())}reduce(reducer_493){let state_494=this._reduceState(reducer_493);return reducer_493.reduceLiteralStringExpression(this,state_494)}extend(attrs_495){return new LiteralStringExpression(Object.assign(this._cloneAttrs(),attrs_495))}}Expression.CloneReducer.prototype.reduceLiteralStringExpression=function(term_496,state_497){return new LiteralStringExpression(state_497)};exports.LiteralStringExpression=LiteralStringExpression;class ArrayExpression extends Expression{constructor(attrs_498,type_499){super(attrs_498,type_499||"ArrayExpression");if(!{}.hasOwnProperty.call(attrs_498,"elements")){throw new Error("Missing attribute: "+"elements")}}_reduceState(reducer_500,state_501={}){state_501.elements=this.elements.map(a_502=>a_502 instanceof SpreadElement?a_502.reduce(reducer_500):a_502 instanceof Expression?a_502.reduce(reducer_500):a_502==null?null:function(){throw new Error("Unknown object: "+JSON.stringify(a_502))}.call(this));return super._reduceState(reducer_500,state_501)}_cloneAttrs(){return Object.assign({elements:this.elements},super._cloneAttrs())}reduce(reducer_503){let state_504=this._reduceState(reducer_503);return reducer_503.reduceArrayExpression(this,state_504)}extend(attrs_505){return new ArrayExpression(Object.assign(this._cloneAttrs(),attrs_505))}}Expression.CloneReducer.prototype.reduceArrayExpression=function(term_506,state_507){return new ArrayExpression(state_507)};exports.ArrayExpression=ArrayExpression;class ArrowExpression extends Expression{constructor(attrs_508,type_509){super(attrs_508,type_509||"ArrowExpression");if(!{}.hasOwnProperty.call(attrs_508,"params")){throw new Error("Missing attribute: "+"params")}if(!{}.hasOwnProperty.call(attrs_508,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_510,state_511={}){state_511.params=this.params instanceof FormalParameters?this.params.reduce(reducer_510):function(){throw new Error("Unknown object: "+JSON.stringify(this.params))}.call(this);state_511.body=this.body instanceof FunctionBody?this.body.reduce(reducer_510):this.body instanceof Expression?this.body.reduce(reducer_510):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_510,state_511)}_cloneAttrs(){return Object.assign({params:this.params,body:this.body},super._cloneAttrs())}reduce(reducer_512){let state_513=this._reduceState(reducer_512);return reducer_512.reduceArrowExpression(this,state_513)}extend(attrs_514){return new ArrowExpression(Object.assign(this._cloneAttrs(),attrs_514))}}Expression.CloneReducer.prototype.reduceArrowExpression=function(term_515,state_516){return new ArrowExpression(state_516)};exports.ArrowExpression=ArrowExpression;class ArrowExpressionE extends Expression{constructor(attrs_517,type_518){super(attrs_517,type_518||"ArrowExpressionE");if(!{}.hasOwnProperty.call(attrs_517,"params")){throw new Error("Missing attribute: "+"params")}if(!{}.hasOwnProperty.call(attrs_517,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_519,state_520={}){state_520.params=this.params instanceof FormalParameters?this.params.reduce(reducer_519):function(){throw new Error("Unknown object: "+JSON.stringify(this.params))}.call(this);state_520.body=this.body.map(a_521=>a_521 instanceof Term?a_521.reduce(reducer_519):function(){throw new Error("Unknown object: "+JSON.stringify(a_521))}.call(this));return super._reduceState(reducer_519,state_520)}_cloneAttrs(){return Object.assign({params:this.params,body:this.body},super._cloneAttrs())}reduce(reducer_522){let state_523=this._reduceState(reducer_522);return reducer_522.reduceArrowExpressionE(this,state_523)}extend(attrs_524){return new ArrowExpressionE(Object.assign(this._cloneAttrs(),attrs_524))}}Expression.CloneReducer.prototype.reduceArrowExpressionE=function(term_525,state_526){return new ArrowExpressionE(state_526)};exports.ArrowExpressionE=ArrowExpressionE;class AssignmentExpression extends Expression{constructor(attrs_527,type_528){super(attrs_527,type_528||"AssignmentExpression");if(!{}.hasOwnProperty.call(attrs_527,"binding")){throw new Error("Missing attribute: "+"binding")}if(!{}.hasOwnProperty.call(attrs_527,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_529,state_530={}){state_530.binding=this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_529):this.binding instanceof BindingPropertyProperty?this.binding.reduce(reducer_529):this.binding instanceof BindingPropertyIdentifier?this.binding.reduce(reducer_529):this.binding instanceof ObjectBinding?this.binding.reduce(reducer_529):this.binding instanceof ArrayBinding?this.binding.reduce(reducer_529):this.binding instanceof MemberExpression?this.binding.reduce(reducer_529):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);state_530.expression=this.expression instanceof Expression?this.expression.reduce(reducer_529):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_529,state_530)}_cloneAttrs(){return Object.assign({binding:this.binding,expression:this.expression},super._cloneAttrs())}reduce(reducer_531){let state_532=this._reduceState(reducer_531);return reducer_531.reduceAssignmentExpression(this,state_532)}extend(attrs_533){return new AssignmentExpression(Object.assign(this._cloneAttrs(),attrs_533))}}Expression.CloneReducer.prototype.reduceAssignmentExpression=function(term_534,state_535){return new AssignmentExpression(state_535)};exports.AssignmentExpression=AssignmentExpression;class BinaryExpression extends Expression{constructor(attrs_536,type_537){super(attrs_536,type_537||"BinaryExpression");if(!{}.hasOwnProperty.call(attrs_536,"operator")){throw new Error("Missing attribute: "+"operator")}if(!{}.hasOwnProperty.call(attrs_536,"left")){throw new Error("Missing attribute: "+"left")}if(!{}.hasOwnProperty.call(attrs_536,"right")){throw new Error("Missing attribute: "+"right")}}_reduceState(reducer_538,state_539={}){state_539.operator=this.operator;state_539.left=this.left instanceof Expression?this.left.reduce(reducer_538):function(){throw new Error("Unknown object: "+JSON.stringify(this.left))}.call(this);state_539.right=this.right instanceof Expression?this.right.reduce(reducer_538):function(){throw new Error("Unknown object: "+JSON.stringify(this.right))}.call(this);return super._reduceState(reducer_538,state_539)}_cloneAttrs(){return Object.assign({operator:this.operator,left:this.left,right:this.right},super._cloneAttrs())}reduce(reducer_540){let state_541=this._reduceState(reducer_540);return reducer_540.reduceBinaryExpression(this,state_541)}extend(attrs_542){return new BinaryExpression(Object.assign(this._cloneAttrs(),attrs_542))}}Expression.CloneReducer.prototype.reduceBinaryExpression=function(term_543,state_544){return new BinaryExpression(state_544)};exports.BinaryExpression=BinaryExpression;class CallExpression extends Expression{constructor(attrs_545,type_546){super(attrs_545,type_546||"CallExpression");if(!{}.hasOwnProperty.call(attrs_545,"callee")){throw new Error("Missing attribute: "+"callee")}if(!{}.hasOwnProperty.call(attrs_545,"arguments")){throw new Error("Missing attribute: "+"arguments")}}_reduceState(reducer_547,state_548={}){state_548.callee=this.callee instanceof Expression?this.callee.reduce(reducer_547):this.callee instanceof Super?this.callee.reduce(reducer_547):function(){throw new Error("Unknown object: "+JSON.stringify(this.callee))}.call(this);state_548.arguments=this.arguments.map(a_549=>a_549 instanceof SpreadElement?a_549.reduce(reducer_547):a_549 instanceof Expression?a_549.reduce(reducer_547):function(){throw new Error("Unknown object: "+JSON.stringify(a_549))}.call(this));return super._reduceState(reducer_547,state_548)}_cloneAttrs(){return Object.assign({callee:this.callee,arguments:this.arguments},super._cloneAttrs())}reduce(reducer_550){let state_551=this._reduceState(reducer_550);return reducer_550.reduceCallExpression(this,state_551)}extend(attrs_552){return new CallExpression(Object.assign(this._cloneAttrs(),attrs_552))}}Expression.CloneReducer.prototype.reduceCallExpression=function(term_553,state_554){return new CallExpression(state_554)};exports.CallExpression=CallExpression;class CallExpressionE extends Expression{constructor(attrs_555,type_556){super(attrs_555,type_556||"CallExpressionE");if(!{}.hasOwnProperty.call(attrs_555,"callee")){throw new Error("Missing attribute: "+"callee")}if(!{}.hasOwnProperty.call(attrs_555,"arguments")){throw new Error("Missing attribute: "+"arguments")}}_reduceState(reducer_557,state_558={}){state_558.callee=this.callee instanceof Expression?this.callee.reduce(reducer_557):this.callee instanceof Super?this.callee.reduce(reducer_557):function(){throw new Error("Unknown object: "+JSON.stringify(this.callee))}.call(this);state_558.arguments=this.arguments.map(a_559=>a_559 instanceof Term?a_559.reduce(reducer_557):function(){throw new Error("Unknown object: "+JSON.stringify(a_559))}.call(this));return super._reduceState(reducer_557,state_558)}_cloneAttrs(){return Object.assign({callee:this.callee,arguments:this.arguments},super._cloneAttrs())}reduce(reducer_560){let state_561=this._reduceState(reducer_560);return reducer_560.reduceCallExpressionE(this,state_561)}extend(attrs_562){return new CallExpressionE(Object.assign(this._cloneAttrs(),attrs_562))}}Expression.CloneReducer.prototype.reduceCallExpressionE=function(term_563,state_564){return new CallExpressionE(state_564)};exports.CallExpressionE=CallExpressionE;class CompoundAssignmentExpression extends Expression{constructor(attrs_565,type_566){super(attrs_565,type_566||"CompoundAssignmentExpression");if(!{}.hasOwnProperty.call(attrs_565,"binding")){throw new Error("Missing attribute: "+"binding")}if(!{}.hasOwnProperty.call(attrs_565,"operator")){throw new Error("Missing attribute: "+"operator")}if(!{}.hasOwnProperty.call(attrs_565,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_567,state_568={}){state_568.binding=this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_567):this.binding instanceof MemberExpression?this.binding.reduce(reducer_567):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);state_568.operator=this.operator;state_568.expression=this.expression instanceof Expression?this.expression.reduce(reducer_567):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_567,state_568)}_cloneAttrs(){return Object.assign({binding:this.binding,operator:this.operator,expression:this.expression},super._cloneAttrs())}reduce(reducer_569){let state_570=this._reduceState(reducer_569);return reducer_569.reduceCompoundAssignmentExpression(this,state_570)}extend(attrs_571){return new CompoundAssignmentExpression(Object.assign(this._cloneAttrs(),attrs_571))}}Expression.CloneReducer.prototype.reduceCompoundAssignmentExpression=function(term_572,state_573){return new CompoundAssignmentExpression(state_573)};exports.CompoundAssignmentExpression=CompoundAssignmentExpression;class ComputedMemberExpression extends MemberExpression{constructor(attrs_574,type_575){super(attrs_574,type_575||"ComputedMemberExpression");if(!{}.hasOwnProperty.call(attrs_574,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_576,state_577={}){state_577.expression=this.expression instanceof Expression?this.expression.reduce(reducer_576):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_576,state_577)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_578){let state_579=this._reduceState(reducer_578);return reducer_578.reduceComputedMemberExpression(this,state_579)}extend(attrs_580){return new ComputedMemberExpression(Object.assign(this._cloneAttrs(),attrs_580))}}MemberExpression.CloneReducer.prototype.reduceComputedMemberExpression=function(term_581,state_582){return new ComputedMemberExpression(state_582)};exports.ComputedMemberExpression=ComputedMemberExpression;class ConditionalExpression extends Expression{constructor(attrs_583,type_584){super(attrs_583,type_584||"ConditionalExpression");if(!{}.hasOwnProperty.call(attrs_583,"test")){throw new Error("Missing attribute: "+"test")}if(!{}.hasOwnProperty.call(attrs_583,"consequent")){throw new Error("Missing attribute: "+"consequent")}if(!{}.hasOwnProperty.call(attrs_583,"alternate")){throw new Error("Missing attribute: "+"alternate")}}_reduceState(reducer_585,state_586={}){state_586.test=this.test instanceof Expression?this.test.reduce(reducer_585):function(){throw new Error("Unknown object: "+JSON.stringify(this.test))}.call(this);state_586.consequent=this.consequent instanceof Expression?this.consequent.reduce(reducer_585):function(){throw new Error("Unknown object: "+JSON.stringify(this.consequent))}.call(this);state_586.alternate=this.alternate instanceof Expression?this.alternate.reduce(reducer_585):function(){throw new Error("Unknown object: "+JSON.stringify(this.alternate))}.call(this);return super._reduceState(reducer_585,state_586)}_cloneAttrs(){return Object.assign({test:this.test,consequent:this.consequent,alternate:this.alternate},super._cloneAttrs())}reduce(reducer_587){let state_588=this._reduceState(reducer_587);return reducer_587.reduceConditionalExpression(this,state_588)}extend(attrs_589){return new ConditionalExpression(Object.assign(this._cloneAttrs(),attrs_589))}}Expression.CloneReducer.prototype.reduceConditionalExpression=function(term_590,state_591){return new ConditionalExpression(state_591)};exports.ConditionalExpression=ConditionalExpression;class FunctionExpression extends Expression{constructor(attrs_592,type_593){super(attrs_592,type_593||"FunctionExpression");if(!{}.hasOwnProperty.call(attrs_592,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_592,"isGenerator")){throw new Error("Missing attribute: "+"isGenerator")}if(!{}.hasOwnProperty.call(attrs_592,"params")){throw new Error("Missing attribute: "+"params")}if(!{}.hasOwnProperty.call(attrs_592,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_594,state_595={}){state_595.name=this.name==null?null:this.name instanceof BindingIdentifier?this.name.reduce(reducer_594):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);state_595.isGenerator=this.isGenerator;state_595.params=this.params instanceof FormalParameters?this.params.reduce(reducer_594):function(){throw new Error("Unknown object: "+JSON.stringify(this.params))}.call(this);state_595.body=this.body instanceof FunctionBody?this.body.reduce(reducer_594):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_594,state_595)}_cloneAttrs(){return Object.assign({name:this.name,isGenerator:this.isGenerator,params:this.params,body:this.body},super._cloneAttrs())}reduce(reducer_596){let state_597=this._reduceState(reducer_596);return reducer_596.reduceFunctionExpression(this,state_597)}extend(attrs_598){return new FunctionExpression(Object.assign(this._cloneAttrs(),attrs_598))}}Expression.CloneReducer.prototype.reduceFunctionExpression=function(term_599,state_600){return new FunctionExpression(state_600)};exports.FunctionExpression=FunctionExpression;class FunctionExpressionE extends Expression{constructor(attrs_601,type_602){super(attrs_601,type_602||"FunctionExpressionE");if(!{}.hasOwnProperty.call(attrs_601,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_601,"isGenerator")){throw new Error("Missing attribute: "+"isGenerator")}if(!{}.hasOwnProperty.call(attrs_601,"params")){throw new Error("Missing attribute: "+"params")}if(!{}.hasOwnProperty.call(attrs_601,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_603,state_604={}){state_604.name=this.name==null?null:this.name instanceof BindingIdentifier?this.name.reduce(reducer_603):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);state_604.isGenerator=this.isGenerator;state_604.params=this.params instanceof FormalParameters?this.params.reduce(reducer_603):function(){throw new Error("Unknown object: "+JSON.stringify(this.params))}.call(this);state_604.body=this.body.map(a_605=>a_605 instanceof Term?a_605.reduce(reducer_603):function(){throw new Error("Unknown object: "+JSON.stringify(a_605))}.call(this));return super._reduceState(reducer_603,state_604)}_cloneAttrs(){return Object.assign({name:this.name,isGenerator:this.isGenerator,params:this.params,body:this.body},super._cloneAttrs())}reduce(reducer_606){let state_607=this._reduceState(reducer_606);return reducer_606.reduceFunctionExpressionE(this,state_607)}extend(attrs_608){return new FunctionExpressionE(Object.assign(this._cloneAttrs(),attrs_608))}}Expression.CloneReducer.prototype.reduceFunctionExpressionE=function(term_609,state_610){return new FunctionExpressionE(state_610)};exports.FunctionExpressionE=FunctionExpressionE;class IdentifierExpression extends Expression{constructor(attrs_611,type_612){super(attrs_611,type_612||"IdentifierExpression");if(!{}.hasOwnProperty.call(attrs_611,"name")){throw new Error("Missing attribute: "+"name")}}_reduceState(reducer_613,state_614={}){state_614.name=this.name;return super._reduceState(reducer_613,state_614)}_cloneAttrs(){return Object.assign({name:this.name},super._cloneAttrs())}reduce(reducer_615){let state_616=this._reduceState(reducer_615);return reducer_615.reduceIdentifierExpression(this,state_616)}extend(attrs_617){return new IdentifierExpression(Object.assign(this._cloneAttrs(),attrs_617))}}Expression.CloneReducer.prototype.reduceIdentifierExpression=function(term_618,state_619){return new IdentifierExpression(state_619)};exports.IdentifierExpression=IdentifierExpression;class NewExpression extends Expression{constructor(attrs_620,type_621){super(attrs_620,type_621||"NewExpression");if(!{}.hasOwnProperty.call(attrs_620,"callee")){throw new Error("Missing attribute: "+"callee")}if(!{}.hasOwnProperty.call(attrs_620,"arguments")){throw new Error("Missing attribute: "+"arguments")}}_reduceState(reducer_622,state_623={}){state_623.callee=this.callee instanceof Expression?this.callee.reduce(reducer_622):function(){throw new Error("Unknown object: "+JSON.stringify(this.callee))}.call(this);state_623.arguments=this.arguments.map(a_624=>a_624 instanceof SpreadElement?a_624.reduce(reducer_622):a_624 instanceof Expression?a_624.reduce(reducer_622):function(){throw new Error("Unknown object: "+JSON.stringify(a_624))}.call(this));return super._reduceState(reducer_622,state_623)}_cloneAttrs(){return Object.assign({callee:this.callee,arguments:this.arguments},super._cloneAttrs())}reduce(reducer_625){let state_626=this._reduceState(reducer_625);return reducer_625.reduceNewExpression(this,state_626)}extend(attrs_627){return new NewExpression(Object.assign(this._cloneAttrs(),attrs_627))}}Expression.CloneReducer.prototype.reduceNewExpression=function(term_628,state_629){return new NewExpression(state_629)};exports.NewExpression=NewExpression;class NewTargetExpression extends Expression{constructor(attrs_630,type_631){super(attrs_630,type_631||"NewTargetExpression")}_reduceState(reducer_632,state_633={}){return super._reduceState(reducer_632,state_633)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_634){let state_635=this._reduceState(reducer_634);return reducer_634.reduceNewTargetExpression(this,state_635)}extend(attrs_636){return new NewTargetExpression(Object.assign(this._cloneAttrs(),attrs_636))}}Expression.CloneReducer.prototype.reduceNewTargetExpression=function(term_637,state_638){return new NewTargetExpression(state_638)};exports.NewTargetExpression=NewTargetExpression;class ObjectExpression extends Expression{constructor(attrs_639,type_640){super(attrs_639,type_640||"ObjectExpression");if(!{}.hasOwnProperty.call(attrs_639,"properties")){throw new Error("Missing attribute: "+"properties")}}_reduceState(reducer_641,state_642={}){state_642.properties=this.properties.map(a_643=>a_643 instanceof ObjectProperty?a_643.reduce(reducer_641):function(){throw new Error("Unknown object: "+JSON.stringify(a_643))}.call(this));return super._reduceState(reducer_641,state_642)}_cloneAttrs(){return Object.assign({properties:this.properties},super._cloneAttrs())}reduce(reducer_644){let state_645=this._reduceState(reducer_644);return reducer_644.reduceObjectExpression(this,state_645)}extend(attrs_646){return new ObjectExpression(Object.assign(this._cloneAttrs(),attrs_646))}}Expression.CloneReducer.prototype.reduceObjectExpression=function(term_647,state_648){return new ObjectExpression(state_648)};exports.ObjectExpression=ObjectExpression;class UnaryExpression extends Expression{constructor(attrs_649,type_650){super(attrs_649,type_650||"UnaryExpression");if(!{}.hasOwnProperty.call(attrs_649,"operator")){throw new Error("Missing attribute: "+"operator")}if(!{}.hasOwnProperty.call(attrs_649,"operand")){throw new Error("Missing attribute: "+"operand")}}_reduceState(reducer_651,state_652={}){state_652.operator=this.operator;state_652.operand=this.operand instanceof Expression?this.operand.reduce(reducer_651):function(){throw new Error("Unknown object: "+JSON.stringify(this.operand))}.call(this);return super._reduceState(reducer_651,state_652)}_cloneAttrs(){return Object.assign({operator:this.operator,operand:this.operand},super._cloneAttrs())}reduce(reducer_653){let state_654=this._reduceState(reducer_653);return reducer_653.reduceUnaryExpression(this,state_654)}extend(attrs_655){return new UnaryExpression(Object.assign(this._cloneAttrs(),attrs_655))}}Expression.CloneReducer.prototype.reduceUnaryExpression=function(term_656,state_657){return new UnaryExpression(state_657)};exports.UnaryExpression=UnaryExpression;class StaticMemberExpression extends MemberExpression{constructor(attrs_658,type_659){super(attrs_658,type_659||"StaticMemberExpression");if(!{}.hasOwnProperty.call(attrs_658,"property")){throw new Error("Missing attribute: "+"property")}}_reduceState(reducer_660,state_661={}){state_661.property=this.property;return super._reduceState(reducer_660,state_661)}_cloneAttrs(){return Object.assign({property:this.property},super._cloneAttrs())}reduce(reducer_662){let state_663=this._reduceState(reducer_662);return reducer_662.reduceStaticMemberExpression(this,state_663)}extend(attrs_664){return new StaticMemberExpression(Object.assign(this._cloneAttrs(),attrs_664))}}MemberExpression.CloneReducer.prototype.reduceStaticMemberExpression=function(term_665,state_666){return new StaticMemberExpression(state_666)};exports.StaticMemberExpression=StaticMemberExpression;class TemplateExpression extends Expression{constructor(attrs_667,type_668){super(attrs_667,type_668||"TemplateExpression");if(!{}.hasOwnProperty.call(attrs_667,"tag")){throw new Error("Missing attribute: "+"tag")}if(!{}.hasOwnProperty.call(attrs_667,"elements")){throw new Error("Missing attribute: "+"elements")}}_reduceState(reducer_669,state_670={}){state_670.tag=this.tag==null?null:this.tag instanceof Expression?this.tag.reduce(reducer_669):function(){throw new Error("Unknown object: "+JSON.stringify(this.tag))}.call(this);state_670.elements=this.elements.map(a_671=>a_671 instanceof Expression?a_671.reduce(reducer_669):a_671 instanceof TemplateElement?a_671.reduce(reducer_669):function(){throw new Error("Unknown object: "+JSON.stringify(a_671))}.call(this));return super._reduceState(reducer_669,state_670)}_cloneAttrs(){return Object.assign({tag:this.tag,elements:this.elements},super._cloneAttrs())}reduce(reducer_672){let state_673=this._reduceState(reducer_672);return reducer_672.reduceTemplateExpression(this,state_673)}extend(attrs_674){return new TemplateExpression(Object.assign(this._cloneAttrs(),attrs_674))}}Expression.CloneReducer.prototype.reduceTemplateExpression=function(term_675,state_676){return new TemplateExpression(state_676)};exports.TemplateExpression=TemplateExpression;class ThisExpression extends Expression{constructor(attrs_677,type_678){super(attrs_677,type_678||"ThisExpression");if(!{}.hasOwnProperty.call(attrs_677,"stx")){throw new Error("Missing attribute: "+"stx")}}_reduceState(reducer_679,state_680={}){state_680.stx=this.stx;return super._reduceState(reducer_679,state_680)}_cloneAttrs(){return Object.assign({stx:this.stx},super._cloneAttrs())}reduce(reducer_681){let state_682=this._reduceState(reducer_681);return reducer_681.reduceThisExpression(this,state_682)}extend(attrs_683){return new ThisExpression(Object.assign(this._cloneAttrs(),attrs_683))}}Expression.CloneReducer.prototype.reduceThisExpression=function(term_684,state_685){return new ThisExpression(state_685)};exports.ThisExpression=ThisExpression;class UpdateExpression extends Expression{constructor(attrs_686,type_687){super(attrs_686,type_687||"UpdateExpression");if(!{}.hasOwnProperty.call(attrs_686,"isPrefix")){throw new Error("Missing attribute: "+"isPrefix")}if(!{}.hasOwnProperty.call(attrs_686,"operator")){throw new Error("Missing attribute: "+"operator")}if(!{}.hasOwnProperty.call(attrs_686,"operand")){throw new Error("Missing attribute: "+"operand")}}_reduceState(reducer_688,state_689={}){state_689.isPrefix=this.isPrefix;state_689.operator=this.operator;state_689.operand=this.operand instanceof BindingIdentifier?this.operand.reduce(reducer_688):this.operand instanceof MemberExpression?this.operand.reduce(reducer_688):function(){throw new Error("Unknown object: "+JSON.stringify(this.operand))}.call(this);return super._reduceState(reducer_688,state_689)}_cloneAttrs(){return Object.assign({isPrefix:this.isPrefix,operator:this.operator,operand:this.operand},super._cloneAttrs())}reduce(reducer_690){let state_691=this._reduceState(reducer_690);return reducer_690.reduceUpdateExpression(this,state_691)}extend(attrs_692){return new UpdateExpression(Object.assign(this._cloneAttrs(),attrs_692))}}Expression.CloneReducer.prototype.reduceUpdateExpression=function(term_693,state_694){return new UpdateExpression(state_694)};exports.UpdateExpression=UpdateExpression;class YieldExpression extends Expression{constructor(attrs_695,type_696){super(attrs_695,type_696||"YieldExpression");if(!{}.hasOwnProperty.call(attrs_695,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_697,state_698={}){state_698.expression=this.expression==null?null:this.expression instanceof Expression?this.expression.reduce(reducer_697):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_697,state_698)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_699){let state_700=this._reduceState(reducer_699);return reducer_699.reduceYieldExpression(this,state_700)}extend(attrs_701){return new YieldExpression(Object.assign(this._cloneAttrs(),attrs_701))}}Expression.CloneReducer.prototype.reduceYieldExpression=function(term_702,state_703){return new YieldExpression(state_703)};exports.YieldExpression=YieldExpression;class YieldGeneratorExpression extends Expression{constructor(attrs_704,type_705){super(attrs_704,type_705||"YieldGeneratorExpression");if(!{}.hasOwnProperty.call(attrs_704,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_706,state_707={}){state_707.expression=this.expression instanceof Expression?this.expression.reduce(reducer_706):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_706,state_707)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_708){let state_709=this._reduceState(reducer_708);return reducer_708.reduceYieldGeneratorExpression(this,state_709)}extend(attrs_710){return new YieldGeneratorExpression(Object.assign(this._cloneAttrs(),attrs_710))}}Expression.CloneReducer.prototype.reduceYieldGeneratorExpression=function(term_711,state_712){return new YieldGeneratorExpression(state_712)};exports.YieldGeneratorExpression=YieldGeneratorExpression;class ParenthesizedExpression extends Expression{constructor(attrs_713,type_714){super(attrs_713,type_714||"ParenthesizedExpression");if(!{}.hasOwnProperty.call(attrs_713,"inner")){throw new Error("Missing attribute: "+"inner")}}_reduceState(reducer_715,state_716={}){state_716.inner=this.inner;return super._reduceState(reducer_715,state_716)}_cloneAttrs(){return Object.assign({inner:this.inner},super._cloneAttrs())}reduce(reducer_717){let state_718=this._reduceState(reducer_717);return reducer_717.reduceParenthesizedExpression(this,state_718)}extend(attrs_719){return new ParenthesizedExpression(Object.assign(this._cloneAttrs(),attrs_719))}}Expression.CloneReducer.prototype.reduceParenthesizedExpression=function(term_720,state_721){return new ParenthesizedExpression(state_721)};exports.ParenthesizedExpression=ParenthesizedExpression;class BlockStatement extends Statement{constructor(attrs_722,type_723){super(attrs_722,type_723||"BlockStatement");if(!{}.hasOwnProperty.call(attrs_722,"block")){throw new Error("Missing attribute: "+"block")}}_reduceState(reducer_724,state_725={}){state_725.block=this.block instanceof Block?this.block.reduce(reducer_724):function(){throw new Error("Unknown object: "+JSON.stringify(this.block))}.call(this);return super._reduceState(reducer_724,state_725)}_cloneAttrs(){return Object.assign({block:this.block},super._cloneAttrs())}reduce(reducer_726){let state_727=this._reduceState(reducer_726);return reducer_726.reduceBlockStatement(this,state_727)}extend(attrs_728){return new BlockStatement(Object.assign(this._cloneAttrs(),attrs_728))}}Statement.CloneReducer.prototype.reduceBlockStatement=function(term_729,state_730){return new BlockStatement(state_730)};exports.BlockStatement=BlockStatement;class BreakStatement extends Statement{constructor(attrs_731,type_732){super(attrs_731,type_732||"BreakStatement");if(!{}.hasOwnProperty.call(attrs_731,"label")){throw new Error("Missing attribute: "+"label")}}_reduceState(reducer_733,state_734={}){state_734.label=this.label==null?null:this.label;return super._reduceState(reducer_733,state_734)}_cloneAttrs(){return Object.assign({label:this.label},super._cloneAttrs())}reduce(reducer_735){let state_736=this._reduceState(reducer_735);return reducer_735.reduceBreakStatement(this,state_736)}extend(attrs_737){return new BreakStatement(Object.assign(this._cloneAttrs(),attrs_737))}}Statement.CloneReducer.prototype.reduceBreakStatement=function(term_738,state_739){return new BreakStatement(state_739)};exports.BreakStatement=BreakStatement;class ContinueStatement extends Statement{constructor(attrs_740,type_741){super(attrs_740,type_741||"ContinueStatement");if(!{}.hasOwnProperty.call(attrs_740,"label")){throw new Error("Missing attribute: "+"label")}}_reduceState(reducer_742,state_743={}){state_743.label=this.label==null?null:this.label;return super._reduceState(reducer_742,state_743)}_cloneAttrs(){return Object.assign({label:this.label},super._cloneAttrs())}reduce(reducer_744){let state_745=this._reduceState(reducer_744);return reducer_744.reduceContinueStatement(this,state_745)}extend(attrs_746){return new ContinueStatement(Object.assign(this._cloneAttrs(),attrs_746))}}Statement.CloneReducer.prototype.reduceContinueStatement=function(term_747,state_748){return new ContinueStatement(state_748)};exports.ContinueStatement=ContinueStatement;class DebuggerStatement extends Statement{constructor(attrs_749,type_750){super(attrs_749,type_750||"DebuggerStatement")}_reduceState(reducer_751,state_752={}){return super._reduceState(reducer_751,state_752)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_753){let state_754=this._reduceState(reducer_753);return reducer_753.reduceDebuggerStatement(this,state_754)}extend(attrs_755){return new DebuggerStatement(Object.assign(this._cloneAttrs(),attrs_755))}}Statement.CloneReducer.prototype.reduceDebuggerStatement=function(term_756,state_757){return new DebuggerStatement(state_757)};exports.DebuggerStatement=DebuggerStatement;class DoWhileStatement extends IterationStatement{constructor(attrs_758,type_759){super(attrs_758,type_759||"DoWhileStatement");if(!{}.hasOwnProperty.call(attrs_758,"test")){throw new Error("Missing attribute: "+"test")}}_reduceState(reducer_760,state_761={}){state_761.test=this.test instanceof Expression?this.test.reduce(reducer_760):function(){throw new Error("Unknown object: "+JSON.stringify(this.test))}.call(this);return super._reduceState(reducer_760,state_761)}_cloneAttrs(){return Object.assign({test:this.test},super._cloneAttrs())}reduce(reducer_762){let state_763=this._reduceState(reducer_762);return reducer_762.reduceDoWhileStatement(this,state_763)}extend(attrs_764){return new DoWhileStatement(Object.assign(this._cloneAttrs(),attrs_764))}}IterationStatement.CloneReducer.prototype.reduceDoWhileStatement=function(term_765,state_766){return new DoWhileStatement(state_766)};exports.DoWhileStatement=DoWhileStatement;class EmptyStatement extends Statement{constructor(attrs_767,type_768){super(attrs_767,type_768||"EmptyStatement")}_reduceState(reducer_769,state_770={}){return super._reduceState(reducer_769,state_770)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_771){let state_772=this._reduceState(reducer_771);return reducer_771.reduceEmptyStatement(this,state_772)}extend(attrs_773){return new EmptyStatement(Object.assign(this._cloneAttrs(),attrs_773))}}Statement.CloneReducer.prototype.reduceEmptyStatement=function(term_774,state_775){return new EmptyStatement(state_775)};exports.EmptyStatement=EmptyStatement;class ExpressionStatement extends Statement{constructor(attrs_776,type_777){super(attrs_776,type_777||"ExpressionStatement");if(!{}.hasOwnProperty.call(attrs_776,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_778,state_779={}){state_779.expression=this.expression instanceof Expression?this.expression.reduce(reducer_778):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_778,state_779)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_780){let state_781=this._reduceState(reducer_780);return reducer_780.reduceExpressionStatement(this,state_781)}extend(attrs_782){return new ExpressionStatement(Object.assign(this._cloneAttrs(),attrs_782))}}Statement.CloneReducer.prototype.reduceExpressionStatement=function(term_783,state_784){return new ExpressionStatement(state_784)};exports.ExpressionStatement=ExpressionStatement;class ForInStatement extends IterationStatement{constructor(attrs_785,type_786){super(attrs_785,type_786||"ForInStatement");if(!{}.hasOwnProperty.call(attrs_785,"left")){throw new Error("Missing attribute: "+"left")}if(!{}.hasOwnProperty.call(attrs_785,"right")){throw new Error("Missing attribute: "+"right")}}_reduceState(reducer_787,state_788={}){state_788.left=this.left instanceof VariableDeclaration?this.left.reduce(reducer_787):this.left instanceof ObjectBinding?this.left.reduce(reducer_787):this.left instanceof ArrayBinding?this.left.reduce(reducer_787):this.left instanceof BindingIdentifier?this.left.reduce(reducer_787):this.left instanceof MemberExpression?this.left.reduce(reducer_787):function(){throw new Error("Unknown object: "+JSON.stringify(this.left))}.call(this);state_788.right=this.right instanceof Expression?this.right.reduce(reducer_787):function(){throw new Error("Unknown object: "+JSON.stringify(this.right))}.call(this);return super._reduceState(reducer_787,state_788)}_cloneAttrs(){return Object.assign({left:this.left,right:this.right},super._cloneAttrs())}reduce(reducer_789){let state_790=this._reduceState(reducer_789);return reducer_789.reduceForInStatement(this,state_790)}extend(attrs_791){return new ForInStatement(Object.assign(this._cloneAttrs(),attrs_791))}}IterationStatement.CloneReducer.prototype.reduceForInStatement=function(term_792,state_793){return new ForInStatement(state_793)};exports.ForInStatement=ForInStatement;class ForOfStatement extends IterationStatement{constructor(attrs_794,type_795){super(attrs_794,type_795||"ForOfStatement");if(!{}.hasOwnProperty.call(attrs_794,"left")){throw new Error("Missing attribute: "+"left")}if(!{}.hasOwnProperty.call(attrs_794,"right")){throw new Error("Missing attribute: "+"right")}}_reduceState(reducer_796,state_797={}){state_797.left=this.left instanceof VariableDeclaration?this.left.reduce(reducer_796):this.left instanceof ObjectBinding?this.left.reduce(reducer_796):this.left instanceof ArrayBinding?this.left.reduce(reducer_796):this.left instanceof BindingIdentifier?this.left.reduce(reducer_796):this.left instanceof MemberExpression?this.left.reduce(reducer_796):function(){throw new Error("Unknown object: "+JSON.stringify(this.left))}.call(this);state_797.right=this.right instanceof Expression?this.right.reduce(reducer_796):function(){throw new Error("Unknown object: "+JSON.stringify(this.right))}.call(this);return super._reduceState(reducer_796,state_797)}_cloneAttrs(){return Object.assign({left:this.left,right:this.right},super._cloneAttrs())}reduce(reducer_798){let state_799=this._reduceState(reducer_798);return reducer_798.reduceForOfStatement(this,state_799)}extend(attrs_800){return new ForOfStatement(Object.assign(this._cloneAttrs(),attrs_800))}}IterationStatement.CloneReducer.prototype.reduceForOfStatement=function(term_801,state_802){return new ForOfStatement(state_802)};exports.ForOfStatement=ForOfStatement;class ForStatement extends IterationStatement{constructor(attrs_803,type_804){super(attrs_803,type_804||"ForStatement");if(!{}.hasOwnProperty.call(attrs_803,"init")){throw new Error("Missing attribute: "+"init")}if(!{}.hasOwnProperty.call(attrs_803,"test")){throw new Error("Missing attribute: "+"test")}if(!{}.hasOwnProperty.call(attrs_803,"update")){throw new Error("Missing attribute: "+"update")}}_reduceState(reducer_805,state_806={}){state_806.init=this.init==null?null:this.init instanceof VariableDeclaration?this.init.reduce(reducer_805):this.init instanceof Expression?this.init.reduce(reducer_805):function(){throw new Error("Unknown object: "+JSON.stringify(this.init))}.call(this);state_806.test=this.test==null?null:this.test instanceof Expression?this.test.reduce(reducer_805):function(){throw new Error("Unknown object: "+JSON.stringify(this.test))}.call(this);state_806.update=this.update==null?null:this.update instanceof Expression?this.update.reduce(reducer_805):function(){throw new Error("Unknown object: "+JSON.stringify(this.update))}.call(this);return super._reduceState(reducer_805,state_806)}_cloneAttrs(){return Object.assign({init:this.init,test:this.test,update:this.update},super._cloneAttrs())}reduce(reducer_807){let state_808=this._reduceState(reducer_807);return reducer_807.reduceForStatement(this,state_808)}extend(attrs_809){return new ForStatement(Object.assign(this._cloneAttrs(),attrs_809))}}IterationStatement.CloneReducer.prototype.reduceForStatement=function(term_810,state_811){return new ForStatement(state_811)};exports.ForStatement=ForStatement;class IfStatement extends Statement{constructor(attrs_812,type_813){super(attrs_812,type_813||"IfStatement");if(!{}.hasOwnProperty.call(attrs_812,"test")){throw new Error("Missing attribute: "+"test")}if(!{}.hasOwnProperty.call(attrs_812,"consequent")){throw new Error("Missing attribute: "+"consequent")}if(!{}.hasOwnProperty.call(attrs_812,"alternate")){throw new Error("Missing attribute: "+"alternate")}}_reduceState(reducer_814,state_815={}){state_815.test=this.test instanceof Expression?this.test.reduce(reducer_814):function(){throw new Error("Unknown object: "+JSON.stringify(this.test))}.call(this);state_815.consequent=this.consequent instanceof Statement?this.consequent.reduce(reducer_814):function(){throw new Error("Unknown object: "+JSON.stringify(this.consequent))}.call(this);state_815.alternate=this.alternate==null?null:this.alternate instanceof Statement?this.alternate.reduce(reducer_814):function(){throw new Error("Unknown object: "+JSON.stringify(this.alternate))}.call(this);return super._reduceState(reducer_814,state_815)}_cloneAttrs(){return Object.assign({test:this.test,consequent:this.consequent,alternate:this.alternate},super._cloneAttrs())}reduce(reducer_816){let state_817=this._reduceState(reducer_816);return reducer_816.reduceIfStatement(this,state_817)}extend(attrs_818){return new IfStatement(Object.assign(this._cloneAttrs(),attrs_818))}}Statement.CloneReducer.prototype.reduceIfStatement=function(term_819,state_820){return new IfStatement(state_820)};exports.IfStatement=IfStatement;class LabeledStatement extends Statement{constructor(attrs_821,type_822){super(attrs_821,type_822||"LabeledStatement");if(!{}.hasOwnProperty.call(attrs_821,"label")){throw new Error("Missing attribute: "+"label")}if(!{}.hasOwnProperty.call(attrs_821,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_823,state_824={}){state_824.label=this.label;state_824.body=this.body instanceof Statement?this.body.reduce(reducer_823):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_823,state_824)}_cloneAttrs(){return Object.assign({label:this.label,body:this.body},super._cloneAttrs())}reduce(reducer_825){let state_826=this._reduceState(reducer_825);return reducer_825.reduceLabeledStatement(this,state_826)}extend(attrs_827){return new LabeledStatement(Object.assign(this._cloneAttrs(),attrs_827))}}Statement.CloneReducer.prototype.reduceLabeledStatement=function(term_828,state_829){return new LabeledStatement(state_829)};exports.LabeledStatement=LabeledStatement;class ReturnStatement extends Statement{constructor(attrs_830,type_831){super(attrs_830,type_831||"ReturnStatement");if(!{}.hasOwnProperty.call(attrs_830,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_832,state_833={}){state_833.expression=this.expression==null?null:this.expression instanceof Expression?this.expression.reduce(reducer_832):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_832,state_833)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_834){let state_835=this._reduceState(reducer_834);return reducer_834.reduceReturnStatement(this,state_835)}extend(attrs_836){return new ReturnStatement(Object.assign(this._cloneAttrs(),attrs_836))}}Statement.CloneReducer.prototype.reduceReturnStatement=function(term_837,state_838){return new ReturnStatement(state_838)};exports.ReturnStatement=ReturnStatement;class SwitchStatement extends Statement{constructor(attrs_839,type_840){super(attrs_839,type_840||"SwitchStatement");if(!{}.hasOwnProperty.call(attrs_839,"discriminant")){throw new Error("Missing attribute: "+"discriminant")}if(!{}.hasOwnProperty.call(attrs_839,"cases")){throw new Error("Missing attribute: "+"cases")}}_reduceState(reducer_841,state_842={}){state_842.discriminant=this.discriminant instanceof Expression?this.discriminant.reduce(reducer_841):function(){throw new Error("Unknown object: "+JSON.stringify(this.discriminant))}.call(this);state_842.cases=this.cases.map(a_843=>a_843 instanceof SwitchCase?a_843.reduce(reducer_841):function(){throw new Error("Unknown object: "+JSON.stringify(a_843))}.call(this));return super._reduceState(reducer_841,state_842)}_cloneAttrs(){return Object.assign({discriminant:this.discriminant,cases:this.cases},super._cloneAttrs())}reduce(reducer_844){let state_845=this._reduceState(reducer_844);return reducer_844.reduceSwitchStatement(this,state_845)}extend(attrs_846){return new SwitchStatement(Object.assign(this._cloneAttrs(),attrs_846))}}Statement.CloneReducer.prototype.reduceSwitchStatement=function(term_847,state_848){return new SwitchStatement(state_848)};exports.SwitchStatement=SwitchStatement;class SwitchStatementWithDefault extends Statement{constructor(attrs_849,type_850){super(attrs_849,type_850||"SwitchStatementWithDefault");if(!{}.hasOwnProperty.call(attrs_849,"discriminant")){throw new Error("Missing attribute: "+"discriminant")}if(!{}.hasOwnProperty.call(attrs_849,"preDefaultCases")){throw new Error("Missing attribute: "+"preDefaultCases")}if(!{}.hasOwnProperty.call(attrs_849,"defaultCase")){throw new Error("Missing attribute: "+"defaultCase")}if(!{}.hasOwnProperty.call(attrs_849,"postDefaultCases")){throw new Error("Missing attribute: "+"postDefaultCases")}}_reduceState(reducer_851,state_852={}){state_852.discriminant=this.discriminant instanceof Expression?this.discriminant.reduce(reducer_851):function(){throw new Error("Unknown object: "+JSON.stringify(this.discriminant))}.call(this);state_852.preDefaultCases=this.preDefaultCases.map(a_853=>a_853 instanceof SwitchCase?a_853.reduce(reducer_851):function(){throw new Error("Unknown object: "+JSON.stringify(a_853))}.call(this));state_852.defaultCase=this.defaultCase instanceof SwitchDefault?this.defaultCase.reduce(reducer_851):function(){throw new Error("Unknown object: "+JSON.stringify(this.defaultCase))}.call(this);state_852.postDefaultCases=this.postDefaultCases.map(a_854=>a_854 instanceof SwitchCase?a_854.reduce(reducer_851):function(){throw new Error("Unknown object: "+JSON.stringify(a_854))}.call(this));return super._reduceState(reducer_851,state_852)}_cloneAttrs(){return Object.assign({discriminant:this.discriminant,preDefaultCases:this.preDefaultCases,defaultCase:this.defaultCase,postDefaultCases:this.postDefaultCases},super._cloneAttrs())}reduce(reducer_855){let state_856=this._reduceState(reducer_855);return reducer_855.reduceSwitchStatementWithDefault(this,state_856)}extend(attrs_857){return new SwitchStatementWithDefault(Object.assign(this._cloneAttrs(),attrs_857))}}Statement.CloneReducer.prototype.reduceSwitchStatementWithDefault=function(term_858,state_859){return new SwitchStatementWithDefault(state_859)};exports.SwitchStatementWithDefault=SwitchStatementWithDefault;class ThrowStatement extends Statement{constructor(attrs_860,type_861){super(attrs_860,type_861||"ThrowStatement");if(!{}.hasOwnProperty.call(attrs_860,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_862,state_863={}){state_863.expression=this.expression instanceof Expression?this.expression.reduce(reducer_862):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_862,state_863)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_864){let state_865=this._reduceState(reducer_864);return reducer_864.reduceThrowStatement(this,state_865)}extend(attrs_866){return new ThrowStatement(Object.assign(this._cloneAttrs(),attrs_866))}}Statement.CloneReducer.prototype.reduceThrowStatement=function(term_867,state_868){return new ThrowStatement(state_868)};exports.ThrowStatement=ThrowStatement;class TryCatchStatement extends Statement{constructor(attrs_869,type_870){super(attrs_869,type_870||"TryCatchStatement");if(!{}.hasOwnProperty.call(attrs_869,"body")){throw new Error("Missing attribute: "+"body")}if(!{}.hasOwnProperty.call(attrs_869,"catchClause")){throw new Error("Missing attribute: "+"catchClause")}}_reduceState(reducer_871,state_872={}){state_872.body=this.body instanceof Block?this.body.reduce(reducer_871):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);state_872.catchClause=this.catchClause instanceof CatchClause?this.catchClause.reduce(reducer_871):function(){throw new Error("Unknown object: "+JSON.stringify(this.catchClause))}.call(this);return super._reduceState(reducer_871,state_872)}_cloneAttrs(){return Object.assign({body:this.body,catchClause:this.catchClause},super._cloneAttrs())}reduce(reducer_873){let state_874=this._reduceState(reducer_873);return reducer_873.reduceTryCatchStatement(this,state_874)}extend(attrs_875){return new TryCatchStatement(Object.assign(this._cloneAttrs(),attrs_875))}}Statement.CloneReducer.prototype.reduceTryCatchStatement=function(term_876,state_877){return new TryCatchStatement(state_877)};exports.TryCatchStatement=TryCatchStatement;class TryFinallyStatement extends Statement{constructor(attrs_878,type_879){super(attrs_878,type_879||"TryFinallyStatement");if(!{}.hasOwnProperty.call(attrs_878,"body")){throw new Error("Missing attribute: "+"body")}if(!{}.hasOwnProperty.call(attrs_878,"catchClause")){throw new Error("Missing attribute: "+"catchClause")}if(!{}.hasOwnProperty.call(attrs_878,"finalizer")){throw new Error("Missing attribute: "+"finalizer")}}_reduceState(reducer_880,state_881={}){state_881.body=this.body instanceof Block?this.body.reduce(reducer_880):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);state_881.catchClause=this.catchClause==null?null:this.catchClause instanceof CatchClause?this.catchClause.reduce(reducer_880):function(){throw new Error("Unknown object: "+JSON.stringify(this.catchClause))}.call(this);state_881.finalizer=this.finalizer instanceof Block?this.finalizer.reduce(reducer_880):function(){throw new Error("Unknown object: "+JSON.stringify(this.finalizer))}.call(this);return super._reduceState(reducer_880,state_881)}_cloneAttrs(){return Object.assign({body:this.body,catchClause:this.catchClause,finalizer:this.finalizer},super._cloneAttrs())}reduce(reducer_882){let state_883=this._reduceState(reducer_882);return reducer_882.reduceTryFinallyStatement(this,state_883)}extend(attrs_884){return new TryFinallyStatement(Object.assign(this._cloneAttrs(),attrs_884))}}Statement.CloneReducer.prototype.reduceTryFinallyStatement=function(term_885,state_886){return new TryFinallyStatement(state_886)};exports.TryFinallyStatement=TryFinallyStatement;class VariableDeclarationStatement extends Statement{constructor(attrs_887,type_888){super(attrs_887,type_888||"VariableDeclarationStatement");if(!{}.hasOwnProperty.call(attrs_887,"declaration")){throw new Error("Missing attribute: "+"declaration")}}_reduceState(reducer_889,state_890={}){state_890.declaration=this.declaration instanceof VariableDeclaration?this.declaration.reduce(reducer_889):function(){throw new Error("Unknown object: "+JSON.stringify(this.declaration))}.call(this);return super._reduceState(reducer_889,state_890)}_cloneAttrs(){return Object.assign({declaration:this.declaration},super._cloneAttrs())}reduce(reducer_891){let state_892=this._reduceState(reducer_891);return reducer_891.reduceVariableDeclarationStatement(this,state_892)}extend(attrs_893){return new VariableDeclarationStatement(Object.assign(this._cloneAttrs(),attrs_893))}}Statement.CloneReducer.prototype.reduceVariableDeclarationStatement=function(term_894,state_895){return new VariableDeclarationStatement(state_895)};exports.VariableDeclarationStatement=VariableDeclarationStatement;class WithStatement extends Statement{constructor(attrs_896,type_897){super(attrs_896,type_897||"WithStatement");if(!{}.hasOwnProperty.call(attrs_896,"object")){throw new Error("Missing attribute: "+"object")}if(!{}.hasOwnProperty.call(attrs_896,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_898,state_899={}){state_899.object=this.object instanceof Expression?this.object.reduce(reducer_898):function(){throw new Error("Unknown object: "+JSON.stringify(this.object))}.call(this);state_899.body=this.body instanceof Statement?this.body.reduce(reducer_898):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_898,state_899)}_cloneAttrs(){return Object.assign({object:this.object,body:this.body},super._cloneAttrs())}reduce(reducer_900){let state_901=this._reduceState(reducer_900);return reducer_900.reduceWithStatement(this,state_901)}extend(attrs_902){return new WithStatement(Object.assign(this._cloneAttrs(),attrs_902))}}Statement.CloneReducer.prototype.reduceWithStatement=function(term_903,state_904){return new WithStatement(state_904)};exports.WithStatement=WithStatement;class WhileStatement extends IterationStatement{constructor(attrs_905,type_906){super(attrs_905,type_906||"WhileStatement");if(!{}.hasOwnProperty.call(attrs_905,"test")){throw new Error("Missing attribute: "+"test")}}_reduceState(reducer_907,state_908={}){state_908.test=this.test instanceof Expression?this.test.reduce(reducer_907):function(){throw new Error("Unknown object: "+JSON.stringify(this.test))}.call(this);return super._reduceState(reducer_907,state_908)}_cloneAttrs(){return Object.assign({test:this.test},super._cloneAttrs())}reduce(reducer_909){let state_910=this._reduceState(reducer_909);return reducer_909.reduceWhileStatement(this,state_910)}extend(attrs_911){return new WhileStatement(Object.assign(this._cloneAttrs(),attrs_911))}}IterationStatement.CloneReducer.prototype.reduceWhileStatement=function(term_912,state_913){return new WhileStatement(state_913)};exports.WhileStatement=WhileStatement;class Pragma extends Term{constructor(attrs_914,type_915){super(attrs_914,type_915||"Pragma");if(!{}.hasOwnProperty.call(attrs_914,"kind")){throw new Error("Missing attribute: "+"kind")}if(!{}.hasOwnProperty.call(attrs_914,"items")){throw new Error("Missing attribute: "+"items")}}_reduceState(reducer_916,state_917={}){state_917.kind=this.kind;state_917.items=this.items;return super._reduceState(reducer_916,state_917)}_cloneAttrs(){return Object.assign({kind:this.kind,items:this.items},super._cloneAttrs())}reduce(reducer_918){let state_919=this._reduceState(reducer_918);return reducer_918.reducePragma(this,state_919)}extend(attrs_920){return new Pragma(Object.assign(this._cloneAttrs(),attrs_920))}}Term.CloneReducer.prototype.reducePragma=function(term_921,state_922){return new Pragma(state_922)};exports.Pragma=Pragma;class Block extends Term{constructor(attrs_923,type_924){super(attrs_923,type_924||"Block");if(!{}.hasOwnProperty.call(attrs_923,"statements")){throw new Error("Missing attribute: "+"statements")}}_reduceState(reducer_925,state_926={}){state_926.statements=this.statements.map(a_927=>a_927 instanceof Statement?a_927.reduce(reducer_925):function(){throw new Error("Unknown object: "+JSON.stringify(a_927))}.call(this));return super._reduceState(reducer_925,state_926)}_cloneAttrs(){return Object.assign({statements:this.statements},super._cloneAttrs())}reduce(reducer_928){let state_929=this._reduceState(reducer_928);return reducer_928.reduceBlock(this,state_929)}extend(attrs_930){return new Block(Object.assign(this._cloneAttrs(),attrs_930))}}Term.CloneReducer.prototype.reduceBlock=function(term_931,state_932){return new Block(state_932)};exports.Block=Block;class CatchClause extends Term{constructor(attrs_933,type_934){super(attrs_933,type_934||"CatchClause");if(!{}.hasOwnProperty.call(attrs_933,"binding")){throw new Error("Missing attribute: "+"binding")}if(!{}.hasOwnProperty.call(attrs_933,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_935,state_936={}){state_936.binding=this.binding instanceof ObjectBinding?this.binding.reduce(reducer_935):this.binding instanceof ArrayBinding?this.binding.reduce(reducer_935):this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_935):this.binding instanceof MemberExpression?this.binding.reduce(reducer_935):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);state_936.body=this.body instanceof Block?this.body.reduce(reducer_935):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_935,state_936)}_cloneAttrs(){return Object.assign({binding:this.binding,body:this.body},super._cloneAttrs())}reduce(reducer_937){let state_938=this._reduceState(reducer_937);return reducer_937.reduceCatchClause(this,state_938)}extend(attrs_939){return new CatchClause(Object.assign(this._cloneAttrs(),attrs_939))}}Term.CloneReducer.prototype.reduceCatchClause=function(term_940,state_941){return new CatchClause(state_941)};exports.CatchClause=CatchClause;class Directive extends Term{constructor(attrs_942,type_943){super(attrs_942,type_943||"Directive");if(!{}.hasOwnProperty.call(attrs_942,"rawValue")){throw new Error("Missing attribute: "+"rawValue")}}_reduceState(reducer_944,state_945={}){state_945.rawValue=this.rawValue;return super._reduceState(reducer_944,state_945)}_cloneAttrs(){return Object.assign({rawValue:this.rawValue},super._cloneAttrs())}reduce(reducer_946){let state_947=this._reduceState(reducer_946);return reducer_946.reduceDirective(this,state_947)}extend(attrs_948){return new Directive(Object.assign(this._cloneAttrs(),attrs_948))}}Term.CloneReducer.prototype.reduceDirective=function(term_949,state_950){return new Directive(state_950)};exports.Directive=Directive;class FormalParameters extends Term{constructor(attrs_951,type_952){super(attrs_951,type_952||"FormalParameters");if(!{}.hasOwnProperty.call(attrs_951,"items")){throw new Error("Missing attribute: "+"items")}if(!{}.hasOwnProperty.call(attrs_951,"rest")){throw new Error("Missing attribute: "+"rest")}}_reduceState(reducer_953,state_954={}){state_954.items=this.items.map(a_955=>a_955 instanceof ObjectBinding?a_955.reduce(reducer_953):a_955 instanceof ArrayBinding?a_955.reduce(reducer_953):a_955 instanceof BindingIdentifier?a_955.reduce(reducer_953):a_955 instanceof MemberExpression?a_955.reduce(reducer_953):a_955 instanceof BindingWithDefault?a_955.reduce(reducer_953):function(){throw new Error("Unknown object: "+JSON.stringify(a_955))}.call(this));state_954.rest=this.rest==null?null:this.rest instanceof BindingIdentifier?this.rest.reduce(reducer_953):function(){throw new Error("Unknown object: "+JSON.stringify(this.rest))}.call(this);return super._reduceState(reducer_953,state_954)}_cloneAttrs(){return Object.assign({items:this.items,rest:this.rest},super._cloneAttrs())}reduce(reducer_956){let state_957=this._reduceState(reducer_956);return reducer_956.reduceFormalParameters(this,state_957)}extend(attrs_958){return new FormalParameters(Object.assign(this._cloneAttrs(),attrs_958))}}Term.CloneReducer.prototype.reduceFormalParameters=function(term_959,state_960){return new FormalParameters(state_960)};exports.FormalParameters=FormalParameters;class FunctionBody extends Term{constructor(attrs_961,type_962){super(attrs_961,type_962||"FunctionBody");if(!{}.hasOwnProperty.call(attrs_961,"directives")){throw new Error("Missing attribute: "+"directives")}if(!{}.hasOwnProperty.call(attrs_961,"statements")){throw new Error("Missing attribute: "+"statements")}}_reduceState(reducer_963,state_964={}){state_964.directives=this.directives.map(a_965=>a_965);state_964.statements=this.statements.map(a_966=>a_966 instanceof Statement?a_966.reduce(reducer_963):function(){throw new Error("Unknown object: "+JSON.stringify(a_966))}.call(this));return super._reduceState(reducer_963,state_964)}_cloneAttrs(){return Object.assign({directives:this.directives,statements:this.statements},super._cloneAttrs())}reduce(reducer_967){let state_968=this._reduceState(reducer_967);return reducer_967.reduceFunctionBody(this,state_968)}extend(attrs_969){return new FunctionBody(Object.assign(this._cloneAttrs(),attrs_969))}}Term.CloneReducer.prototype.reduceFunctionBody=function(term_970,state_971){return new FunctionBody(state_971)};exports.FunctionBody=FunctionBody;class FunctionDeclaration extends Statement{constructor(attrs_972,type_973){super(attrs_972,type_973||"FunctionDeclaration");if(!{}.hasOwnProperty.call(attrs_972,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_972,"isGenerator")){throw new Error("Missing attribute: "+"isGenerator")}if(!{}.hasOwnProperty.call(attrs_972,"params")){throw new Error("Missing attribute: "+"params")}if(!{}.hasOwnProperty.call(attrs_972,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_974,state_975={}){state_975.name=this.name instanceof BindingIdentifier?this.name.reduce(reducer_974):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);state_975.isGenerator=this.isGenerator;state_975.params=this.params instanceof FormalParameters?this.params.reduce(reducer_974):function(){throw new Error("Unknown object: "+JSON.stringify(this.params))}.call(this);state_975.body=this.body instanceof FunctionBody?this.body.reduce(reducer_974):function(){throw new Error("Unknown object: "+JSON.stringify(this.body))}.call(this);return super._reduceState(reducer_974,state_975)}_cloneAttrs(){return Object.assign({name:this.name,isGenerator:this.isGenerator,params:this.params,body:this.body},super._cloneAttrs())}reduce(reducer_976){let state_977=this._reduceState(reducer_976);return reducer_976.reduceFunctionDeclaration(this,state_977)}extend(attrs_978){return new FunctionDeclaration(Object.assign(this._cloneAttrs(),attrs_978))}}Statement.CloneReducer.prototype.reduceFunctionDeclaration=function(term_979,state_980){return new FunctionDeclaration(state_980)};exports.FunctionDeclaration=FunctionDeclaration;class FunctionDeclarationE extends Statement{constructor(attrs_981,type_982){super(attrs_981,type_982||"FunctionDeclarationE");if(!{}.hasOwnProperty.call(attrs_981,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_981,"isGenerator")){throw new Error("Missing attribute: "+"isGenerator")}if(!{}.hasOwnProperty.call(attrs_981,"params")){throw new Error("Missing attribute: "+"params")}if(!{}.hasOwnProperty.call(attrs_981,"body")){throw new Error("Missing attribute: "+"body")}}_reduceState(reducer_983,state_984={}){state_984.name=this.name instanceof BindingIdentifier?this.name.reduce(reducer_983):function(){throw new Error("Unknown object: "+JSON.stringify(this.name))}.call(this);state_984.isGenerator=this.isGenerator;state_984.params=this.params instanceof FormalParameters?this.params.reduce(reducer_983):function(){throw new Error("Unknown object: "+JSON.stringify(this.params))}.call(this);state_984.body=this.body.map(a_985=>a_985 instanceof Term?a_985.reduce(reducer_983):function(){throw new Error("Unknown object: "+JSON.stringify(a_985))}.call(this));return super._reduceState(reducer_983,state_984)}_cloneAttrs(){return Object.assign({name:this.name,isGenerator:this.isGenerator,params:this.params,body:this.body},super._cloneAttrs())}reduce(reducer_986){let state_987=this._reduceState(reducer_986);return reducer_986.reduceFunctionDeclarationE(this,state_987)}extend(attrs_988){return new FunctionDeclarationE(Object.assign(this._cloneAttrs(),attrs_988))}}Statement.CloneReducer.prototype.reduceFunctionDeclarationE=function(term_989,state_990){return new FunctionDeclarationE(state_990)};exports.FunctionDeclarationE=FunctionDeclarationE;class Script extends Term{constructor(attrs_991,type_992){super(attrs_991,type_992||"Script");if(!{}.hasOwnProperty.call(attrs_991,"directives")){throw new Error("Missing attribute: "+"directives")}if(!{}.hasOwnProperty.call(attrs_991,"statements")){throw new Error("Missing attribute: "+"statements")}}_reduceState(reducer_993,state_994={}){state_994.directives=this.directives.map(a_995=>a_995);state_994.statements=this.statements.map(a_996=>a_996 instanceof Statement?a_996.reduce(reducer_993):function(){throw new Error("Unknown object: "+JSON.stringify(a_996))}.call(this));return super._reduceState(reducer_993,state_994)}_cloneAttrs(){return Object.assign({directives:this.directives,statements:this.statements},super._cloneAttrs())}reduce(reducer_997){let state_998=this._reduceState(reducer_997);return reducer_997.reduceScript(this,state_998)}extend(attrs_999){return new Script(Object.assign(this._cloneAttrs(),attrs_999))}}Term.CloneReducer.prototype.reduceScript=function(term_1000,state_1001){return new Script(state_1001)};exports.Script=Script;class SpreadElement extends Term{constructor(attrs_1002,type_1003){super(attrs_1002,type_1003||"SpreadElement");if(!{}.hasOwnProperty.call(attrs_1002,"expression")){throw new Error("Missing attribute: "+"expression")}}_reduceState(reducer_1004,state_1005={}){state_1005.expression=this.expression instanceof Expression?this.expression.reduce(reducer_1004):function(){throw new Error("Unknown object: "+JSON.stringify(this.expression))}.call(this);return super._reduceState(reducer_1004,state_1005)}_cloneAttrs(){return Object.assign({expression:this.expression},super._cloneAttrs())}reduce(reducer_1006){let state_1007=this._reduceState(reducer_1006);return reducer_1006.reduceSpreadElement(this,state_1007)}extend(attrs_1008){return new SpreadElement(Object.assign(this._cloneAttrs(),attrs_1008))}}Term.CloneReducer.prototype.reduceSpreadElement=function(term_1009,state_1010){return new SpreadElement(state_1010)};exports.SpreadElement=SpreadElement;class Super extends Term{constructor(attrs_1011,type_1012){super(attrs_1011,type_1012||"Super")}_reduceState(reducer_1013,state_1014={}){return super._reduceState(reducer_1013,state_1014)}_cloneAttrs(){return Object.assign({},super._cloneAttrs())}reduce(reducer_1015){let state_1016=this._reduceState(reducer_1015);return reducer_1015.reduceSuper(this,state_1016)}extend(attrs_1017){return new Super(Object.assign(this._cloneAttrs(),attrs_1017))}}Term.CloneReducer.prototype.reduceSuper=function(term_1018,state_1019){return new Super(state_1019)};exports.Super=Super;class SwitchCase extends Term{constructor(attrs_1020,type_1021){super(attrs_1020,type_1021||"SwitchCase");if(!{}.hasOwnProperty.call(attrs_1020,"test")){throw new Error("Missing attribute: "+"test")}if(!{}.hasOwnProperty.call(attrs_1020,"consequent")){throw new Error("Missing attribute: "+"consequent")}}_reduceState(reducer_1022,state_1023={}){state_1023.test=this.test instanceof Expression?this.test.reduce(reducer_1022):function(){throw new Error("Unknown object: "+JSON.stringify(this.test))}.call(this);state_1023.consequent=this.consequent.map(a_1024=>a_1024 instanceof Statement?a_1024.reduce(reducer_1022):function(){throw new Error("Unknown object: "+JSON.stringify(a_1024))}.call(this));return super._reduceState(reducer_1022,state_1023)}_cloneAttrs(){return Object.assign({test:this.test,consequent:this.consequent},super._cloneAttrs())}reduce(reducer_1025){let state_1026=this._reduceState(reducer_1025);return reducer_1025.reduceSwitchCase(this,state_1026)}extend(attrs_1027){return new SwitchCase(Object.assign(this._cloneAttrs(),attrs_1027))}}Term.CloneReducer.prototype.reduceSwitchCase=function(term_1028,state_1029){return new SwitchCase(state_1029)};exports.SwitchCase=SwitchCase;class SwitchDefault extends Term{constructor(attrs_1030,type_1031){super(attrs_1030,type_1031||"SwitchDefault");if(!{}.hasOwnProperty.call(attrs_1030,"consequent")){throw new Error("Missing attribute: "+"consequent")}}_reduceState(reducer_1032,state_1033={}){state_1033.consequent=this.consequent.map(a_1034=>a_1034 instanceof Statement?a_1034.reduce(reducer_1032):function(){throw new Error("Unknown object: "+JSON.stringify(a_1034))}.call(this));return super._reduceState(reducer_1032,state_1033)}_cloneAttrs(){return Object.assign({consequent:this.consequent},super._cloneAttrs())}reduce(reducer_1035){let state_1036=this._reduceState(reducer_1035);return reducer_1035.reduceSwitchDefault(this,state_1036)}extend(attrs_1037){return new SwitchDefault(Object.assign(this._cloneAttrs(),attrs_1037))}}Term.CloneReducer.prototype.reduceSwitchDefault=function(term_1038,state_1039){return new SwitchDefault(state_1039)};exports.SwitchDefault=SwitchDefault;class TemplateElement extends Term{constructor(attrs_1040,type_1041){super(attrs_1040,type_1041||"TemplateElement");if(!{}.hasOwnProperty.call(attrs_1040,"rawValue")){throw new Error("Missing attribute: "+"rawValue")}}_reduceState(reducer_1042,state_1043={}){state_1043.rawValue=this.rawValue;return super._reduceState(reducer_1042,state_1043)}_cloneAttrs(){return Object.assign({rawValue:this.rawValue},super._cloneAttrs())}reduce(reducer_1044){let state_1045=this._reduceState(reducer_1044);return reducer_1044.reduceTemplateElement(this,state_1045)}extend(attrs_1046){return new TemplateElement(Object.assign(this._cloneAttrs(),attrs_1046))}}Term.CloneReducer.prototype.reduceTemplateElement=function(term_1047,state_1048){return new TemplateElement(state_1048)};exports.TemplateElement=TemplateElement;class SyntaxTemplate extends Expression{constructor(attrs_1049,type_1050){super(attrs_1049,type_1050||"SyntaxTemplate");if(!{}.hasOwnProperty.call(attrs_1049,"template")){throw new Error("Missing attribute: "+"template")}}_reduceState(reducer_1051,state_1052={}){state_1052.template=this.template.map(a_1053=>a_1053 instanceof SyntaxTerm?a_1053.reduce(reducer_1051):function(){throw new Error("Unknown object: "+JSON.stringify(a_1053))}.call(this));return super._reduceState(reducer_1051,state_1052)}_cloneAttrs(){return Object.assign({template:this.template},super._cloneAttrs())}reduce(reducer_1054){let state_1055=this._reduceState(reducer_1054);return reducer_1054.reduceSyntaxTemplate(this,state_1055)}extend(attrs_1056){return new SyntaxTemplate(Object.assign(this._cloneAttrs(),attrs_1056))}}Expression.CloneReducer.prototype.reduceSyntaxTemplate=function(term_1057,state_1058){return new SyntaxTemplate(state_1058)};exports.SyntaxTemplate=SyntaxTemplate;class SyntaxQuote extends Term{constructor(attrs_1059,type_1060){super(attrs_1059,type_1060||"SyntaxQuote");if(!{}.hasOwnProperty.call(attrs_1059,"name")){throw new Error("Missing attribute: "+"name")}if(!{}.hasOwnProperty.call(attrs_1059,"template")){throw new Error("Missing attribute: "+"template")}}_reduceState(reducer_1061,state_1062={}){state_1062.name=this.name;state_1062.template=this.template;return super._reduceState(reducer_1061,state_1062)}_cloneAttrs(){return Object.assign({name:this.name,template:this.template},super._cloneAttrs())}reduce(reducer_1063){let state_1064=this._reduceState(reducer_1063);return reducer_1063.reduceSyntaxQuote(this,state_1064)}extend(attrs_1065){return new SyntaxQuote(Object.assign(this._cloneAttrs(),attrs_1065))}}Term.CloneReducer.prototype.reduceSyntaxQuote=function(term_1066,state_1067){return new SyntaxQuote(state_1067)};exports.SyntaxQuote=SyntaxQuote;class VariableDeclaration extends Term{constructor(attrs_1068,type_1069){super(attrs_1068,type_1069||"VariableDeclaration");if(!{}.hasOwnProperty.call(attrs_1068,"kind")){throw new Error("Missing attribute: "+"kind")}if(!{}.hasOwnProperty.call(attrs_1068,"declarators")){throw new Error("Missing attribute: "+"declarators")}}_reduceState(reducer_1070,state_1071={}){state_1071.kind=this.kind;state_1071.declarators=this.declarators.map(a_1072=>a_1072 instanceof VariableDeclarator?a_1072.reduce(reducer_1070):function(){throw new Error("Unknown object: "+JSON.stringify(a_1072))}.call(this));return super._reduceState(reducer_1070,state_1071)}_cloneAttrs(){return Object.assign({kind:this.kind,declarators:this.declarators},super._cloneAttrs())}reduce(reducer_1073){let state_1074=this._reduceState(reducer_1073);return reducer_1073.reduceVariableDeclaration(this,state_1074)}extend(attrs_1075){return new VariableDeclaration(Object.assign(this._cloneAttrs(),attrs_1075))}}Term.CloneReducer.prototype.reduceVariableDeclaration=function(term_1076,state_1077){return new VariableDeclaration(state_1077)};exports.VariableDeclaration=VariableDeclaration;class VariableDeclarator extends Term{constructor(attrs_1078,type_1079){super(attrs_1078,type_1079||"VariableDeclarator");if(!{}.hasOwnProperty.call(attrs_1078,"binding")){throw new Error("Missing attribute: "+"binding")}if(!{}.hasOwnProperty.call(attrs_1078,"init")){throw new Error("Missing attribute: "+"init")}}_reduceState(reducer_1080,state_1081={}){state_1081.binding=this.binding instanceof ObjectBinding?this.binding.reduce(reducer_1080):this.binding instanceof ArrayBinding?this.binding.reduce(reducer_1080):this.binding instanceof BindingIdentifier?this.binding.reduce(reducer_1080):this.binding instanceof MemberExpression?this.binding.reduce(reducer_1080):function(){throw new Error("Unknown object: "+JSON.stringify(this.binding))}.call(this);state_1081.init=this.init==null?null:this.init instanceof Expression?this.init.reduce(reducer_1080):function(){throw new Error("Unknown object: "+JSON.stringify(this.init))}.call(this);return super._reduceState(reducer_1080,state_1081)}_cloneAttrs(){return Object.assign({binding:this.binding,init:this.init},super._cloneAttrs())}reduce(reducer_1082){let state_1083=this._reduceState(reducer_1082);return reducer_1082.reduceVariableDeclarator(this,state_1083)}extend(attrs_1084){return new VariableDeclarator(Object.assign(this._cloneAttrs(),attrs_1084))}}Term.CloneReducer.prototype.reduceVariableDeclarator=function(term_1085,state_1086){return new VariableDeclarator(state_1086)};exports.VariableDeclarator=VariableDeclarator;class OperatorDeclarator extends VariableDeclarator{constructor(attrs_1087,type_1088){super(attrs_1087,type_1088||"OperatorDeclarator");if(!{}.hasOwnProperty.call(attrs_1087,"prec")){throw new Error("Missing attribute: "+"prec")}if(!{}.hasOwnProperty.call(attrs_1087,"assoc")){throw new Error("Missing attribute: "+"assoc")}}_reduceState(reducer_1089,state_1090={}){state_1090.prec=this.prec;state_1090.assoc=this.assoc;return super._reduceState(reducer_1089,state_1090)}_cloneAttrs(){return Object.assign({prec:this.prec,assoc:this.assoc},super._cloneAttrs())}reduce(reducer_1091){let state_1092=this._reduceState(reducer_1091);return reducer_1091.reduceOperatorDeclarator(this,state_1092)}extend(attrs_1093){return new OperatorDeclarator(Object.assign(this._cloneAttrs(),attrs_1093))}}VariableDeclarator.CloneReducer.prototype.reduceOperatorDeclarator=function(term_1094,state_1095){return new OperatorDeclarator(state_1095)};exports.OperatorDeclarator=OperatorDeclarator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isString=isString;exports.isIdentifier=isIdentifier;exports.isKeyword=isKeyword;exports.isPunctuator=isPunctuator;exports.isNumeric=isNumeric;exports.isTemplateElement=isTemplateElement;exports.isTemplate=isTemplate;exports.isRegExp=isRegExp;exports.getKind=getKind;exports.getLineNumber=getLineNumber;const TokenClass=exports.TokenClass={Eof:{name:"<End>"},Ident:{name:"Identifier",isIdentifierName:true},Keyword:{name:"Keyword",isIdentifierName:true},NumericLiteral:{name:"Numeric"},TemplateElement:{name:"Template"},Punctuator:{name:"Punctuator"},StringLiteral:{name:"String"},RegularExpression:{name:"RegularExpression"},Illegal:{name:"Illegal"}};const TC=TokenClass;const TokenType=exports.TokenType={EOS:{klass:TC.Eof,name:"EOS"},LPAREN:{klass:TC.Punctuator,name:"("},RPAREN:{klass:TC.Punctuator,name:")"},LBRACK:{klass:TC.Punctuator,name:"["},RBRACK:{klass:TC.Punctuator,name:"]"},LBRACE:{klass:TC.Punctuator,name:"{"},RBRACE:{klass:TC.Punctuator,name:"}"},LSYNTAX:{klass:TC.Punctuator,name:"left-syntax"},RSYNTAX:{klass:TC.Punctuator,name:"right-syntax"},COLON:{klass:TC.Punctuator,name:":"},SEMICOLON:{klass:TC.Punctuator,name:";"},PERIOD:{klass:TC.Punctuator,name:"."},ELLIPSIS:{klass:TC.Punctuator,name:"..."},ARROW:{klass:TC.Punctuator,name:"=>"},CONDITIONAL:{klass:TC.Punctuator,name:"?"},INC:{klass:TC.Punctuator,name:"++"},DEC:{klass:TC.Punctuator,name:"--"},ASSIGN:{klass:TC.Punctuator,name:"="},ASSIGN_BIT_OR:{klass:TC.Punctuator,name:"|="},ASSIGN_BIT_XOR:{klass:TC.Punctuator,name:"^="},ASSIGN_BIT_AND:{klass:TC.Punctuator,name:"&="},ASSIGN_SHL:{klass:TC.Punctuator,name:"<<="},ASSIGN_SHR:{klass:TC.Punctuator,name:">>="},ASSIGN_SHR_UNSIGNED:{klass:TC.Punctuator,name:">>>="},ASSIGN_ADD:{klass:TC.Punctuator,name:"+="},ASSIGN_SUB:{klass:TC.Punctuator,name:"-="},ASSIGN_MUL:{klass:TC.Punctuator,name:"*="},ASSIGN_DIV:{klass:TC.Punctuator,name:"/="},ASSIGN_MOD:{klass:TC.Punctuator,name:"%="},ASSIGN_EXP:{klass:TC.Punctuator,name:"**="},COMMA:{klass:TC.Punctuator,name:","},OR:{klass:TC.Punctuator,name:"||"},AND:{klass:TC.Punctuator,name:"&&"},BIT_OR:{klass:TC.Punctuator,name:"|"},BIT_XOR:{klass:TC.Punctuator,name:"^"},BIT_AND:{klass:TC.Punctuator,name:"&"},SHL:{klass:TC.Punctuator,name:"<<"},SHR:{klass:TC.Punctuator,name:">>"},SHR_UNSIGNED:{klass:TC.Punctuator,name:">>>"},ADD:{klass:TC.Punctuator,name:"+"},SUB:{klass:TC.Punctuator,name:"-"},MUL:{klass:TC.Punctuator,name:"*"},DIV:{klass:TC.Punctuator,name:"/"},MOD:{klass:TC.Punctuator,name:"%"},EXP:{klass:TC.Punctuator,name:"**"},EQ:{klass:TC.Punctuator,name:"=="},NE:{klass:TC.Punctuator,name:"!="},EQ_STRICT:{klass:TC.Punctuator,name:"==="},NE_STRICT:{klass:TC.Punctuator,name:"!=="},LT:{klass:TC.Punctuator,name:"<"},GT:{klass:TC.Punctuator,name:">"},LTE:{klass:TC.Punctuator,name:"<="},GTE:{klass:TC.Punctuator,name:">="},INSTANCEOF:{klass:TC.Keyword,name:"instanceof"},IN:{klass:TC.Keyword,name:"in"},NOT:{klass:TC.Punctuator,name:"!"},BIT_NOT:{klass:TC.Punctuator,name:"~"},AWAIT:{klass:TC.Keyword,name:"await"},DELETE:{klass:TC.Keyword,name:"delete"},TYPEOF:{klass:TC.Keyword,name:"typeof"},VOID:{klass:TC.Keyword,name:"void"},BREAK:{klass:TC.Keyword,name:"break"},CASE:{klass:TC.Keyword,name:"case"},CATCH:{klass:TC.Keyword,name:"catch"},CLASS:{klass:TC.Keyword,name:"class"},CONTINUE:{klass:TC.Keyword,name:"continue"},DEBUGGER:{klass:TC.Keyword,name:"debugger"},DEFAULT:{klass:TC.Keyword,name:"default"},DO:{klass:TC.Keyword,name:"do"},ELSE:{klass:TC.Keyword,name:"else"},EXPORT:{klass:TC.Keyword,name:"export"},EXTENDS:{klass:TC.Keyword,name:"extends"},FINALLY:{klass:TC.Keyword,name:"finally"},FOR:{klass:TC.Keyword,name:"for"},FUNCTION:{klass:TC.Keyword,name:"function"},IF:{klass:TC.Keyword,name:"if"},IMPORT:{klass:TC.Keyword,name:"import"},LET:{klass:TC.Keyword,name:"let"},NEW:{klass:TC.Keyword,name:"new"},RETURN:{klass:TC.Keyword,name:"return"},SUPER:{klass:TC.Keyword,name:"super"},SWITCH:{klass:TC.Keyword,name:"switch"},THIS:{klass:TC.Keyword,name:"this"},THROW:{klass:TC.Keyword,name:"throw"},TRY:{klass:TC.Keyword,name:"try"},VAR:{klass:TC.Keyword,name:"var"},WHILE:{klass:TC.Keyword,name:"while"},WITH:{klass:TC.Keyword,name:"with"},NULL:{klass:TC.Keyword,name:"null"},TRUE:{klass:TC.Keyword,name:"true"},FALSE:{klass:TC.Keyword,name:"false"},YIELD:{klass:TC.Keyword,name:"yield"},NUMBER:{klass:TC.NumericLiteral,name:""},STRING:{klass:TC.StringLiteral,name:""},REGEXP:{klass:TC.RegularExpression,name:""},IDENTIFIER:{klass:TC.Ident,name:""},CONST:{klass:TC.Keyword,name:"const"},TEMPLATE:{klass:TC.TemplateElement,name:""},ILLEGAL:{klass:TC.Illegal,name:""}};const TT=TokenType;const punctuatorTable=exports.punctuatorTable={"(":TT.LPAREN,")":TT.RPAREN,"[":TT.LBRACK,"]":TT.RBRACK,"{":TT.LBRACE,"}":TT.RBRACE,":":TT.COLON,";":TT.SEMICOLON,".":TT.PERIOD,"...":TT.ELLIPSIS,"=>":TT.ARROW,"?":TT.CONDITIONAL,"++":TT.INC,"--":TT.DEC,"=":TT.ASSIGN,"|=":TT.ASSIGN_BIT_OR,"^=":TT.ASSIGN_BIT_XOR,"&=":TT.ASSIGN_BIT_AND,"<<=":TT.ASSIGN_SHL,">>=":TT.ASSIGN_SHR,">>>=":TT.ASSIGN_SHR_UNSIGNED,"+=":TT.ASSIGN_ADD,"-=":TT.ASSIGN_SUB,"*=":TT.ASSIGN_MUL,"/=":TT.ASSIGN_DIV,"%=":TT.ASSIGN_MOD,"**=":TT.ASSIGN_EXP,",":TT.COMMA,"||":TT.OR,"&&":TT.AND,"|":TT.BIT_OR,"&":TT.BIT_AND,"^":TT.BIT_XOR,"<<":TT.SHL,">>":TT.SHR,">>>":TT.SHR_UNSIGNED,"+":TT.ADD,"-":TT.SUB,"*":TT.MUL,"/":TT.DIV,"%":TT.MOD,"**":TT.EXP,"==":TT.EQ,"!=":TT.NE,"===":TT.EQ_STRICT,"!==":TT.NE_STRICT,"<":TT.LT,">":TT.GT,"<=":TT.LTE,">=":TT.GTE,"!":TT.NOT,"~":TT.BIT_NOT};const keywordTable=exports.keywordTable={break:TT.BREAK,case:TT.CASE,catch:TT.CATCH,class:TT.CLASS,const:TT.CONST,continue:TT.CONTINUE,delete:TT.DELETE,debugger:TT.DEBUGGER,default:TT.DEFAULT,do:TT.DO,else:TT.ELSE,export:TT.EXPORT,extends:TT.EXTENDS,false:TT.FALSE,finally:TT.FINALLY,for:TT.FOR,function:TT.FUNCTION,if:TT.IF,import:TT.IMPORT,in:TT.IN,instanceof:TT.INSTANCEOF,let:TT.LET,new:TT.NEW,null:TT.NULL,return:TT.RETURN,super:TT.SUPER,switch:TT.SWITCH,this:TT.THIS,throw:TT.THROW,true:TT.TRUE,try:TT.TRY,typeof:TT.TYPEOF,var:TT.VAR,void:TT.VOID,while:TT.WHILE,with:TT.WITH,yield:TT.YIELD};const EmptyToken=exports.EmptyToken={};function hasType(x,type){if(type){return x&&typeof x.type==="object"&&x.type===type}return x&&typeof x.type==="object"}function hasKlass(x,klass){if(klass){return hasType(x)&&x.type.klass===klass}return hasType(x)&&typeof x.type.klass==="object"}class BaseToken{constructor({typeCode:typeCode,type:type,value:value,slice:slice}){this.typeCode=typeCode;this.type=type;this.value=value;this.slice=slice}}function isString(x,value){let r=hasType(x,TT.STRING);if(value!=null){return r&&x.str===value}return r}class StringToken{constructor({str:str,octal:octal,slice:slice}){this.type=TT.STRING;this.typeCode=TypeCodes.StringLiteral;this.str=str;this.octal=octal;this.slice=slice}}exports.StringToken=StringToken;const TypeCodes=exports.TypeCodes={Identifier:0,Keyword:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,TemplateElement:5,Template:6,RegExp:7};function isIdentifier(x,value){let r=hasType(x,TT.IDENTIFIER);if(value!=null){return r&&x.value===value}return r}class IdentifierToken extends BaseToken{constructor({value:value,slice:slice}){super({typeCode:TypeCodes.Identifier,type:TT.IDENTIFIER,value:value,slice:slice})}}exports.IdentifierToken=IdentifierToken;function isKeyword(x,value){let r=hasKlass(x,TC.Keyword);if(value!=null){if(typeof value==="string"){return r&&x.value===value}else if(typeof value.some==="function"){return value.some(v=>v===x.value)}}return r}class KeywordToken extends BaseToken{constructor({value:value,slice:slice}){super({typeCode:TypeCodes.Keyword,type:keywordTable[value],value:value,slice:slice})}}exports.KeywordToken=KeywordToken;function isPunctuator(x,value){let r=hasKlass(x,TC.Punctuator);if(value!=null){return r&&x.value===value}return r}class PunctuatorToken extends BaseToken{constructor({value:value,slice:slice}){super({typeCode:TypeCodes.Punctuator,type:punctuatorTable[value],value:value,slice:slice})}}exports.PunctuatorToken=PunctuatorToken;function isNumeric(x,value){let r=hasType(x,TT.NUMBER);if(value!=null){return r&&x.value===value}return r}class NumericToken extends BaseToken{constructor({value:value,octal:octal=false,noctal:noctal=false,slice:slice}){super({typeCode:TypeCodes.NumericLiteral,type:TT.NUMBER,value:value,slice:slice});this.octal=octal;this.noctal=noctal}}exports.NumericToken=NumericToken;function isTemplateElement(x,value){let r=hasType(x,TT.TEMPLATE)&&x.items==null;if(value!=null){return r&&x.value===value}return r}class TemplateElementToken extends BaseToken{constructor({value:value,tail:tail,interp:interp,slice:slice}){super({type:TT.TEMPLATE,typeCode:TypeCodes.TemplateElement,value:value,slice:slice});this.tail=tail;this.interp=interp}}exports.TemplateElementToken=TemplateElementToken;function isTemplate(x){return hasType(x,TT.TEMPLATE)&&x.items!=null}class TemplateToken extends BaseToken{constructor({items:items,slice:slice}){super({type:TT.TEMPLATE,typeCode:TypeCodes.Template,slice:slice});this.items=items}}exports.TemplateToken=TemplateToken;function isRegExp(x,value){let r=hasType(x,TT.REGEXP);if(value!=null){return r&&x.value===value}return r}class RegExpToken extends BaseToken{constructor({value:value,slice:slice}){super({type:TT.REGEXP,typeCode:TypeCodes.RegExp,value:value,slice:slice})}}exports.RegExpToken=RegExpToken;const isDelimiterType=(x,type)=>{if(x&&x[Symbol.iterator]&&([x]=x)){return x&&hasType(x,type)}return false};const isParens=exports.isParens=(x=>isDelimiterType(x,TT.LPAREN));const isBraces=exports.isBraces=(x=>isDelimiterType(x,TT.LBRACE));const isBrackets=exports.isBrackets=(x=>isDelimiterType(x,TT.LBRACK));const isSyntaxTemplate=exports.isSyntaxTemplate=(x=>isDelimiterType(x,TT.LSYNTAX));const isDelimiter=exports.isDelimiter=(x=>isParens(x)||isBraces(x)||isBrackets(x)||isSyntaxTemplate(x));function getKind(x){return isParens(x)?"parens":isBraces(x)?"braces":isBrackets(x)?"brackets":isSyntaxTemplate(x)?"syntaxTemplate":""}function getLineNumber(t){if(t.slice&&t.slice.startLocation){return t.slice.startLocation.line}else if(t[Symbol.iterator]&&([t]=t)){return getLineNumber(t)}return null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ALL_PHASES=exports.Types=undefined;var _immutable=__webpack_require__(1);var _errors=__webpack_require__(9);var _bindingMap=__webpack_require__(35);var _bindingMap2=_interopRequireDefault(_bindingMap);var _ramdaFantasy=__webpack_require__(11);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var _tokens=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFirstSlice(stx){if(!stx||typeof stx.isDelimiter!=="function")return null;if(!stx.isDelimiter()){return stx.token.slice}return stx.token.get(0).token.slice}function sizeDecending(a,b){if(a.scopes.size>b.scopes.size){return-1}else if(b.scopes.size>a.scopes.size){return 1}else{return 0}}let Types=exports.Types={null:{match:token=>!Types.delimiter.match(token)&&token.type===_tokens.TokenType.NULL,create:(value,stx)=>new Syntax({type:_tokens.TokenType.NULL,value:null,typeCode:_tokens.TypeCodes.Keyword},stx)},number:{match:token=>!Types.delimiter.match(token)&&token.type.klass===_tokens.TokenClass.NumericLiteral,create:(value,stx)=>new Syntax({type:_tokens.TokenType.NUMBER,value:value,typeCode:_tokens.TypeCodes.NumericLiteral},stx)},string:{match:token=>!Types.delimiter.match(token)&&token.type.klass===_tokens.TokenClass.StringLiteral,create:(value,stx)=>new Syntax({type:_tokens.TokenType.STRING,str:value,typeCode:_tokens.TypeCodes.StringLiteral},stx)},punctuator:{match:token=>!Types.delimiter.match(token)&&token.type.klass===_tokens.TokenClass.Punctuator,create:(value,stx)=>new Syntax({type:{klass:_tokens.TokenClass.Punctuator,name:value},typeCode:_tokens.TypeCodes.Punctuator,value:value},stx)},keyword:{match:token=>!Types.delimiter.match(token)&&token.type.klass===_tokens.TokenClass.Keyword,create:(value,stx)=>new Syntax({type:{klass:_tokens.TokenClass.Keyword,name:value},typeCode:_tokens.TypeCodes.Keyword,value:value},stx)},identifier:{match:token=>!Types.delimiter.match(token)&&token.type.klass===_tokens.TokenClass.Ident,create:(value,stx)=>new Syntax({type:_tokens.TokenType.IDENTIFIER,value:value,typeCode:_tokens.TypeCodes.Identifier},stx)},regularExpression:{match:token=>!Types.delimiter.match(token)&&token.type.klass===_tokens.TokenClass.RegularExpression,create:(value,stx)=>new Syntax({type:_tokens.TokenType.REGEXP,value:value,typeCode:_tokens.TypeCodes.RegExp},stx)},braces:{match:token=>Types.delimiter.match(token)&&token.get(0).token.type===_tokens.TokenType.LBRACE,create:(inner,stx)=>{let left=new T.RawSyntax({value:new Syntax({type:_tokens.TokenType.LBRACE,typeCode:_tokens.TypeCodes.Punctuator,value:"{",slice:getFirstSlice(stx)})});let right=new T.RawSyntax({value:new Syntax({type:_tokens.TokenType.RBRACE,typeCode:_tokens.TypeCodes.Punctuator,value:"}",slice:getFirstSlice(stx)})});return new T.RawDelimiter({kind:"braces",inner:_immutable.List.of(left).concat(inner).push(right)})}},brackets:{match:token=>Types.delimiter.match(token)&&token.get(0).token.type===_tokens.TokenType.LBRACK,create:(inner,stx)=>{let left=new T.RawSyntax({value:new Syntax({type:_tokens.TokenType.LBRACK,typeCode:_tokens.TypeCodes.Punctuator,value:"[",slice:getFirstSlice(stx)})});let right=new T.RawSyntax({value:new Syntax({type:_tokens.TokenType.RBRACK,typeCode:_tokens.TypeCodes.Punctuator,value:"]",slice:getFirstSlice(stx)})});return new T.RawDelimiter({kind:"brackets",inner:_immutable.List.of(left).concat(inner).push(right)})}},parens:{match:token=>Types.delimiter.match(token)&&token.get(0).token.type===_tokens.TokenType.LPAREN,create:(inner,stx)=>{let left=new T.RawSyntax({value:new Syntax({type:_tokens.TokenType.LPAREN,typeCode:_tokens.TypeCodes.Punctuator,value:"(",slice:getFirstSlice(stx)})});let right=new T.RawSyntax({value:new Syntax({type:_tokens.TokenType.RPAREN,typeCode:_tokens.TypeCodes.Punctuator,value:")",slice:getFirstSlice(stx)})});return new T.RawDelimiter({kind:"parens",inner:_immutable.List.of(left).concat(inner).push(right)})}},assign:{match:token=>{if(Types.punctuator.match(token)){switch(token.value){case"=":case"|=":case"^=":case"&=":case"<<=":case">>=":case">>>=":case"+=":case"-=":case"*=":case"/=":case"%=":return true;default:return false}}return false}},boolean:{match:token=>!Types.delimiter.match(token)&&token.type===_tokens.TokenType.TRUE||token.type===_tokens.TokenType.FALSE},template:{match:token=>!Types.delimiter.match(token)&&token.type===_tokens.TokenType.TEMPLATE},delimiter:{match:token=>_immutable.List.isList(token)},syntaxTemplate:{match:token=>Types.delimiter.match(token)&&token.get(0).val()==="#`"},eof:{match:token=>!Types.delimiter.match(token)&&token.type===_tokens.TokenType.EOS}};const ALL_PHASES=exports.ALL_PHASES={};class Syntax{constructor(token,oldstx){this.token=token;this.bindings=oldstx&&oldstx.bindings!=null?oldstx.bindings:new _bindingMap2.default;this.scopesets=oldstx&&oldstx.scopesets!=null?oldstx.scopesets:{all:(0,_immutable.List)(),phase:(0,_immutable.Map)()};Object.freeze(this)}static of(token,stx){return new Syntax(token,stx)}static from(type,value,stx){if(!Types[type]){throw new Error(type+" is not a valid type")}else if(!Types[type].create){throw new Error("Cannot create a syntax from type "+type)}let newstx=Types[type].create(value,stx);let slice=getFirstSlice(stx);if(slice!=null&&newstx.token!=null){newstx.token.slice=slice}return newstx}from(type,value){let s=Syntax.from(type,value,this);if(s instanceof Syntax){return new T.RawSyntax({value:s})}return s}fromNull(){return this.from("null",null)}fromNumber(value){return this.from("number",value)}fromString(value){return this.from("string",value)}fromPunctuator(value){return this.from("punctuator",value)}fromKeyword(value){return this.from("keyword",value)}fromIdentifier(value){return this.from("identifier",value)}fromRegularExpression(value){return this.from("regularExpression",value)}static fromNull(stx){return Syntax.from("null",null,stx)}static fromNumber(value,stx){return Syntax.from("number",value,stx)}static fromString(value,stx){return Syntax.from("string",value,stx)}static fromPunctuator(value,stx){return Syntax.from("punctuator",value,stx)}static fromKeyword(value,stx){return Syntax.from("keyword",value,stx)}static fromIdentifier(value,stx){return Syntax.from("identifier",value,stx)}static fromRegularExpression(value,stx){return Syntax.from("regularExpression",value,stx)}resolve(phase){(0,_errors.assert)(phase!=null,"must provide a phase to resolve");let allScopes=this.scopesets.all;let stxScopes=this.scopesets.phase.has(phase)?this.scopesets.phase.get(phase):(0,_immutable.List)();stxScopes=allScopes.concat(stxScopes);if(stxScopes.size===0||!(this.match("identifier")||this.match("keyword")||this.match("punctuator"))){return this.token.value}let scope=stxScopes.last();let bindings=this.bindings;if(scope){let scopesetBindingList=bindings.get(this);if(scopesetBindingList){let biggestBindingPair=scopesetBindingList.filter(({scopes:scopes})=>{return scopes.isSubset(stxScopes)}).sort(sizeDecending);if(biggestBindingPair.size!==0){let bindingStr=biggestBindingPair.get(0).binding.toString();if(_ramdaFantasy.Maybe.isJust(biggestBindingPair.get(0).alias)){return biggestBindingPair.get(0).alias.getOrElse(null).resolve(phase)}return bindingStr}}}return this.token.value}val(){(0,_errors.assert)(!this.match("delimiter"),"cannot get the val of a delimiter");if(this.match("string")){return this.token.str}if(this.match("template")){if(!this.token.items)return this.token.value;return this.token.items.map(el=>{if(typeof el.match==="function"&&el.match("delimiter")){return"${...}"}return el.slice.text}).join("")}return this.token.value}lineNumber(){if(!this.match("delimiter")){return this.token.slice.startLocation.line}else{return this.token.get(0).lineNumber()}}setLineNumber(line){let newTok={};if(this.isDelimiter()){newTok=this.token.map(s=>s.setLineNumber(line))}else{for(let key of Object.keys(this.token)){newTok[key]=this.token[key]}(0,_errors.assert)(newTok.slice&&newTok.slice.startLocation,"all tokens must have line info");newTok.slice.startLocation.line=line}return new Syntax(newTok,this)}addScope(scope,bindings,phase,options={flip:false}){let token=this.match("delimiter")?this.token.map(s=>s.addScope(scope,bindings,phase,options)):this.token;if(this.match("template")){token=_.merge(token,{items:token.items.map(it=>{if(it instanceof Syntax&&it.match("delimiter")){return it.addScope(scope,bindings,phase,options)}return it})})}let oldScopeset;if(phase===ALL_PHASES){oldScopeset=this.scopesets.all}else{oldScopeset=this.scopesets.phase.has(phase)?this.scopesets.phase.get(phase):(0,_immutable.List)()}let newScopeset;if(options.flip){let index=oldScopeset.indexOf(scope);if(index!==-1){newScopeset=oldScopeset.remove(index)}else{newScopeset=oldScopeset.push(scope)}}else{newScopeset=oldScopeset.push(scope)}let newstx={bindings:bindings,scopesets:{all:this.scopesets.all,phase:this.scopesets.phase}};if(phase===ALL_PHASES){newstx.scopesets.all=newScopeset}else{newstx.scopesets.phase=newstx.scopesets.phase.set(phase,newScopeset)}return new Syntax(token,newstx)}removeScope(scope,phase){let token=this.match("delimiter")?this.token.map(s=>s.removeScope(scope,phase)):this.token;let phaseScopeset=this.scopesets.phase.has(phase)?this.scopesets.phase.get(phase):(0,_immutable.List)();let allScopeset=this.scopesets.all;let newstx={bindings:this.bindings,scopesets:{all:this.scopesets.all,phase:this.scopesets.phase}};let phaseIndex=phaseScopeset.indexOf(scope);let allIndex=allScopeset.indexOf(scope);if(phaseIndex!==-1){newstx.scopesets.phase=this.scopesets.phase.set(phase,phaseScopeset.remove(phaseIndex))}else if(allIndex!==-1){newstx.scopesets.all=allScopeset.remove(allIndex)}return new Syntax(token,newstx)}match(type,value){if(!Types[type]){throw new Error(type+" is an invalid type")}return Types[type].match(this.token)&&(value==null||(value instanceof RegExp?value.test(this.val()):this.val()==value))}isIdentifier(value){return this.match("identifier",value)}isAssign(value){return this.match("assign",value)}isBooleanLiteral(value){return this.match("boolean",value)}isKeyword(value){return this.match("keyword",value)}isNullLiteral(value){return this.match("null",value)}isNumericLiteral(value){return this.match("number",value)}isPunctuator(value){return this.match("punctuator",value)}isStringLiteral(value){return this.match("string",value)}isRegularExpression(value){return this.match("regularExpression",value)}isTemplate(value){return this.match("template",value)}isDelimiter(value){return this.match("delimiter",value)}isParens(value){return this.match("parens",value)}isBraces(value){return this.match("braces",value)}isBrackets(value){return this.match("brackets",value)}isSyntaxTemplate(value){return this.match("syntaxTemplate",value)}isEOF(value){return this.match("eof",value)}toString(){if(this.match("delimiter")){return this.token.map(s=>s.toString()).join(" ")}if(this.match("string")){return`'${this.token.str}'`}if(this.match("template")){return this.val()}return this.token.value}}exports.default=Syntax},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setCurrentReadtable=exports.getCurrentReadtable=exports.isEOS=exports.EmptyReadtable=exports.Readtable=exports.Reader=exports.CharStream=undefined;var _charStream=__webpack_require__(30);var _charStream2=_interopRequireDefault(_charStream);var _reader=__webpack_require__(50);var _reader2=_interopRequireDefault(_reader);var _readtable=__webpack_require__(31);var _readtable2=_interopRequireDefault(_readtable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.CharStream=_charStream2.default;exports.Reader=_reader2.default;exports.Readtable=_readtable2.default;exports.EmptyReadtable=_readtable.EmptyReadtable;exports.isEOS=_charStream.isEOS;exports.getCurrentReadtable=_reader.getCurrentReadtable;exports.setCurrentReadtable=_reader.setCurrentReadtable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isTerminating=exports.isIdentifierPart=exports.isIdentifierStart=exports.isDecimalDigit=exports.isWhiteSpace=exports.isLineTerminator=undefined;exports.getHexValue=getHexValue;exports.skipSingleLineComment=skipSingleLineComment;exports.scanUnicode=scanUnicode;exports.readStringEscape=readStringEscape;exports.insertSequence=insertSequence;exports.retrieveSequenceLength=retrieveSequenceLength;exports.isExprPrefix=isExprPrefix;exports.isRegexPrefix=isRegexPrefix;var _readtable=__webpack_require__(5);var _immutable=__webpack_require__(1);var _esutils=__webpack_require__(7);var _tokens=__webpack_require__(3);var _ramda=__webpack_require__(0);var R=_interopRequireWildcard(_ramda);var _ramdaFantasy=__webpack_require__(11);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}const{isLineTerminator:isLineTerminator,isWhiteSpace:isWhiteSpace,isDecimalDigit:isDecimalDigit,isIdentifierPartES6:isIdentifierPart,isIdentifierStartES6:isIdentifierStart}=_esutils.code;const Nothing=_ramdaFantasy.Maybe.Nothing;const literalKeywords=["this","null","true","false"];exports.isLineTerminator=isLineTerminator;exports.isWhiteSpace=isWhiteSpace;exports.isDecimalDigit=isDecimalDigit;exports.isIdentifierStart=isIdentifierStart;exports.isIdentifierPart=isIdentifierPart;function getHexValue(rune){if("0"<=rune&&rune<="9"){return rune.charCodeAt(0)-48}if("a"<=rune&&rune<="f"){return rune.charCodeAt(0)-87}if("A"<=rune&&rune<="F"){return rune.charCodeAt(0)-55}return-1}function skipSingleLineComment(stream){let idx=0;let char=stream.peek(idx);while(!(0,_readtable.isEOS)(char)){let chCode=char.charCodeAt(0);if(isLineTerminator(chCode)){++idx;if(chCode===13&&stream.peek(idx).charCodeAt(0)===10){++idx}this.incrementLine();break}++idx;char=stream.peek(idx)}stream.readString(idx)}function scanUnicode(stream,start){const sPeek=stream.peek.bind(stream);let idx=start;let hexDigits=0;if(sPeek(idx)==="{"){++idx;let char=sPeek(idx);while(!(0,_readtable.isEOS)(char)){let hex=getHexValue(char);if(hex===-1)break;hexDigits=hexDigits<<4|hex;if(hexDigits>1114111){throw this.createILLEGAL(char)}char=sPeek(++idx)}if(char!=="}"){throw this.createILLEGAL(char)}if(idx===start+1){throw this.createILLEGAL(stream.peek(idx+1))}++idx}else{if((0,_readtable.isEOS)(sPeek(idx+3)))return-1;let r;for(;idx<start+4;++idx){r=getHexValue(sPeek(idx));if(r===-1)return-1;hexDigits=hexDigits<<4|r}}stream.readString(idx);return hexDigits}function readStringEscape(str,stream,start,octal){let idx=start+1,char=stream.peek(idx),lineStart;if((0,_readtable.isEOS)(char))throw this.createILLEGAL(char);if(!isLineTerminator(char.charCodeAt(0))){switch(char){case"b":str+="\b";++idx;break;case"f":str+="\f";++idx;break;case"n":str+="\n";++idx;break;case"r":str+="\r";++idx;break;case"t":str+="\t";++idx;break;case"v":str+="\v";++idx;break;case"u":case"x":{let unescaped;++idx;let nxt=stream.peek(idx);if((0,_readtable.isEOS)(nxt)){throw this.createILLEGAL(nxt)}unescaped=char==="u"?scanUnicode.call(this,stream,idx):scanHexEscape2.call(this,stream,idx);if(unescaped===-1)throw this.createILLEGAL(char);idx=0;str+=String.fromCodePoint(unescaped);break}default:{if("0"<=char&&char<="7"){[str,idx,octal]=scanOctal.call(this,str,stream,char,idx,octal)}else if(char==="8"||char==="9"){throw this.createILLEGAL(char)}else{str+=char;++idx}}}}else{if(char==="\r"&&stream.peek(idx+1)==="\n"){++idx}++idx;this.incrementLine();lineStart=idx}return[str,idx,octal,lineStart]}function scanOctal(str,stream,char,start,octal){let len=1,idx=start;if("0"<=char&&char<="3"){len=0}let code=0;while(len<3&&"0"<=char&&char<="7"){++idx;if(len>0||char!=="0"){if(octal==null)octal="";octal+=char}code*=8;code+=+char;++len;char=stream.peek(idx);if((0,_readtable.isEOS)(char)){throw this.createILLEGAL(char)}}str+=String.fromCharCode(code);return[str,idx,octal]}function scanHexEscape2(stream,idx){let char=stream.peek(idx);if((0,_readtable.isEOS)(char))return-1;let r1=getHexValue(char);if(r1===-1)return r1;let r2=getHexValue(stream.peek(idx+1));if(r2===-1)return r2;stream.readString(idx+1);return r1<<4|r2}function insertSequence(coll,seq){const char=seq[0];if(!coll[char]){coll[char]={}}if(seq.length===1){coll[char].isValue=true;return coll}else{coll[char]=insertSequence(coll[char],seq.slice(1));return coll}}const isTerminating=exports.isTerminating=(table=>char=>table.getMapping(char).mode==="terminating");function retrieveSequenceLength(table,stream,idx){const char=stream.peek(idx);if(!table[char]){if(table.isValue)return idx;return-1}else{return retrieveSequenceLength(table[char],stream,++idx)}}const assignOps=["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",","];const binaryOps=["+","-","*","/","%","<<",">>",">>>","&","|","^","&&","||","?",":","===","==",">=","<=","<",">","!=","!==","instanceof"];const unaryOps=["++","--","~","!","delete","void","typeof","yield","throw","new"];const allOps=assignOps.concat(binaryOps).concat(unaryOps);function isNonLiteralKeyword(t){return(0,_tokens.isKeyword)(t)&&t.value&&!R.contains(t.value,literalKeywords)}const exprPrefixKeywords=["instanceof","typeof","delete","void","yield","throw","new","case"];function isExprReturn(l,p){return popRestMaybe(p).map(([retKwd,rest])=>(0,_tokens.isKeyword)(retKwd,"return")&&(0,_tokens.getLineNumber)(retKwd)===l).getOrElse(false)}function isTopPunctuator(p){return popMaybe(p).map(punc=>(0,_tokens.isPunctuator)(punc)).getOrElse(false)}function isOperator(op){if(((0,_tokens.isPunctuator)(op)||(0,_tokens.isKeyword)(op))&&op.value!=null){const opVal=op.value;return allOps.some(o=>o===opVal)}return false}function isTopOperator(p){return popMaybe(p).map(op=>{return isOperator(op)}).getOrElse(false)}function isExprPrefixKeyword(kwd){return(0,_tokens.isKeyword)(kwd,exprPrefixKeywords)}function isTopKeywordExprPrefix(p){return popMaybe(p).map(kwd=>{return isExprPrefixKeyword(kwd)}).getOrElse(false)}function isTopColon(p){return popMaybe(p).map(colon=>{if((0,_tokens.isPunctuator)(colon,":")){return true}return false}).getOrElse(false)}function isExprPrefix(l,b,p){if(p.size===0){return b}else if(isTopColon(p)){return b}else if(isTopKeywordExprPrefix(p)){return true}else if(isTopOperator(p)){return true}else if(isTopPunctuator(p)){return b}else if(isExprReturn(l,p)){return true}return false}function popMaybe(p){if(p.size>=1){return _ramdaFantasy.Maybe.of(p.last())}return Nothing()}function isTopStandaloneKeyword(prefix){return popRestMaybe(prefix).map(([kwd,rest])=>{if(isNonLiteralKeyword(kwd)){return _ramdaFantasy.Maybe.maybe(true,dot=>!(0,_tokens.isPunctuator)(dot,"."),popMaybe(rest))}return false}).getOrElse(false)}function isTopParensWithKeyword(prefix){return popRestMaybe(prefix).chain(([paren,rest])=>(0,_tokens.isParens)(paren)?popRestMaybe(rest):Nothing()).map(([kwd,rest])=>{if(isNonLiteralKeyword(kwd)){return _ramdaFantasy.Maybe.maybe(true,dot=>!(0,_tokens.isPunctuator)(dot,"."),popMaybe(rest))}return false}).getOrElse(false)}function popRestMaybe(p){if(p.size>0){let last=p.last();let rest=p.pop();return _ramdaFantasy.Maybe.of([last,rest])}return Nothing()}function isTopFunctionExpression(prefix,exprAllowed){return popRestMaybe(prefix).chain(([curly,rest])=>{if((0,_tokens.isBraces)(curly)){return popRestMaybe(rest)}return Nothing()}).chain(([paren,rest])=>{if((0,_tokens.isParens)(paren)){return popRestMaybe(rest)}return Nothing()}).chain(([optIdent,rest])=>{if((0,_tokens.isIdentifier)(optIdent)){return popRestMaybe(rest)}return _ramdaFantasy.Maybe.of([optIdent,rest])}).chain(([fnKwd,rest])=>{if((0,_tokens.isKeyword)(fnKwd,"function")){let l=(0,_tokens.getLineNumber)(fnKwd);if(l==null){throw new Error("Un-expected null line number")}return _ramdaFantasy.Maybe.of(!isExprPrefix(l,exprAllowed,rest))}return _ramdaFantasy.Maybe.of(false)}).getOrElse(false)}function isTopObjectLiteral(prefix,exprAllowed){return popRestMaybe(prefix).chain(([braces,rest])=>{if((0,_tokens.isBraces)(braces)){let l=(0,_tokens.getLineNumber)(braces);if(l==null){throw new Error("Un-expected null line number")}return _ramdaFantasy.Maybe.of(!isExprPrefix(l,exprAllowed,rest))}return _ramdaFantasy.Maybe.of(false)}).getOrElse(false)}function isTopFunction(prefix){return popRestMaybe(prefix).chain(([curly,rest])=>{if((0,_tokens.isBraces)(curly)){return popRestMaybe(rest)}return Nothing()}).chain(([paren,rest])=>{if((0,_tokens.isParens)(paren)){return popRestMaybe(rest)}return Nothing()}).chain(([optIdent,rest])=>{if((0,_tokens.isIdentifier)(optIdent)){return popRestMaybe(rest)}return _ramdaFantasy.Maybe.of([optIdent,rest])}).chain(([fnKwd,rest])=>{if((0,_tokens.isKeyword)(fnKwd,"function")){return _ramdaFantasy.Maybe.of(true)}return _ramdaFantasy.Maybe.of(false)}).getOrElse(false)}function isRegexPrefix(exprAllowed,prefix){if(prefix.isEmpty()){return true}else if(isTopPunctuator(prefix)){return true}else if(isTopStandaloneKeyword(prefix)){return true}else if(isTopParensWithKeyword(prefix)){return true}else if(isTopFunction(prefix)){return isTopFunctionExpression(prefix,exprAllowed)}else if(isTopObjectLiteral(prefix,exprAllowed)){return true}return false}},function(module,exports,__webpack_require__){(function(){"use strict";exports.ast=__webpack_require__(53);exports.code=__webpack_require__(32);exports.keyword=__webpack_require__(54)})()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CompiletimeTransform=exports.VarBindingTransform=exports.ModuleNamespaceTransform=exports.ReturnStatementTransform=exports.OperatorDeclTransform=exports.SyntaxDeclTransform=exports.SyntaxrecDeclTransform=exports.DebuggerTransform=exports.DefaultTransform=exports.ClassTransform=exports.ThisTransform=exports.YieldTransform=exports.SuperTransform=exports.ExportTransform=exports.ImportTransform=exports.WithTransform=exports.DoTransform=exports.ContinueTransform=exports.BreakTransform=exports.SwitchTransform=exports.ForTransform=exports.IfTransform=exports.WhileTransform=exports.TryTransform=exports.ConstDeclTransform=exports.LetDeclTransform=exports.ThrowTransform=exports.NewTransform=exports.VariableDeclTransform=exports.FunctionDeclTransform=undefined;var _sweetModule=__webpack_require__(17);var _sweetModule2=_interopRequireDefault(_sweetModule);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class FunctionDeclTransform{}exports.FunctionDeclTransform=FunctionDeclTransform;class VariableDeclTransform{}exports.VariableDeclTransform=VariableDeclTransform;class NewTransform{}exports.NewTransform=NewTransform;class ThrowTransform{}exports.ThrowTransform=ThrowTransform;class LetDeclTransform{}exports.LetDeclTransform=LetDeclTransform;class ConstDeclTransform{}exports.ConstDeclTransform=ConstDeclTransform;class TryTransform{}exports.TryTransform=TryTransform;class WhileTransform{}exports.WhileTransform=WhileTransform;class IfTransform{}exports.IfTransform=IfTransform;class ForTransform{}exports.ForTransform=ForTransform;class SwitchTransform{}exports.SwitchTransform=SwitchTransform;class BreakTransform{}exports.BreakTransform=BreakTransform;class ContinueTransform{}exports.ContinueTransform=ContinueTransform;class DoTransform{}exports.DoTransform=DoTransform;class WithTransform{}exports.WithTransform=WithTransform;class ImportTransform{}exports.ImportTransform=ImportTransform;class ExportTransform{}exports.ExportTransform=ExportTransform;class SuperTransform{}exports.SuperTransform=SuperTransform;class YieldTransform{}exports.YieldTransform=YieldTransform;class ThisTransform{}exports.ThisTransform=ThisTransform;class ClassTransform{}exports.ClassTransform=ClassTransform;class DefaultTransform{}exports.DefaultTransform=DefaultTransform;class DebuggerTransform{}exports.DebuggerTransform=DebuggerTransform;class SyntaxrecDeclTransform{}exports.SyntaxrecDeclTransform=SyntaxrecDeclTransform;class SyntaxDeclTransform{}exports.SyntaxDeclTransform=SyntaxDeclTransform;class OperatorDeclTransform{}exports.OperatorDeclTransform=OperatorDeclTransform;class ReturnStatementTransform{}exports.ReturnStatementTransform=ReturnStatementTransform;class ModuleNamespaceTransform{constructor(namespace,mod){this.namespace=namespace;this.mod=mod}}exports.ModuleNamespaceTransform=ModuleNamespaceTransform;class VarBindingTransform{constructor(id){this.id=id}}exports.VarBindingTransform=VarBindingTransform;class CompiletimeTransform{constructor(value){this.value=value}}exports.CompiletimeTransform=CompiletimeTransform},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.expect=expect;exports.assert=assert;function expect(cond,message,offendingSyntax,rest){if(!cond){let ctx="";if(rest){ctx=rest.slice(0,20).map(s=>{let val=s.isDelimiter()?"( ... )":s.val();if(s===offendingSyntax){return"__"+val+"__"}return val}).join(" ")}throw new Error("[error]: "+message+"\n"+ctx)}}function assert(cond,message){if(!cond){throw new Error("[assertion error]: "+message)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _sweetSpec=__webpack_require__(2);var S=_interopRequireWildcard(_sweetSpec);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}exports.default=class extends S.default.CloneReducer{constructor(scopes,bindings){super();this.scopes=scopes;this.bindings=bindings}applyScopes(s){return this.scopes.reduce((acc,sc)=>{return acc.addScope(sc.scope,this.bindings,sc.phase,{flip:sc.flip})},s)}reduceBindingIdentifier(t,s){return new S.BindingIdentifier({name:this.applyScopes(s.name)})}reduceIdentifierExpression(t,s){return new S.IdentifierExpression({name:this.applyScopes(s.name)})}reduceRawSyntax(t,s){if(s.value.isTemplate()&&s.value.items){s.value.token.items=s.value.token.items.map(t=>{if(t instanceof S.default){return t.reduce(this)}return t})}return new S.RawSyntax({value:this.applyScopes(s.value)})}}},function(module,exports,__webpack_require__){module.exports={Either:__webpack_require__(55),Future:__webpack_require__(56),Identity:__webpack_require__(57),IO:__webpack_require__(58),lift2:__webpack_require__(59),lift3:__webpack_require__(60),Maybe:__webpack_require__(61),Tuple:__webpack_require__(62),Reader:__webpack_require__(63)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.freshScope=freshScope;exports.Scope=Scope;var _symbol=__webpack_require__(13);let scopeIndex=0;function freshScope(name="scope"){scopeIndex++;return(0,_symbol.Symbol)(name+"_"+scopeIndex)}function Scope(name){return(0,_symbol.Symbol)(name)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.gensym=gensym;let internedMap=new Map;let counter=0;function gensym(name){let prefix=name==null?"s_":name+"_";let sym=new Symbol(prefix+counter);counter++;return sym}class Symbol{constructor(name){this.name=name}toString(){return this.name}}function makeSymbol(name){let s=internedMap.get(name);if(s){return s}else{let sym=new Symbol(name);internedMap.set(name,sym);return sym}}exports.Symbol=makeSymbol;exports.SymbolClass=Symbol},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isExportDeclaration=exports.isImportDeclaration=exports.isCompiletimeStatement=exports.isCompiletimeDeclaration=exports.isSyntaxDeclarationStatement=exports.isExportSyntax=exports.isParenthesizedExpression=exports.isFunctionWithName=exports.isFunctionTerm=exports.isSyntaxrecDeclaration=exports.isSyntaxDeclaration=exports.isEOF=exports.isVariableDeclarator=exports.isVariableDeclaration=exports.isSyntaxTemplate=exports.isTemplateElement=exports.isSwitchDefault=exports.isSwitchCase=exports.isSuper=exports.isSpreadElement=exports.isScript=exports.isFunctionDeclaration=exports.isFunctionBody=exports.isFormalParameters=exports.isDirective=exports.isCatchClause=exports.isBlock=exports.isWithStatement=exports.isWhileStatement=exports.isVariableDeclarationStatement=exports.isTryFinallyStatement=exports.isTryCatchStatement=exports.isThrowStatement=exports.isSwitchStatementWithDefault=exports.isSwitchStatement=exports.isReturnStatement=exports.isLabeledStatement=exports.isIfStatement=exports.isForStatement=exports.isForOfStatement=exports.isForInStatement=exports.isExpressionStatement=exports.isEmptyStatement=exports.isDoWhileStatement=exports.isDebuggerStatement=exports.isCompoundAssignmentExpression=exports.isContinueStatement=exports.isBreakStatement=exports.isBlockStatement=exports.isYieldGeneratorExpression=exports.isYieldExpression=exports.isUpdateExpression=exports.isThisExpression=exports.isTemplateExpression=exports.isStaticMemberExpression=exports.isUnaryExpression=exports.isObjectExpression=exports.isNewTargetExpression=exports.isNewExpression=exports.isIdentifierExpression=exports.isFunctionExpression=exports.isConditionalExpression=exports.isComputedMemberExpression=exports.isComputedAssignmentExpression=exports.isCallExpression=exports.isBinaryExpression=exports.isAssignmentExpression=exports.isArrowExpression=exports.isArrayExpression=exports.isLiteralStringExpression=exports.isLiteralRegExpExpression=exports.isLiteralNumericExpression=exports.isLiteralNullExpression=exports.isLiteralInfinityExpression=exports.isLiteralBooleanExpression=exports.isStaticPropertyName=exports.isComputedPropertyName=exports.isShorthandProperty=exports.isDataProperty=exports.isSetter=exports.isGetter=exports.isMethod=exports.isExportSpecifier=exports.isExportDefault=exports.isExport=exports.isExportFrom=exports.isExportAllFrom=exports.isImportSpecifier=exports.isImportNamespace=exports.isImport=exports.isModule=exports.isClassElement=exports.isClassDeclaration=exports.isClassExpression=exports.isBindingPropertyProperty=exports.isBindingPropertyIdentifier=exports.isObjectBinding=exports.isArrayBinding=exports.isBindingIdentifier=exports.isBindingWithDefault=undefined;var _ramda=__webpack_require__(0);var R=_interopRequireWildcard(_ramda);var _sweetSpec=__webpack_require__(2);var _sweetSpec2=_interopRequireDefault(_sweetSpec);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}const isBindingWithDefault=exports.isBindingWithDefault=R.whereEq({type:"BindingWithDefault"});const isBindingIdentifier=exports.isBindingIdentifier=R.whereEq({type:"BindingIdentifier"});const isArrayBinding=exports.isArrayBinding=R.whereEq({type:"ArrayBinding"});const isObjectBinding=exports.isObjectBinding=R.whereEq({type:"ObjectBinding"});const isBindingPropertyIdentifier=exports.isBindingPropertyIdentifier=R.whereEq({type:"BindingPropertyIdentifier"});const isBindingPropertyProperty=exports.isBindingPropertyProperty=R.whereEq({type:"BindingPropertyIdentifier"});const isClassExpression=exports.isClassExpression=R.whereEq({type:"ClassExpression"});const isClassDeclaration=exports.isClassDeclaration=R.whereEq({type:"ClassDeclaration"});const isClassElement=exports.isClassElement=R.whereEq({type:"ClassElement"});const isModule=exports.isModule=R.whereEq({type:"Module"});const isImport=exports.isImport=R.whereEq({type:"Import"});const isImportNamespace=exports.isImportNamespace=R.whereEq({type:"ImportNamespace"});const isImportSpecifier=exports.isImportSpecifier=R.whereEq({type:"ImportSpecifier"});const isExportAllFrom=exports.isExportAllFrom=R.whereEq({type:"ExportAllFrom"});const isExportFrom=exports.isExportFrom=R.whereEq({type:"ExportFrom"});const isExport=exports.isExport=R.whereEq({type:"Export"});const isExportDefault=exports.isExportDefault=R.whereEq({type:"ExportDefault"});const isExportSpecifier=exports.isExportSpecifier=R.whereEq({type:"ExportSpecifier"});const isMethod=exports.isMethod=R.whereEq({type:"Method"});const isGetter=exports.isGetter=R.whereEq({type:"Getter"});const isSetter=exports.isSetter=R.whereEq({type:"Setter"});const isDataProperty=exports.isDataProperty=R.whereEq({type:"DataProperty"});const isShorthandProperty=exports.isShorthandProperty=R.whereEq({type:"ShorthandProperty"});const isComputedPropertyName=exports.isComputedPropertyName=R.whereEq({type:"ComputedPropertyName"});const isStaticPropertyName=exports.isStaticPropertyName=R.whereEq({type:"StaticPropertyName"});const isLiteralBooleanExpression=exports.isLiteralBooleanExpression=R.whereEq({type:"LiteralBooleanExpression"});const isLiteralInfinityExpression=exports.isLiteralInfinityExpression=R.whereEq({type:"LiteralInfinityExpression"});const isLiteralNullExpression=exports.isLiteralNullExpression=R.whereEq({type:"LiteralNullExpression"});const isLiteralNumericExpression=exports.isLiteralNumericExpression=R.whereEq({type:"LiteralNumericExpression"});const isLiteralRegExpExpression=exports.isLiteralRegExpExpression=R.whereEq({type:"LiteralRegExpExpression"});const isLiteralStringExpression=exports.isLiteralStringExpression=R.whereEq({type:"LiteralStringExpression"});const isArrayExpression=exports.isArrayExpression=R.whereEq({type:"ArrayExpression"});const isArrowExpression=exports.isArrowExpression=R.whereEq({type:"ArrowExpression"});const isAssignmentExpression=exports.isAssignmentExpression=R.whereEq({type:"AssignmentExpression"});const isBinaryExpression=exports.isBinaryExpression=R.whereEq({type:"BinaryExpression"});const isCallExpression=exports.isCallExpression=R.whereEq({type:"CallExpression"});const isComputedAssignmentExpression=exports.isComputedAssignmentExpression=R.whereEq({type:"ComputedAssignmentExpression"});const isComputedMemberExpression=exports.isComputedMemberExpression=R.whereEq({type:"ComputedMemberExpression"});const isConditionalExpression=exports.isConditionalExpression=R.whereEq({type:"ConditionalExpression"});const isFunctionExpression=exports.isFunctionExpression=R.whereEq({type:"FunctionExpression"});const isIdentifierExpression=exports.isIdentifierExpression=R.whereEq({type:"IdentifierExpression"});const isNewExpression=exports.isNewExpression=R.whereEq({type:"NewExpression"});const isNewTargetExpression=exports.isNewTargetExpression=R.whereEq({type:"NewTargetExpression"});const isObjectExpression=exports.isObjectExpression=R.whereEq({type:"ObjectExpression"});const isUnaryExpression=exports.isUnaryExpression=R.whereEq({type:"UnaryExpression"});const isStaticMemberExpression=exports.isStaticMemberExpression=R.whereEq({type:"StaticMemberExpression"});const isTemplateExpression=exports.isTemplateExpression=R.whereEq({type:"TemplateExpression"});const isThisExpression=exports.isThisExpression=R.whereEq({type:"ThisExpression"});const isUpdateExpression=exports.isUpdateExpression=R.whereEq({type:"UpdateExpression"});const isYieldExpression=exports.isYieldExpression=R.whereEq({type:"YieldExpression"});const isYieldGeneratorExpression=exports.isYieldGeneratorExpression=R.whereEq({type:"YieldGeneratorExpression"});const isBlockStatement=exports.isBlockStatement=R.whereEq({type:"BlockStatement"});const isBreakStatement=exports.isBreakStatement=R.whereEq({type:"BreakStatement"});const isContinueStatement=exports.isContinueStatement=R.whereEq({type:"ContinueStatement"});const isCompoundAssignmentExpression=exports.isCompoundAssignmentExpression=R.whereEq({type:"CompoundAssignmentExpression"});const isDebuggerStatement=exports.isDebuggerStatement=R.whereEq({type:"DebuggerStatement"});const isDoWhileStatement=exports.isDoWhileStatement=R.whereEq({type:"DoWhileStatement"});const isEmptyStatement=exports.isEmptyStatement=R.whereEq({type:"EmptyStatement"});const isExpressionStatement=exports.isExpressionStatement=R.whereEq({type:"ExpressionStatement"});const isForInStatement=exports.isForInStatement=R.whereEq({type:"ForInStatement"});const isForOfStatement=exports.isForOfStatement=R.whereEq({type:"ForOfStatement"});const isForStatement=exports.isForStatement=R.whereEq({type:"ForStatement"});const isIfStatement=exports.isIfStatement=R.whereEq({type:"IfStatement"});const isLabeledStatement=exports.isLabeledStatement=R.whereEq({type:"LabeledStatement"});const isReturnStatement=exports.isReturnStatement=R.whereEq({type:"ReturnStatement"});const isSwitchStatement=exports.isSwitchStatement=R.whereEq({type:"SwitchStatement"});const isSwitchStatementWithDefault=exports.isSwitchStatementWithDefault=R.whereEq({type:"SwitchStatementWithDefault"});const isThrowStatement=exports.isThrowStatement=R.whereEq({type:"ThrowStatement"});const isTryCatchStatement=exports.isTryCatchStatement=R.whereEq({type:"TryCatchStatement"});const isTryFinallyStatement=exports.isTryFinallyStatement=R.whereEq({type:"TryFinallyStatement"});const isVariableDeclarationStatement=exports.isVariableDeclarationStatement=R.whereEq({type:"VariableDeclarationStatement"});const isWhileStatement=exports.isWhileStatement=R.whereEq({type:"WhileStatement"});const isWithStatement=exports.isWithStatement=R.whereEq({type:"WithStatement"});const isBlock=exports.isBlock=R.whereEq({type:"Block"});const isCatchClause=exports.isCatchClause=R.whereEq({type:"CatchClause"});const isDirective=exports.isDirective=R.whereEq({type:"Directive"});const isFormalParameters=exports.isFormalParameters=R.whereEq({type:"FormalParameters"});const isFunctionBody=exports.isFunctionBody=R.whereEq({type:"FunctionBody"});const isFunctionDeclaration=exports.isFunctionDeclaration=R.whereEq({type:"FunctionDeclaration"});const isScript=exports.isScript=R.whereEq({type:"Script"});const isSpreadElement=exports.isSpreadElement=R.whereEq({type:"SpreadElement"});const isSuper=exports.isSuper=R.whereEq({type:"Super"});const isSwitchCase=exports.isSwitchCase=R.whereEq({type:"SwitchCase"});const isSwitchDefault=exports.isSwitchDefault=R.whereEq({type:"SwitchDefault"});const isTemplateElement=exports.isTemplateElement=R.whereEq({type:"TemplateElement"});const isSyntaxTemplate=exports.isSyntaxTemplate=R.whereEq({type:"SyntaxTemplate"});const isVariableDeclaration=exports.isVariableDeclaration=R.whereEq({type:"VariableDeclaration"});const isVariableDeclarator=exports.isVariableDeclarator=R.whereEq({type:"VariableDeclarator"});const isEOF=exports.isEOF=R.whereEq({type:"EOF"});const isSyntaxDeclaration=exports.isSyntaxDeclaration=R.both(isVariableDeclaration,R.whereEq({kind:"syntax"}));const isSyntaxrecDeclaration=exports.isSyntaxrecDeclaration=R.both(isVariableDeclaration,R.whereEq({kind:"syntaxrec"}));const isFunctionTerm=exports.isFunctionTerm=R.either(isFunctionDeclaration,isFunctionExpression);const isFunctionWithName=exports.isFunctionWithName=R.and(isFunctionTerm,R.complement(R.where({name:R.isNil})));const isParenthesizedExpression=exports.isParenthesizedExpression=R.whereEq({type:"ParenthesizedExpression"});const isExportSyntax=exports.isExportSyntax=R.both(isExport,exp=>R.or(isSyntaxDeclaration(exp.declaration),isSyntaxrecDeclaration(exp.declaration)));const isSyntaxDeclarationStatement=exports.isSyntaxDeclarationStatement=R.both(isVariableDeclarationStatement,decl=>isCompiletimeDeclaration(decl.declaration));const isCompiletimeDeclaration=exports.isCompiletimeDeclaration=R.either(isSyntaxDeclaration,isSyntaxrecDeclaration);const isCompiletimeStatement=exports.isCompiletimeStatement=(term=>{return term instanceof _sweetSpec2.default&&isVariableDeclarationStatement(term)&&isCompiletimeDeclaration(term.declaration)});const isImportDeclaration=exports.isImportDeclaration=R.either(isImport,isImportNamespace);const isExportDeclaration=exports.isExportDeclaration=R.either(isExport,isExportDefault,isExportFrom,isExportAllFrom)},function(module,exports,__webpack_require__){var _equals=__webpack_require__(0).equals;module.exports={baseMap:function(f){return f(this.value)},getEquals:function(constructor){return function equals(that){return that instanceof constructor&&_equals(this.value,that.value)}},extend:function(Child,Parent){function Ctor(){this.constructor=Child}Ctor.prototype=Parent.prototype;Child.prototype=new Ctor;Child.super_=Parent.prototype},identity:function(x){return x},notImplemented:function(str){return function(){throw new Error(str+" is not implemented")}},notCallable:function(fn){return function(){throw new Error(fn+" cannot be called directly")}},returnThis:function(){return this}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _transforms=__webpack_require__(8);class Env{constructor(){this.map=new Map;this.map.set("function",_transforms.FunctionDeclTransform);this.map.set("var",_transforms.VariableDeclTransform);this.map.set("let",_transforms.LetDeclTransform);this.map.set("const",_transforms.ConstDeclTransform);this.map.set("syntaxrec",_transforms.SyntaxrecDeclTransform);this.map.set("syntax",_transforms.SyntaxDeclTransform);this.map.set("operator",_transforms.OperatorDeclTransform);this.map.set("return",_transforms.ReturnStatementTransform);this.map.set("while",_transforms.WhileTransform);this.map.set("if",_transforms.IfTransform);this.map.set("for",_transforms.ForTransform);this.map.set("switch",_transforms.SwitchTransform);this.map.set("break",_transforms.BreakTransform);this.map.set("continue",_transforms.ContinueTransform);this.map.set("do",_transforms.DoTransform);this.map.set("debugger",_transforms.DebuggerTransform);this.map.set("with",_transforms.WithTransform);this.map.set("import",_transforms.ImportTransform);this.map.set("export",_transforms.ExportTransform);this.map.set("super",_transforms.SuperTransform);this.map.set("this",_transforms.ThisTransform);this.map.set("class",_transforms.ClassTransform);this.map.set("default",_transforms.DefaultTransform);this.map.set("try",_transforms.TryTransform);this.map.set("yield",_transforms.YieldTransform);this.map.set("throw",_transforms.ThrowTransform);this.map.set("new",_transforms.NewTransform)}has(key){return this.map.has(key)}get(key){return this.map.get(key)}set(key,val){return this.map.set(key,val)}}exports.default=Env},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _sweetSpecUtils=__webpack_require__(33);var S=_interopRequireWildcard(_sweetSpecUtils);var _codegen=__webpack_require__(70);var _codegen2=_interopRequireDefault(_codegen);var _immutable=__webpack_require__(1);var _sweetToShiftReducer=__webpack_require__(21);var _sweetToShiftReducer2=_interopRequireDefault(_sweetToShiftReducer);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}const extractDeclaration=_.cond([[S.isExport,_.prop("declaration")],[S.isExportDefault,_.prop("body")],[_.T,term=>{throw new Error(`Expecting an Export or ExportDefault but got ${term}`)}]]);const ExpSpec=x=>({exportedName:x});const extractDeclarationNames=_.cond([[S.isVariableDeclarator,({binding:binding})=>_immutable.List.of(binding.name)],[S.isVariableDeclaration,({declarators:declarators})=>declarators.flatMap(extractDeclarationNames)],[S.isFunctionDeclaration,({name:name})=>_immutable.List.of(name.name)],[S.isClassDeclaration,({name:name})=>_immutable.List.of(name.name)]]);const extractDeclarationSpecifiers=_.cond([[S.isVariableDeclarator,({binding:binding})=>_immutable.List.of(ExpSpec(binding.name))],[S.isVariableDeclaration,({declarators:declarators})=>declarators.flatMap(extractDeclarationSpecifiers)],[S.isFunctionDeclaration,({name:name})=>_immutable.List.of(ExpSpec(name.name))],[S.isClassDeclaration,({name:name})=>_immutable.List.of(ExpSpec(name.name))]]);function extractSpecifiers(term){if(S.isExport(term)){return extractDeclarationSpecifiers(term.declaration)}else if(S.isExportDefault(term)){return(0,_immutable.List)()}else if(S.isExportFrom(term)){return term.namedExports}throw new Error(`Unknown export type`)}function wrapStatement(declaration){if(S.isVariableDeclaration(declaration)){return new T.VariableDeclarationStatement({declaration:declaration})}return declaration}const memoSym=Symbol("memo");function makeVarDeclStmt(name,expr){return new T.VariableDeclarationStatement({declaration:new T.VariableDeclaration({kind:"var",declarators:_immutable.List.of(new T.VariableDeclarator({binding:name,init:expr}))})})}class SweetModule{constructor(path,items){let moreDirectives=true;let directives=[];let body=[];let imports=[];let exports=[];this.path=path;this.exportedNames=(0,_immutable.List)();for(let item of items){if(moreDirectives&&item instanceof T.ExpressionStatement&&item.expression instanceof T.LiteralStringExpression){directives.push(item.expression.value);continue}else{moreDirectives=false}if(item instanceof T.ImportDeclaration){imports.push(item)}else if(item instanceof T.ExportDeclaration){if(S.isExport(item)){let decl=extractDeclaration(item);let stmt=wrapStatement(decl);let names=extractDeclarationNames(decl);body.push(stmt);let exp=new T.ExportFrom({moduleSpecifier:null,namedExports:names.map(name=>new T.ExportSpecifier({name:name,exportedName:name}))});body.push(exp);exports.push(exp);this.exportedNames=this.exportedNames.concat(extractSpecifiers(exp))}else if(item instanceof T.ExportFrom){let exp=new T.ExportFrom({moduleSpecifier:item.moduleSpecifier,namedExports:item.namedExports.map(({name:name,exportedName:exportedName})=>{if(name==null){return new T.ExportSpecifier({name:exportedName,exportedName:exportedName})}return new T.ExportSpecifier({name:name,exportedName:exportedName})})});body.push(exp);exports.push(exp);this.exportedNames=this.exportedNames.concat(extractSpecifiers(exp))}else{exports.push(item);body.push(item);this.exportedNames=this.exportedNames.concat(extractSpecifiers(item));if(S.isExportDefault(item)){this.defaultExport=_syntax2.default.fromIdentifier("_default");this.exportedNames=this.exportedNames.push(ExpSpec(this.defaultExport))}}}else{body.push(item)}}this.items=(0,_immutable.List)(body);this.imports=(0,_immutable.List)(imports);this.exports=(0,_immutable.List)(exports);this.directives=(0,_immutable.List)(directives)}[memoSym](){let runtime=[],compiletime=[];for(let item of this.items){if(S.isExportDeclaration(item)){if(S.isExportDefault(item)){let decl=extractDeclaration(item);let def=new T.BindingIdentifier({name:this.defaultExport});if(S.isFunctionDeclaration(decl)||S.isClassDeclaration(decl)){runtime.push(decl);runtime.push(makeVarDeclStmt(def,new T.IdentifierExpression({name:decl.name.name})))}else{let stmt=makeVarDeclStmt(def,decl);if(S.isCompiletimeStatement(stmt)){compiletime.push(stmt)}else{runtime.push(stmt)}}}}else{if(S.isCompiletimeStatement(item)){compiletime.push(item)}else{runtime.push(item)}}}this.runtime=(0,_immutable.List)(runtime);this.compiletime=(0,_immutable.List)(compiletime)}runtimeItems(){if(this.runtime==null){this[memoSym]()}return this.runtime}compiletimeItems(){if(this.compiletime==null){this[memoSym]()}return this.compiletime}parse(){return new T.Module({items:this.imports.concat(this.items),directives:this.directives}).reduce(new _sweetToShiftReducer2.default(0))}codegen(){return(0,_codegen2.default)(this.parse()).code}}exports.default=SweetModule},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SemiOp=exports.CommaSep=exports.Semi=exports.Seq=exports.ContainsIn=exports.NoIn=exports.Brace=exports.Bracket=exports.Paren=exports.NumberCodeRep=exports.Token=exports.Empty=exports.CodeRep=exports.escapeStringLiteral=exports.getPrecedence=exports.Precedence=exports.Sep=exports.FormattedCodeGen=exports.ExtensibleCodeGen=exports.MinimalCodeGen=undefined;exports.default=codeGen;var _minimalCodegen=__webpack_require__(71);Object.defineProperty(exports,"MinimalCodeGen",{enumerable:true,get:function get(){return _minimalCodegen.default}});var _formattedCodegen=__webpack_require__(72);Object.defineProperty(exports,"ExtensibleCodeGen",{enumerable:true,get:function get(){return _formattedCodegen.ExtensibleCodeGen}});Object.defineProperty(exports,"FormattedCodeGen",{enumerable:true,get:function get(){return _formattedCodegen.FormattedCodeGen}});Object.defineProperty(exports,"Sep",{enumerable:true,get:function get(){return _formattedCodegen.Sep}});var _coderep=__webpack_require__(19);Object.defineProperty(exports,"Precedence",{enumerable:true,get:function get(){return _coderep.Precedence}});Object.defineProperty(exports,"getPrecedence",{enumerable:true,get:function get(){return _coderep.getPrecedence}});Object.defineProperty(exports,"escapeStringLiteral",{enumerable:true,get:function get(){return _coderep.escapeStringLiteral}});Object.defineProperty(exports,"CodeRep",{enumerable:true,get:function get(){return _coderep.CodeRep}});Object.defineProperty(exports,"Empty",{enumerable:true,get:function get(){return _coderep.Empty}});Object.defineProperty(exports,"Token",{enumerable:true,get:function get(){return _coderep.Token}});Object.defineProperty(exports,"NumberCodeRep",{enumerable:true,get:function get(){return _coderep.NumberCodeRep}});Object.defineProperty(exports,"Paren",{enumerable:true,get:function get(){return _coderep.Paren}});Object.defineProperty(exports,"Bracket",{enumerable:true,get:function get(){return _coderep.Bracket}});Object.defineProperty(exports,"Brace",{enumerable:true,get:function get(){return _coderep.Brace}});Object.defineProperty(exports,"NoIn",{enumerable:true,get:function get(){return _coderep.NoIn}});Object.defineProperty(exports,"ContainsIn",{enumerable:true,get:function get(){return _coderep.ContainsIn}});Object.defineProperty(exports,"Seq",{enumerable:true,get:function get(){return _coderep.Seq}});Object.defineProperty(exports,"Semi",{enumerable:true,get:function get(){return _coderep.Semi}});Object.defineProperty(exports,"CommaSep",{enumerable:true,get:function get(){return _coderep.CommaSep}});Object.defineProperty(exports,"SemiOp",{enumerable:true,get:function get(){return _coderep.SemiOp}});var _shiftReducer=__webpack_require__(73);var _shiftReducer2=_interopRequireDefault(_shiftReducer);var _token_stream=__webpack_require__(76);var _minimalCodegen2=_interopRequireDefault(_minimalCodegen);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function codeGen(script){var generator=arguments.length<=1||arguments[1]===undefined?new _minimalCodegen2.default:arguments[1];var ts=new _token_stream.TokenStream;var rep=(0,_shiftReducer2.default)(generator,script);rep.emit(ts);return ts.result}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.getPrecedence=getPrecedence;exports.escapeStringLiteral=escapeStringLiteral;function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Precedence={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Prefix:13,Postfix:14,New:15,Call:16,TaggedTemplate:17,Member:18,Primary:19};exports.Precedence=Precedence;var BinaryPrecedence={",":Precedence.Sequence,"||":Precedence.LogicalOR,"&&":Precedence.LogicalAND,"|":Precedence.BitwiseOR,"^":Precedence.BitwiseXOR,"&":Precedence.BitwiseAND,"==":Precedence.Equality,"!=":Precedence.Equality,"===":Precedence.Equality,"!==":Precedence.Equality,"<":Precedence.Relational,">":Precedence.Relational,"<=":Precedence.Relational,">=":Precedence.Relational,in:Precedence.Relational,instanceof:Precedence.Relational,"<<":Precedence.BitwiseSHIFT,">>":Precedence.BitwiseSHIFT,">>>":Precedence.BitwiseSHIFT,"+":Precedence.Additive,"-":Precedence.Additive,"*":Precedence.Multiplicative,"%":Precedence.Multiplicative,"/":Precedence.Multiplicative};function getPrecedence(node){switch(node.type){case"ArrayExpression":case"FunctionExpression":case"IdentifierExpression":case"LiteralBooleanExpression":case"LiteralNullExpression":case"LiteralNumericExpression":case"LiteralInfinityExpression":case"LiteralRegExpExpression":case"LiteralStringExpression":case"ObjectExpression":case"ThisExpression":return Precedence.Primary;case"ArrowExpression":case"AssignmentExpression":case"CompoundAssignmentExpression":case"YieldExpression":case"YieldGeneratorExpression":return Precedence.Assignment;case"ConditionalExpression":return Precedence.Conditional;case"ComputedMemberExpression":case"StaticMemberExpression":switch(node.object.type){case"CallExpression":case"ComputedMemberExpression":case"StaticMemberExpression":case"TemplateExpression":return getPrecedence(node.object);default:return Precedence.Member}case"TemplateExpression":if(node.tag==null)return Precedence.Member;switch(node.tag.type){case"CallExpression":case"ComputedMemberExpression":case"StaticMemberExpression":case"TemplateExpression":return getPrecedence(node.tag);default:return Precedence.Member}case"BinaryExpression":return BinaryPrecedence[node.operator];case"CallExpression":return Precedence.Call;case"NewExpression":return node.arguments.length===0?Precedence.New:Precedence.Member;case"UpdateExpression":return node.isPrefix?Precedence.Prefix:Precedence.Postfix;case"UnaryExpression":return Precedence.Prefix}}function escapeStringLiteral(stringValue){var result="";var nSingle=0,nDouble=0;for(var i=0,l=stringValue.length;i<l;++i){var ch=stringValue[i];if(ch==='"'){++nDouble}else if(ch==="'"){++nSingle}}var delim=nDouble>nSingle?"'":'"';result+=delim;for(var i=0;i<stringValue.length;i++){var ch=stringValue.charAt(i);switch(ch){case delim:result+="\\"+delim;break;case"\b":result+="\\b";break;case"\t":result+="\\t";break;case"\n":result+="\\n";break;case"\v":result+="\\v";break;case"\f":result+="\\f";break;case"\r":result+="\\r";break;case"\\":result+="\\\\";break;case"\u2028":result+="\\u2028";break;case"\u2029":result+="\\u2029";break;default:result+=ch;break}}result+=delim;return result}var CodeRep=exports.CodeRep=function(){function CodeRep(){_classCallCheck(this,CodeRep);this.containsIn=false;this.containsGroup=false;this.startsWithCurly=false;this.startsWithFunctionOrClass=false;this.startsWithLet=false;this.startsWithLetSquareBracket=false;this.endsWithMissingElse=false}_createClass(CodeRep,[{key:"forEach",value:function forEach(f){f(this)}}]);return CodeRep}();var Empty=exports.Empty=function(_CodeRep){_inherits(Empty,_CodeRep);function Empty(){_classCallCheck(this,Empty);return _possibleConstructorReturn(this,Object.getPrototypeOf(Empty).call(this))}_createClass(Empty,[{key:"emit",value:function emit(){}}]);return Empty}(CodeRep);var Token=exports.Token=function(_CodeRep2){_inherits(Token,_CodeRep2);function Token(token){_classCallCheck(this,Token);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(Token).call(this));_this2.token=token;return _this2}_createClass(Token,[{key:"emit",value:function emit(ts){ts.put(this.token)}}]);return Token}(CodeRep);var NumberCodeRep=exports.NumberCodeRep=function(_CodeRep3){_inherits(NumberCodeRep,_CodeRep3);function NumberCodeRep(number){_classCallCheck(this,NumberCodeRep);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(NumberCodeRep).call(this));_this3.number=number;return _this3}_createClass(NumberCodeRep,[{key:"emit",value:function emit(ts){ts.putNumber(this.number)}}]);return NumberCodeRep}(CodeRep);var Paren=exports.Paren=function(_CodeRep4){_inherits(Paren,_CodeRep4);function Paren(expr){_classCallCheck(this,Paren);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(Paren).call(this));_this4.expr=expr;return _this4}_createClass(Paren,[{key:"emit",value:function emit(ts){ts.put("(");this.expr.emit(ts,false);ts.put(")")}},{key:"forEach",value:function forEach(f){f(this);this.expr.forEach(f)}}]);return Paren}(CodeRep);var Bracket=exports.Bracket=function(_CodeRep5){_inherits(Bracket,_CodeRep5);function Bracket(expr){_classCallCheck(this,Bracket);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(Bracket).call(this));_this5.expr=expr;return _this5}_createClass(Bracket,[{key:"emit",value:function emit(ts){ts.put("[");this.expr.emit(ts,false);ts.put("]")}},{key:"forEach",value:function forEach(f){f(this);this.expr.forEach(f)}}]);return Bracket}(CodeRep);var Brace=exports.Brace=function(_CodeRep6){_inherits(Brace,_CodeRep6);function Brace(expr){_classCallCheck(this,Brace);var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(Brace).call(this));_this6.expr=expr;return _this6}_createClass(Brace,[{key:"emit",value:function emit(ts){ts.put("{");this.expr.emit(ts,false);ts.put("}")}},{key:"forEach",value:function forEach(f){f(this);this.expr.forEach(f)}}]);return Brace}(CodeRep);var NoIn=exports.NoIn=function(_CodeRep7){_inherits(NoIn,_CodeRep7);function NoIn(expr){_classCallCheck(this,NoIn);var _this7=_possibleConstructorReturn(this,Object.getPrototypeOf(NoIn).call(this));_this7.expr=expr;return _this7}_createClass(NoIn,[{key:"emit",value:function emit(ts){this.expr.emit(ts,true)}},{key:"forEach",value:function forEach(f){f(this);this.expr.forEach(f)}}]);return NoIn}(CodeRep);var ContainsIn=exports.ContainsIn=function(_CodeRep8){_inherits(ContainsIn,_CodeRep8);function ContainsIn(expr){_classCallCheck(this,ContainsIn);var _this8=_possibleConstructorReturn(this,Object.getPrototypeOf(ContainsIn).call(this));_this8.expr=expr;return _this8}_createClass(ContainsIn,[{key:"emit",value:function emit(ts,noIn){if(noIn){ts.put("(");this.expr.emit(ts,false);ts.put(")")}else{this.expr.emit(ts,false)}}},{key:"forEach",value:function forEach(f){f(this);this.expr.forEach(f)}}]);return ContainsIn}(CodeRep);var Seq=exports.Seq=function(_CodeRep9){_inherits(Seq,_CodeRep9);function Seq(children){_classCallCheck(this,Seq);var _this9=_possibleConstructorReturn(this,Object.getPrototypeOf(Seq).call(this));_this9.children=children;return _this9}_createClass(Seq,[{key:"emit",value:function emit(ts,noIn){this.children.forEach(function(cr){return cr.emit(ts,noIn)})}},{key:"forEach",value:function forEach(f){f(this);this.children.forEach(function(x){return x.forEach(f)})}}]);return Seq}(CodeRep);var Semi=exports.Semi=function(_Token){_inherits(Semi,_Token);function Semi(){_classCallCheck(this,Semi);return _possibleConstructorReturn(this,Object.getPrototypeOf(Semi).call(this,";"))}return Semi}(Token);var CommaSep=exports.CommaSep=function(_CodeRep10){_inherits(CommaSep,_CodeRep10);function CommaSep(children){_classCallCheck(this,CommaSep);var _this11=_possibleConstructorReturn(this,Object.getPrototypeOf(CommaSep).call(this));_this11.children=children;return _this11}_createClass(CommaSep,[{key:"emit",value:function emit(ts,noIn){var first=true;this.children.forEach(function(cr){if(first){first=false}else{ts.put(",")}cr.emit(ts,noIn)})}},{key:"forEach",value:function forEach(f){f(this);this.children.forEach(function(x){return x.forEach(f)})}}]);return CommaSep}(CodeRep);var SemiOp=exports.SemiOp=function(_CodeRep11){_inherits(SemiOp,_CodeRep11);function SemiOp(){_classCallCheck(this,SemiOp);return _possibleConstructorReturn(this,Object.getPrototypeOf(SemiOp).call(this))}_createClass(SemiOp,[{key:"emit",value:function emit(ts){ts.putOptionalSemi()}}]);return SemiOp}(CodeRep)},function(module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(){var SPEC={};var BOOLEAN={typeName:"Boolean"};var DOUBLE={typeName:"Number"};var STRING={typeName:"String"};function Maybe(arg){return{typeName:"Maybe",argument:arg}}function List(arg){return{typeName:"List",argument:arg}}function Const(arg){return{typeName:"Const",argument:arg}}function Union(){return{typeName:"Union",arguments:[].slice.call(arguments,0)}}var TYPE_INDICATOR={typeName:"Enum",values:["ArrayBinding","ArrayExpression","ArrowExpression","AssignmentExpression","BinaryExpression","BindingIdentifier","BindingProperty","BindingPropertyIdentifier","BindingPropertyProperty","BindingWithDefault","Block","BlockStatement","BreakStatement","CallExpression","CatchClause","Class","ClassDeclaration","ClassElement","ClassExpression","CompoundAssignmentExpression","ComputedMemberExpression","ComputedPropertyName","ConditionalExpression","ContinueStatement","DataProperty","DebuggerStatement","Directive","DoWhileStatement","EmptyStatement","Export","ExportAllFrom","ExportDeclaration","ExportDefault","ExportFrom","ExportSpecifier","Expression","ExpressionStatement","ForInStatement","ForOfStatement","ForStatement","FormalParameters","Function","FunctionBody","FunctionDeclaration","FunctionExpression","Getter","IdentifierExpression","IfStatement","Import","ImportDeclaration","ImportNamespace","ImportSpecifier","IterationStatement","LabeledStatement","LiteralBooleanExpression","LiteralInfinityExpression","LiteralNullExpression","LiteralNumericExpression","LiteralRegExpExpression","LiteralStringExpression","MemberExpression","Method","MethodDefinition","Module","NamedObjectProperty","NewExpression","NewTargetExpression","Node","ObjectBinding","ObjectExpression","ObjectProperty","PropertyName","ReturnStatement","Script","Setter","ShorthandProperty","SourceLocation","SourceSpan","SpreadElement","Statement","StaticMemberExpression","StaticPropertyName","Super","SwitchCase","SwitchDefault","SwitchStatement","SwitchStatementWithDefault","TemplateElement","TemplateExpression","ThisExpression","ThrowStatement","TryCatchStatement","TryFinallyStatement","UnaryExpression","UpdateExpression","VariableDeclaration","VariableDeclarationStatement","VariableDeclarator","WhileStatement","WithStatement","YieldExpression","YieldGeneratorExpression"]};var VariableDeclarationKind={typeName:"Enum",values:["var","let","const"]};var CompoundAssignmentOperator={typeName:"Enum",values:["+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&="]};var BinaryOperator={typeName:"Enum",values:["==","!=","===","!==","<","<=",">",">=","in","instanceof","<<",">>",">>>","+","-","*","/","%",",","||","&&","|","^","&"]};var UnaryOperator={typeName:"Enum",values:["+","-","!","~","typeof","void","delete"]};var UpdateOperator={typeName:"Enum",values:["++","--"]};var SourceLocation=SPEC.SourceLocation={};var SourceSpan=SPEC.SourceSpan={};var BindingWithDefault=SPEC.BindingWithDefault={};var BindingIdentifier=SPEC.BindingIdentifier={};var ArrayBinding=SPEC.ArrayBinding={};var ObjectBinding=SPEC.ObjectBinding={};var BindingPropertyIdentifier=SPEC.BindingPropertyIdentifier={};var BindingPropertyProperty=SPEC.BindingPropertyProperty={};var ClassExpression=SPEC.ClassExpression={};var ClassDeclaration=SPEC.ClassDeclaration={};var ClassElement=SPEC.ClassElement={};var Module=SPEC.Module={};var Import=SPEC.Import={};var ImportNamespace=SPEC.ImportNamespace={};var ImportSpecifier=SPEC.ImportSpecifier={};var ExportAllFrom=SPEC.ExportAllFrom={};var ExportFrom=SPEC.ExportFrom={};var Export=SPEC.Export={};var ExportDefault=SPEC.ExportDefault={};var ExportSpecifier=SPEC.ExportSpecifier={};var Method=SPEC.Method={};var Getter=SPEC.Getter={};var Setter=SPEC.Setter={};var DataProperty=SPEC.DataProperty={};var ShorthandProperty=SPEC.ShorthandProperty={};var ComputedPropertyName=SPEC.ComputedPropertyName={};var StaticPropertyName=SPEC.StaticPropertyName={};var LiteralBooleanExpression=SPEC.LiteralBooleanExpression={};var LiteralInfinityExpression=SPEC.LiteralInfinityExpression={};var LiteralNullExpression=SPEC.LiteralNullExpression={};var LiteralNumericExpression=SPEC.LiteralNumericExpression={};var LiteralRegExpExpression=SPEC.LiteralRegExpExpression={};var LiteralStringExpression=SPEC.LiteralStringExpression={};var ArrayExpression=SPEC.ArrayExpression={};var ArrowExpression=SPEC.ArrowExpression={};var AssignmentExpression=SPEC.AssignmentExpression={};var BinaryExpression=SPEC.BinaryExpression={};var CallExpression=SPEC.CallExpression={};var CompoundAssignmentExpression=SPEC.CompoundAssignmentExpression={};var ComputedMemberExpression=SPEC.ComputedMemberExpression={};var ConditionalExpression=SPEC.ConditionalExpression={};var FunctionExpression=SPEC.FunctionExpression={};var IdentifierExpression=SPEC.IdentifierExpression={};var NewExpression=SPEC.NewExpression={};var NewTargetExpression=SPEC.NewTargetExpression={};var ObjectExpression=SPEC.ObjectExpression={};var UnaryExpression=SPEC.UnaryExpression={};var StaticMemberExpression=SPEC.StaticMemberExpression={};var TemplateExpression=SPEC.TemplateExpression={};var ThisExpression=SPEC.ThisExpression={};var UpdateExpression=SPEC.UpdateExpression={};var YieldExpression=SPEC.YieldExpression={};var YieldGeneratorExpression=SPEC.YieldGeneratorExpression={};var BlockStatement=SPEC.BlockStatement={};var BreakStatement=SPEC.BreakStatement={};var ContinueStatement=SPEC.ContinueStatement={};var DebuggerStatement=SPEC.DebuggerStatement={};var DoWhileStatement=SPEC.DoWhileStatement={};var EmptyStatement=SPEC.EmptyStatement={};var ExpressionStatement=SPEC.ExpressionStatement={};var ForInStatement=SPEC.ForInStatement={};var ForOfStatement=SPEC.ForOfStatement={};var ForStatement=SPEC.ForStatement={};var IfStatement=SPEC.IfStatement={};var LabeledStatement=SPEC.LabeledStatement={};var ReturnStatement=SPEC.ReturnStatement={};var SwitchStatement=SPEC.SwitchStatement={};var SwitchStatementWithDefault=SPEC.SwitchStatementWithDefault={};var ThrowStatement=SPEC.ThrowStatement={};var TryCatchStatement=SPEC.TryCatchStatement={};var TryFinallyStatement=SPEC.TryFinallyStatement={};var VariableDeclarationStatement=SPEC.VariableDeclarationStatement={};var WhileStatement=SPEC.WhileStatement={};var WithStatement=SPEC.WithStatement={};var Block=SPEC.Block={};var CatchClause=SPEC.CatchClause={};var Directive=SPEC.Directive={};var FormalParameters=SPEC.FormalParameters={};var FunctionBody=SPEC.FunctionBody={};var FunctionDeclaration=SPEC.FunctionDeclaration={};var Script=SPEC.Script={};var SpreadElement=SPEC.SpreadElement={};var Super=SPEC.Super={};var SwitchCase=SPEC.SwitchCase={};var SwitchDefault=SPEC.SwitchDefault={};var TemplateElement=SPEC.TemplateElement={};var VariableDeclaration=SPEC.VariableDeclaration={};var VariableDeclarator=SPEC.VariableDeclarator={};var Class=Union(ClassExpression,ClassDeclaration);var BindingProperty=Union(BindingPropertyIdentifier,BindingPropertyProperty);var ExportDeclaration=Union(ExportAllFrom,ExportFrom,Export,ExportDefault);var ImportDeclaration=Union(Import,ImportNamespace);var MethodDefinition=Union(Method,Getter,Setter);var NamedObjectProperty=Union(MethodDefinition,DataProperty);var ObjectProperty=Union(NamedObjectProperty,ShorthandProperty);var PropertyName=Union(ComputedPropertyName,StaticPropertyName);var MemberExpression=Union(ComputedMemberExpression,StaticMemberExpression);var Expression=Union(MemberExpression,ClassExpression,LiteralBooleanExpression,LiteralInfinityExpression,LiteralNullExpression,LiteralNumericExpression,LiteralRegExpExpression,LiteralStringExpression,ArrayExpression,ArrowExpression,AssignmentExpression,BinaryExpression,CallExpression,CompoundAssignmentExpression,ConditionalExpression,FunctionExpression,IdentifierExpression,NewExpression,NewTargetExpression,ObjectExpression,UnaryExpression,TemplateExpression,ThisExpression,UpdateExpression,YieldExpression,YieldGeneratorExpression);var IterationStatement=Union(DoWhileStatement,ForInStatement,ForOfStatement,ForStatement,WhileStatement);var Statement=Union(IterationStatement,ClassDeclaration,BlockStatement,BreakStatement,ContinueStatement,DebuggerStatement,EmptyStatement,ExpressionStatement,IfStatement,LabeledStatement,ReturnStatement,SwitchStatement,SwitchStatementWithDefault,ThrowStatement,TryCatchStatement,TryFinallyStatement,VariableDeclarationStatement,WithStatement,FunctionDeclaration);var Node=Union(Statement,Expression,PropertyName,ObjectProperty,ImportDeclaration,ExportDeclaration,BindingWithDefault,BindingIdentifier,ArrayBinding,ObjectBinding,BindingProperty,ClassElement,Module,ImportSpecifier,ExportSpecifier,Block,CatchClause,Directive,FormalParameters,FunctionBody,Script,SpreadElement,Super,SwitchCase,SwitchDefault,TemplateElement,VariableDeclaration,VariableDeclarator);var Function=Union(FunctionExpression,FunctionDeclaration);SourceLocation.typeName="SourceLocation";SourceLocation.fields=[{name:"line",type:DOUBLE},{name:"column",type:DOUBLE},{name:"offset",type:DOUBLE}];SourceSpan.typeName="SourceSpan";SourceSpan.fields=[{name:"source",type:Maybe(STRING)},{name:"start",type:SourceLocation},{name:"end",type:SourceLocation}];BindingWithDefault.typeName="BindingWithDefault";BindingWithDefault.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"BindingWithDefault"},{name:"loc",type:Maybe(SourceSpan)},{name:"binding",type:Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression)},{name:"init",type:Expression}];BindingIdentifier.typeName="BindingIdentifier";BindingIdentifier.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"BindingIdentifier"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:STRING}];ArrayBinding.typeName="ArrayBinding";ArrayBinding.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ArrayBinding"},{name:"loc",type:Maybe(SourceSpan)},{name:"elements",type:List(Maybe(Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression,BindingWithDefault)))},{name:"restElement",type:Maybe(Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression))}];ObjectBinding.typeName="ObjectBinding";ObjectBinding.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ObjectBinding"},{name:"loc",type:Maybe(SourceSpan)},{name:"properties",type:List(BindingProperty)}];BindingPropertyIdentifier.typeName="BindingPropertyIdentifier";BindingPropertyIdentifier.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"BindingPropertyIdentifier"},{name:"loc",type:Maybe(SourceSpan)},{name:"binding",type:BindingIdentifier},{name:"init",type:Maybe(Expression)}];BindingPropertyProperty.typeName="BindingPropertyProperty";BindingPropertyProperty.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"BindingPropertyProperty"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:PropertyName},{name:"binding",type:Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression,BindingWithDefault)}];ClassExpression.typeName="ClassExpression";ClassExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ClassExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:Maybe(BindingIdentifier)},{name:"super",type:Maybe(Expression)},{name:"elements",type:List(ClassElement)}];ClassDeclaration.typeName="ClassDeclaration";ClassDeclaration.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ClassDeclaration"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:BindingIdentifier},{name:"super",type:Maybe(Expression)},{name:"elements",type:List(ClassElement)}];ClassElement.typeName="ClassElement";ClassElement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ClassElement"},{name:"loc",type:Maybe(SourceSpan)},{name:"isStatic",type:BOOLEAN},{name:"method",type:MethodDefinition}];Module.typeName="Module";Module.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Module"},{name:"loc",type:Maybe(SourceSpan)},{name:"directives",type:List(Directive)},{name:"items",type:List(Union(ImportDeclaration,ExportDeclaration,Statement))}];Import.typeName="Import";Import.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Import"},{name:"loc",type:Maybe(SourceSpan)},{name:"moduleSpecifier",type:STRING},{name:"defaultBinding",type:Maybe(BindingIdentifier)},{name:"namedImports",type:List(ImportSpecifier)}];ImportNamespace.typeName="ImportNamespace";ImportNamespace.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ImportNamespace"},{name:"loc",type:Maybe(SourceSpan)},{name:"moduleSpecifier",type:STRING},{name:"defaultBinding",type:Maybe(BindingIdentifier)},{name:"namespaceBinding",type:BindingIdentifier}];ImportSpecifier.typeName="ImportSpecifier";ImportSpecifier.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ImportSpecifier"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:Maybe(STRING)},{name:"binding",type:BindingIdentifier}];ExportAllFrom.typeName="ExportAllFrom";ExportAllFrom.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ExportAllFrom"},{name:"loc",type:Maybe(SourceSpan)},{name:"moduleSpecifier",type:STRING}];ExportFrom.typeName="ExportFrom";ExportFrom.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ExportFrom"},{name:"loc",type:Maybe(SourceSpan)},{name:"namedExports",type:List(ExportSpecifier)},{name:"moduleSpecifier",type:Maybe(STRING)}];Export.typeName="Export";Export.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Export"},{name:"loc",type:Maybe(SourceSpan)},{name:"declaration",type:Union(FunctionDeclaration,ClassDeclaration,VariableDeclaration)}];ExportDefault.typeName="ExportDefault";ExportDefault.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ExportDefault"},{name:"loc",type:Maybe(SourceSpan)},{name:"body",type:Union(FunctionDeclaration,ClassDeclaration,Expression)}];ExportSpecifier.typeName="ExportSpecifier";ExportSpecifier.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ExportSpecifier"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:Maybe(STRING)},{name:"exportedName",type:STRING}];Method.typeName="Method";Method.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Method"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:PropertyName},{name:"isGenerator",type:BOOLEAN},{name:"params",type:FormalParameters},{name:"body",type:FunctionBody}];Getter.typeName="Getter";Getter.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Getter"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:PropertyName},{name:"body",type:FunctionBody}];Setter.typeName="Setter";Setter.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Setter"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:PropertyName},{name:"param",type:Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression,BindingWithDefault)},{name:"body",type:FunctionBody}];DataProperty.typeName="DataProperty";DataProperty.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"DataProperty"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:PropertyName},{name:"expression",type:Expression}];ShorthandProperty.typeName="ShorthandProperty";ShorthandProperty.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ShorthandProperty"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:STRING}];ComputedPropertyName.typeName="ComputedPropertyName";ComputedPropertyName.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ComputedPropertyName"},{name:"loc",type:Maybe(SourceSpan)},{name:"expression",type:Expression}];StaticPropertyName.typeName="StaticPropertyName";StaticPropertyName.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"StaticPropertyName"},{name:"loc",type:Maybe(SourceSpan)},{name:"value",type:STRING}];LiteralBooleanExpression.typeName="LiteralBooleanExpression";LiteralBooleanExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"LiteralBooleanExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"value",type:BOOLEAN}];LiteralInfinityExpression.typeName="LiteralInfinityExpression";LiteralInfinityExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"LiteralInfinityExpression"},{name:"loc",type:Maybe(SourceSpan)}];LiteralNullExpression.typeName="LiteralNullExpression";LiteralNullExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"LiteralNullExpression"},{name:"loc",type:Maybe(SourceSpan)}];LiteralNumericExpression.typeName="LiteralNumericExpression";LiteralNumericExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"LiteralNumericExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"value",type:DOUBLE}];LiteralRegExpExpression.typeName="LiteralRegExpExpression";LiteralRegExpExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"LiteralRegExpExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"pattern",type:STRING},{name:"flags",type:STRING}];LiteralStringExpression.typeName="LiteralStringExpression";LiteralStringExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"LiteralStringExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"value",type:STRING}];ArrayExpression.typeName="ArrayExpression";ArrayExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ArrayExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"elements",type:List(Maybe(Union(SpreadElement,Expression)))}];ArrowExpression.typeName="ArrowExpression";ArrowExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ArrowExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"params",type:FormalParameters},{name:"body",type:Union(FunctionBody,Expression)}];AssignmentExpression.typeName="AssignmentExpression";AssignmentExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"AssignmentExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"binding",type:Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression)},{name:"expression",type:Expression}];BinaryExpression.typeName="BinaryExpression";BinaryExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"BinaryExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"operator",type:BinaryOperator},{name:"left",type:Expression},{name:"right",type:Expression}];CallExpression.typeName="CallExpression";CallExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"CallExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"callee",type:Union(Expression,Super)},{name:"arguments",type:List(Union(SpreadElement,Expression))}];CompoundAssignmentExpression.typeName="CompoundAssignmentExpression";CompoundAssignmentExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"CompoundAssignmentExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"operator",type:CompoundAssignmentOperator},{name:"binding",type:Union(BindingIdentifier,MemberExpression)},{name:"expression",type:Expression}];ComputedMemberExpression.typeName="ComputedMemberExpression";ComputedMemberExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ComputedMemberExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"object",type:Union(Expression,Super)},{name:"expression",type:Expression}];ConditionalExpression.typeName="ConditionalExpression";ConditionalExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ConditionalExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"test",type:Expression},{name:"consequent",type:Expression},{name:"alternate",type:Expression}];FunctionExpression.typeName="FunctionExpression";FunctionExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"FunctionExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"isGenerator",type:BOOLEAN},{name:"name",type:Maybe(BindingIdentifier)},{name:"params",type:FormalParameters},{name:"body",type:FunctionBody}];IdentifierExpression.typeName="IdentifierExpression";IdentifierExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"IdentifierExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"name",type:STRING}];NewExpression.typeName="NewExpression";NewExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"NewExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"callee",type:Expression},{name:"arguments",type:List(Union(SpreadElement,Expression))}];NewTargetExpression.typeName="NewTargetExpression";NewTargetExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"NewTargetExpression"},{name:"loc",type:Maybe(SourceSpan)}];ObjectExpression.typeName="ObjectExpression";ObjectExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ObjectExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"properties",type:List(ObjectProperty)}];UnaryExpression.typeName="UnaryExpression";UnaryExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"UnaryExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"operator",type:UnaryOperator},{name:"operand",type:Expression}];StaticMemberExpression.typeName="StaticMemberExpression";StaticMemberExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"StaticMemberExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"object",type:Union(Expression,Super)},{name:"property",type:STRING}];TemplateExpression.typeName="TemplateExpression";TemplateExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"TemplateExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"tag",type:Maybe(Expression)},{name:"elements",type:List(Union(Expression,TemplateElement))}];ThisExpression.typeName="ThisExpression";ThisExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ThisExpression"},{name:"loc",type:Maybe(SourceSpan)}];UpdateExpression.typeName="UpdateExpression";UpdateExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"UpdateExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"isPrefix",type:BOOLEAN},{name:"operator",type:UpdateOperator},{name:"operand",type:Union(BindingIdentifier,MemberExpression)}];YieldExpression.typeName="YieldExpression";YieldExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"YieldExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"expression",type:Maybe(Expression)}];YieldGeneratorExpression.typeName="YieldGeneratorExpression";YieldGeneratorExpression.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"YieldGeneratorExpression"},{name:"loc",type:Maybe(SourceSpan)},{name:"expression",type:Expression}];BlockStatement.typeName="BlockStatement";BlockStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"BlockStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"block",type:Block}];BreakStatement.typeName="BreakStatement";BreakStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"BreakStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"label",type:Maybe(STRING)}];ContinueStatement.typeName="ContinueStatement";ContinueStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ContinueStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"label",type:Maybe(STRING)}];DebuggerStatement.typeName="DebuggerStatement";DebuggerStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"DebuggerStatement"},{name:"loc",type:Maybe(SourceSpan)}];DoWhileStatement.typeName="DoWhileStatement";DoWhileStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"DoWhileStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"body",type:Statement},{name:"test",type:Expression}];EmptyStatement.typeName="EmptyStatement";EmptyStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"EmptyStatement"},{name:"loc",type:Maybe(SourceSpan)}];ExpressionStatement.typeName="ExpressionStatement";ExpressionStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ExpressionStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"expression",type:Expression}];ForInStatement.typeName="ForInStatement";ForInStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ForInStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"left",type:Union(VariableDeclaration,ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression)},{name:"right",type:Expression},{name:"body",type:Statement}];ForOfStatement.typeName="ForOfStatement";ForOfStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ForOfStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"left",type:Union(VariableDeclaration,ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression)},{name:"right",type:Expression},{name:"body",type:Statement}];ForStatement.typeName="ForStatement";ForStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ForStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"init",type:Maybe(Union(VariableDeclaration,Expression))},{name:"test",type:Maybe(Expression)},{name:"update",type:Maybe(Expression)},{name:"body",type:Statement}];IfStatement.typeName="IfStatement";IfStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"IfStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"test",type:Expression},{name:"consequent",type:Statement},{name:"alternate",type:Maybe(Statement)}];LabeledStatement.typeName="LabeledStatement";LabeledStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"LabeledStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"label",type:STRING},{name:"body",type:Statement}];ReturnStatement.typeName="ReturnStatement";ReturnStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ReturnStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"expression",type:Maybe(Expression)}];SwitchStatement.typeName="SwitchStatement";SwitchStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"SwitchStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"discriminant",type:Expression},{name:"cases",type:List(SwitchCase)}];SwitchStatementWithDefault.typeName="SwitchStatementWithDefault";SwitchStatementWithDefault.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"SwitchStatementWithDefault"},{name:"loc",type:Maybe(SourceSpan)},{name:"discriminant",type:Expression},{name:"preDefaultCases",type:List(SwitchCase)},{name:"defaultCase",type:SwitchDefault},{name:"postDefaultCases",type:List(SwitchCase)}];ThrowStatement.typeName="ThrowStatement";ThrowStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"ThrowStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"expression",type:Expression}];TryCatchStatement.typeName="TryCatchStatement";TryCatchStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"TryCatchStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"body",type:Block},{name:"catchClause",type:CatchClause}];TryFinallyStatement.typeName="TryFinallyStatement";TryFinallyStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"TryFinallyStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"body",type:Block},{name:"catchClause",type:Maybe(CatchClause)},{name:"finalizer",type:Block}];VariableDeclarationStatement.typeName="VariableDeclarationStatement";VariableDeclarationStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"VariableDeclarationStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"declaration",type:VariableDeclaration}];WhileStatement.typeName="WhileStatement";WhileStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"WhileStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"test",type:Expression},{name:"body",type:Statement}];WithStatement.typeName="WithStatement";WithStatement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"WithStatement"},{name:"loc",type:Maybe(SourceSpan)},{name:"object",type:Expression},{name:"body",type:Statement}];Block.typeName="Block";Block.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Block"},{name:"loc",type:Maybe(SourceSpan)},{name:"statements",type:List(Statement)}];CatchClause.typeName="CatchClause";CatchClause.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"CatchClause"},{name:"loc",type:Maybe(SourceSpan)},{name:"binding",type:Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression)},{name:"body",type:Block}];Directive.typeName="Directive";Directive.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Directive"},{name:"loc",type:Maybe(SourceSpan)},{name:"rawValue",type:STRING}];FormalParameters.typeName="FormalParameters";FormalParameters.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"FormalParameters"},{name:"loc",type:Maybe(SourceSpan)},{name:"items",type:List(Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression,BindingWithDefault))},{name:"rest",type:Maybe(BindingIdentifier)}];FunctionBody.typeName="FunctionBody";FunctionBody.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"FunctionBody"},{name:"loc",type:Maybe(SourceSpan)},{name:"directives",type:List(Directive)},{name:"statements",type:List(Statement)}];FunctionDeclaration.typeName="FunctionDeclaration";FunctionDeclaration.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"FunctionDeclaration"},{name:"loc",type:Maybe(SourceSpan)},{name:"isGenerator",type:BOOLEAN},{name:"name",type:BindingIdentifier},{name:"params",type:FormalParameters},{name:"body",type:FunctionBody}];Script.typeName="Script";Script.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Script"},{name:"loc",type:Maybe(SourceSpan)},{name:"directives",type:List(Directive)},{name:"statements",type:List(Statement)}];SpreadElement.typeName="SpreadElement";SpreadElement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"SpreadElement"},{name:"loc",type:Maybe(SourceSpan)},{name:"expression",type:Expression}];Super.typeName="Super";Super.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"Super"},{name:"loc",type:Maybe(SourceSpan)}];SwitchCase.typeName="SwitchCase";SwitchCase.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"SwitchCase"},{name:"loc",type:Maybe(SourceSpan)},{name:"test",type:Expression},{name:"consequent",type:List(Statement)}];SwitchDefault.typeName="SwitchDefault";SwitchDefault.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"SwitchDefault"},{name:"loc",type:Maybe(SourceSpan)},{name:"consequent",type:List(Statement)}];TemplateElement.typeName="TemplateElement";TemplateElement.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"TemplateElement"},{name:"loc",type:Maybe(SourceSpan)},{name:"rawValue",type:STRING}];VariableDeclaration.typeName="VariableDeclaration";VariableDeclaration.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"VariableDeclaration"},{name:"loc",type:Maybe(SourceSpan)},{name:"kind",type:VariableDeclarationKind},{name:"declarators",type:List(VariableDeclarator)}];VariableDeclarator.typeName="VariableDeclarator";VariableDeclarator.fields=[{name:"type",type:Const(TYPE_INDICATOR),value:"VariableDeclarator"},{name:"loc",type:Maybe(SourceSpan)},{name:"binding",type:Union(ObjectBinding,ArrayBinding,BindingIdentifier,MemberExpression)},{name:"init",type:Maybe(Expression)}];return SPEC}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _sweetSpec=__webpack_require__(2);var S=_interopRequireWildcard(_sweetSpec);var _ramda=__webpack_require__(0);var _immutable=__webpack_require__(1);var _terms=__webpack_require__(14);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}const notEmptyStatement=(0,_ramda.complement)(_terms.isEmptyStatement);exports.default=class extends S.default.CloneReducer{constructor(phase){super();this.phase=phase}reduceModule(t,s){return new S.Module({directives:s.directives.filter(d=>!d.startsWith("lang")).map(d=>({type:"Directive",rawValue:d})).toArray(),items:s.items.toArray().filter(notEmptyStatement)})}reduceIdentifierExpression(t,s){return new S.IdentifierExpression({name:s.name.resolve(this.phase)})}reduceStaticPropertyName(t,s){return new S.StaticPropertyName({value:s.value.val().toString()})}reduceBindingIdentifier(t,s){return new S.BindingIdentifier({name:s.name.resolve(this.phase)})}reduceStaticMemberExpression(t,s){return new S.StaticMemberExpression({object:s.object,property:s.property.val()})}reduceFunctionBody(t,s){return new S.FunctionBody({directives:s.directives.toArray(),statements:s.statements.toArray().filter(notEmptyStatement)})}reduceVariableDeclarationStatement(t,s){if(t.declaration.kind==="syntax"||t.declaration.kind==="syntaxrec"||t.declaration.kind==="operator"){return new S.EmptyStatement}return new S.VariableDeclarationStatement({declaration:s.declaration})}reduceVariableDeclaration(t,s){return new S.VariableDeclaration({kind:s.kind,declarators:s.declarators.toArray()})}reduceCallExpression(t,s){return new S.CallExpression({callee:s.callee,arguments:s.arguments.toArray()})}reduceArrayExpression(t,s){return new S.ArrayExpression({elements:s.elements.toArray()})}reduceImportNamespace(t,s){if(s.forSyntax){return new S.EmptyStatement}return t}reduceImport(t,s){if(s.forSyntax){return new S.EmptyStatement}return new S.Import({forSyntax:false,defaultBinding:s.defaultBinding,moduleSpecifier:s.moduleSpecifier.val(),namedImports:s.namedImports.toArray()})}reduceBlock(t,s){return new S.Block({statements:s.statements.toArray().filter(notEmptyStatement)})}reduceExportSpecifier(t,s){return new S.ExportSpecifier({name:s.name!=null?s.name.resolve(0):null,exportedName:s.exportedName.val()})}reduceExportFrom(t,s){return new S.ExportFrom({moduleSpecifier:s.moduleSpecifier!=null?s.moduleSpecifier.val():null,namedExports:s.namedExports.toArray()})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _immutable=__webpack_require__(1);var _terms=__webpack_require__(14);var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var _scope=__webpack_require__(12);var _compiler=__webpack_require__(36);var _compiler2=_interopRequireDefault(_compiler);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);var _enforester=__webpack_require__(23);var _templateProcessor=__webpack_require__(37);var _astDispatcher=__webpack_require__(25);var _astDispatcher2=_interopRequireDefault(_astDispatcher);var _scopeReducer=__webpack_require__(10);var _scopeReducer2=_interopRequireDefault(_scopeReducer);var _symbol=__webpack_require__(13);var _transforms=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}class TermExpander extends _astDispatcher2.default{constructor(context){super("expand",true);this.context=context}expand(term){return this.dispatch(term)}expandRawSyntax(term){return term}expandRawDelimiter(term){return term}expandTemplateExpression(term){return new T.TemplateExpression({tag:term.tag==null?null:this.expand(term.tag),elements:term.elements.toArray()})}expandBreakStatement(term){return new T.BreakStatement({label:term.label?term.label.val():null})}expandDoWhileStatement(term){return new T.DoWhileStatement({body:this.expand(term.body),test:this.expand(term.test)})}expandWithStatement(term){return new T.WithStatement({body:this.expand(term.body),object:this.expand(term.object)})}expandDebuggerStatement(term){return term}expandContinueStatement(term){return new T.ContinueStatement({label:term.label?term.label.val():null})}expandSwitchStatementWithDefault(term){return new T.SwitchStatementWithDefault({discriminant:this.expand(term.discriminant),preDefaultCases:term.preDefaultCases.map(c=>this.expand(c)).toArray(),defaultCase:this.expand(term.defaultCase),postDefaultCases:term.postDefaultCases.map(c=>this.expand(c)).toArray()})}expandComputedMemberExpression(term){return new T.ComputedMemberExpression({object:this.expand(term.object),expression:this.expand(term.expression)})}expandSwitchStatement(term){return new T.SwitchStatement({discriminant:this.expand(term.discriminant),cases:term.cases.map(c=>this.expand(c)).toArray()})}expandFormalParameters(term){let rest=term.rest==null?null:this.expand(term.rest);return new T.FormalParameters({items:term.items.map(i=>this.expand(i)),rest:rest})}expandArrowExpressionE(term){return this.doFunctionExpansion(term,"ArrowExpression")}expandArrowExpression(term){return this.doFunctionExpansion(term,"ArrowExpression")}expandSwitchDefault(term){return new T.SwitchDefault({consequent:term.consequent.map(c=>this.expand(c)).toArray()})}expandSwitchCase(term){return new T.SwitchCase({test:this.expand(term.test),consequent:term.consequent.map(c=>this.expand(c)).toArray()})}expandForInStatement(term){return new T.ForInStatement({left:this.expand(term.left),right:this.expand(term.right),body:this.expand(term.body)})}expandTryCatchStatement(term){return new T.TryCatchStatement({body:this.expand(term.body),catchClause:this.expand(term.catchClause)})}expandTryFinallyStatement(term){let catchClause=term.catchClause==null?null:this.expand(term.catchClause);return new T.TryFinallyStatement({body:this.expand(term.body),catchClause:catchClause,finalizer:this.expand(term.finalizer)})}expandCatchClause(term){return new T.CatchClause({binding:this.expand(term.binding),body:this.expand(term.body)})}expandThrowStatement(term){return new T.ThrowStatement({expression:this.expand(term.expression)})}expandForOfStatement(term){return new T.ForOfStatement({left:this.expand(term.left),right:this.expand(term.right),body:this.expand(term.body)})}expandBindingIdentifier(term){return term}expandBindingPropertyIdentifier(term){return term}expandBindingPropertyProperty(term){return new T.BindingPropertyProperty({name:this.expand(term.name),binding:this.expand(term.binding)})}expandComputedPropertyName(term){return new T.ComputedPropertyName({expression:this.expand(term.expression)})}expandObjectBinding(term){return new T.ObjectBinding({properties:term.properties.map(t=>this.expand(t)).toArray()})}expandArrayBinding(term){let restElement=term.restElement==null?null:this.expand(term.restElement);return new T.ArrayBinding({elements:term.elements.map(t=>t==null?null:this.expand(t)).toArray(),restElement:restElement})}expandBindingWithDefault(term){return new T.BindingWithDefault({binding:this.expand(term.binding),init:this.expand(term.init)})}expandShorthandProperty(term){return new T.DataProperty({name:new T.StaticPropertyName({value:term.name}),expression:new T.IdentifierExpression({name:term.name})})}expandForStatement(term){let init=term.init==null?null:this.expand(term.init);let test=term.test==null?null:this.expand(term.test);let update=term.update==null?null:this.expand(term.update);let body=this.expand(term.body);return new T.ForStatement({init:init,test:test,update:update,body:body})}expandYieldExpression(term){let expr=term.expression==null?null:this.expand(term.expression);return new T.YieldExpression({expression:expr})}expandYieldGeneratorExpression(term){let expr=term.expression==null?null:this.expand(term.expression);return new T.YieldGeneratorExpression({expression:expr})}expandWhileStatement(term){return new T.WhileStatement({test:this.expand(term.test),body:this.expand(term.body)})}expandIfStatement(term){let consequent=term.consequent==null?null:this.expand(term.consequent);let alternate=term.alternate==null?null:this.expand(term.alternate);return new T.IfStatement({test:this.expand(term.test),consequent:consequent,alternate:alternate})}expandBlockStatement(term){return new T.BlockStatement({block:this.expand(term.block)})}expandBlock(term){let scope=(0,_scope.freshScope)("block");this.context.currentScope.push(scope);let compiler=new _compiler2.default(this.context.phase,this.context.env,this.context.store,this.context);let markedBody,bodyTerm;markedBody=term.statements.map(b=>b.reduce(new _scopeReducer2.default([{scope:scope,phase:_syntax.ALL_PHASES,flip:false}],this.context.bindings)));bodyTerm=new T.Block({statements:compiler.compile(markedBody)});this.context.currentScope.pop();return bodyTerm}expandVariableDeclarationStatement(term){return new T.VariableDeclarationStatement({declaration:this.expand(term.declaration)})}expandReturnStatement(term){if(term.expression==null){return term}return new T.ReturnStatement({expression:this.expand(term.expression)})}expandClassDeclaration(term){return new T.ClassDeclaration({name:term.name==null?null:this.expand(term.name),super:term.super==null?null:this.expand(term.super),elements:term.elements.map(el=>this.expand(el)).toArray()})}expandClassExpression(term){return new T.ClassExpression({name:term.name==null?null:this.expand(term.name),super:term.super==null?null:this.expand(term.super),elements:term.elements.map(el=>this.expand(el)).toArray()})}expandClassElement(term){return new T.ClassElement({isStatic:term.isStatic,method:this.expand(term.method)})}expandThisExpression(term){return term}expandSyntaxTemplate(term){let r=(0,_templateProcessor.processTemplate)(term.template.slice(1,term.template.size-1));let ident=this.context.getTemplateIdentifier();this.context.templateMap.set(ident,r.template);let name=_syntax2.default.fromIdentifier("syntaxTemplate",term.template.first().value);let callee=new T.IdentifierExpression({name:name});let expandedInterps=r.interp.map(i=>{let enf=new _enforester.Enforester(i,(0,_immutable.List)(),this.context);return this.expand(enf.enforest("expression"))});let args=_immutable.List.of(new T.LiteralNumericExpression({value:ident})).concat(expandedInterps);return new T.CallExpression({callee:callee,arguments:args})}expandStaticMemberExpression(term){return new T.StaticMemberExpression({object:this.expand(term.object),property:term.property})}expandArrayExpression(term){return new T.ArrayExpression({elements:term.elements.map(t=>t==null?t:this.expand(t))})}expandImport(term){return term}expandImportNamespace(term){return term}expandExport(term){return new T.Export({declaration:this.expand(term.declaration)})}expandExportDefault(term){return new T.ExportDefault({body:this.expand(term.body)})}expandExportFrom(term){return term}expandExportAllFrom(term){return term}expandExportSpecifier(term){return term}expandStaticPropertyName(term){return term}expandDataProperty(term){return new T.DataProperty({name:this.expand(term.name),expression:this.expand(term.expression)})}expandObjectExpression(term){return new T.ObjectExpression({properties:term.properties.map(t=>this.expand(t))})}expandVariableDeclarator(term){let init=term.init==null?null:this.expand(term.init);return new T.VariableDeclarator({binding:this.expand(term.binding),init:init})}expandVariableDeclaration(term){if(term.kind==="syntax"||term.kind==="syntaxrec"||term.kind==="operator"){return term}return new T.VariableDeclaration({kind:term.kind,declarators:term.declarators.map(d=>this.expand(d))})}expandParenthesizedExpression(term){if(term.inner.size===0){throw new Error("unexpected end of input")}let enf=new _enforester.Enforester(term.inner,(0,_immutable.List)(),this.context);let lookahead=enf.peek();let t=enf.enforestExpression();if(t==null||enf.rest.size>0){if(enf.rest.size===0){throw enf.createError(")","unexpected token")}throw enf.createError(lookahead,"unexpected syntax")}return this.expand(t)}expandUnaryExpression(term){return new T.UnaryExpression({operator:term.operator,operand:this.expand(term.operand)})}expandUpdateExpression(term){return new T.UpdateExpression({isPrefix:term.isPrefix,operator:term.operator,operand:this.expand(term.operand)})}expandBinaryExpression(term){let left=this.expand(term.left);let right=this.expand(term.right);return new T.BinaryExpression({left:left,operator:term.operator,right:right})}expandConditionalExpression(term){return new T.ConditionalExpression({test:this.expand(term.test),consequent:this.expand(term.consequent),alternate:this.expand(term.alternate)})}expandNewTargetExpression(term){return term}expandNewExpression(term){let callee=this.expand(term.callee);let enf=new _enforester.Enforester(term.arguments,(0,_immutable.List)(),this.context);let args=enf.enforestArgumentList().map(arg=>this.expand(arg));return new T.NewExpression({callee:callee,arguments:args.toArray()})}expandSuper(term){return term}expandCallExpressionE(term){let callee=this.expand(term.callee);let enf=new _enforester.Enforester(term.arguments,(0,_immutable.List)(),this.context);let args=enf.enforestArgumentList().map(arg=>this.expand(arg));return new T.CallExpression({callee:callee,arguments:args})}expandSpreadElement(term){return new T.SpreadElement({expression:this.expand(term.expression)})}expandExpressionStatement(term){let child=this.expand(term.expression);return new T.ExpressionStatement({expression:child})}expandLabeledStatement(term){return new T.LabeledStatement({label:term.label.val(),body:this.expand(term.body)})}doFunctionExpansion(term,type){let scope=(0,_scope.freshScope)("fun");let params;let self=this;if(type!=="Getter"&&type!=="Setter"){params=term.params.reduce(new class extends T.default.CloneReducer{reduceBindingIdentifier(term){let name=term.name.addScope(scope,self.context.bindings,_syntax.ALL_PHASES);let newBinding=(0,_symbol.gensym)(name.val());self.context.env.set(newBinding.toString(),new _transforms.VarBindingTransform(name));self.context.bindings.add(name,{binding:newBinding,phase:self.context.phase,skipDup:true});return new T.BindingIdentifier({name:name})}});params=this.expand(params)}this.context.currentScope.push(scope);let compiler=new _compiler2.default(this.context.phase,this.context.env,this.context.store,this.context);let bodyTerm;let scopeReducer=new _scopeReducer2.default([{scope:scope,phase:_syntax.ALL_PHASES,flip:false}],this.context.bindings);if(term.body instanceof T.default){bodyTerm=this.expand(term.body.reduce(scopeReducer))}else{let compiledBody=compiler.compile(term.body.map(b=>b.reduce(scopeReducer)));const directives=compiledBody.takeWhile(s=>(0,_terms.isExpressionStatement)(s)&&(0,_terms.isLiteralStringExpression)(s.expression)).map(s=>new T.Directive({rawValue:s.expression.value}));bodyTerm=new T.FunctionBody({directives:directives,statements:compiledBody.slice(directives.size)})}this.context.currentScope.pop();switch(type){case"Getter":return new T.Getter({name:this.expand(term.name),body:bodyTerm});case"Setter":return new T.Setter({name:this.expand(term.name),param:term.param,body:bodyTerm});case"Method":return new T.Method({name:term.name,isGenerator:term.isGenerator,params:params,body:bodyTerm});case"ArrowExpression":return new T.ArrowExpression({params:params,body:bodyTerm});case"FunctionExpression":return new T.FunctionExpression({name:term.name,isGenerator:term.isGenerator,params:params,body:bodyTerm});case"FunctionDeclaration":return new T.FunctionDeclaration({name:term.name,isGenerator:term.isGenerator,params:params,body:bodyTerm});default:throw new Error(`Unknown function type: ${type}`)}}expandMethod(term){return this.doFunctionExpansion(term,"Method")}expandSetter(term){return this.doFunctionExpansion(term,"Setter")}expandGetter(term){return this.doFunctionExpansion(term,"Getter")}expandFunctionDeclarationE(term){return this.doFunctionExpansion(term,"FunctionDeclaration")}expandFunctionExpressionE(term){return this.doFunctionExpansion(term,"FunctionExpression")}expandCompoundAssignmentExpression(term){return new T.CompoundAssignmentExpression({binding:this.expand(term.binding),operator:term.operator,expression:this.expand(term.expression)})}expandAssignmentExpression(term){return new T.AssignmentExpression({binding:this.expand(term.binding),expression:this.expand(term.expression)})}expandEmptyStatement(term){return term}expandLiteralBooleanExpression(term){return term}expandLiteralNumericExpression(term){return term}expandLiteralInfinityExpression(term){return term}expandIdentifierExpression(term){let trans=this.context.env.get(term.name.resolve(this.context.phase));if(trans){return new T.IdentifierExpression({name:trans.id})}return term}expandLiteralNullExpression(term){return term}expandLiteralStringExpression(term){return term}expandLiteralRegExpExpression(term){return term}}exports.default=TermExpander},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Enforester=undefined;var _terms=__webpack_require__(14);var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var _ramdaFantasy=__webpack_require__(11);var _scopeReducer=__webpack_require__(10);var _scopeReducer2=_interopRequireDefault(_scopeReducer);var _transforms=__webpack_require__(8);var _immutable=__webpack_require__(1);var _errors=__webpack_require__(9);var _operators=__webpack_require__(77);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);var _scope=__webpack_require__(12);var _loadSyntax=__webpack_require__(24);var _macroContext=__webpack_require__(38);var _macroContext2=_interopRequireDefault(_macroContext);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}const Just=_ramdaFantasy.Maybe.Just;const Nothing=_ramdaFantasy.Maybe.Nothing;const EXPR_LOOP_OPERATOR={};const EXPR_LOOP_NO_CHANGE={};const EXPR_LOOP_EXPANSION={};function getLineNumber(x){let stx;if(x instanceof _syntax2.default){stx=x}else if(x instanceof T.RawSyntax){stx=x.value}else if(x instanceof T.RawDelimiter){return getLineNumber(x.inner.first())}else{throw new Error(`Not implemented yet ${x}`)}return stx.lineNumber()}class Enforester{constructor(stxl,prev,context){this.done=false;(0,_errors.assert)(_immutable.List.isList(stxl),"expecting a list of terms to enforest");(0,_errors.assert)(_immutable.List.isList(prev),"expecting a list of terms to enforest");(0,_errors.assert)(context,"expecting a context to enforest");this.term=null;this.rest=stxl;this.prev=prev;this.context=context}peek(n=0){return this.rest.get(n)}advance(){let ret=this.rest.first();this.rest=this.rest.rest();return ret}enforest(type="Module"){this.term=null;if(this.rest.size===0){this.done=true;return this.term}let result;if(type==="expression"){result=this.enforestExpressionLoop()}else{result=this.enforestModule()}if(this.rest.size===0){this.done=true}return result}enforestModule(){return this.enforestBody()}enforestBody(){return this.enforestModuleItem()}enforestModuleItem(){let lookahead=this.peek();if(this.isImportTransform(lookahead)){this.advance();return this.enforestImportDeclaration()}else if(this.isExportTransform(lookahead)){this.advance();return this.enforestExportDeclaration()}return this.enforestStatement()}enforestExportDeclaration(){let lookahead=this.peek();if(this.isCompiletimeTransform(lookahead)){this.expandMacro();lookahead=this.peek()}if(this.isPunctuator(lookahead,"*")){this.advance();let moduleSpecifier=this.enforestFromClause();return new T.ExportAllFrom({moduleSpecifier:moduleSpecifier})}else if(this.isBraces(lookahead)){let namedExports=this.enforestExportClause();let moduleSpecifier=null;if(this.isIdentifier(this.peek(),"from")){moduleSpecifier=this.enforestFromClause()}return new T.ExportFrom({namedExports:namedExports,moduleSpecifier:moduleSpecifier})}else if(this.isClassTransform(lookahead)){return new T.Export({declaration:this.enforestClass({isExpr:false})})}else if(this.isFnDeclTransform(lookahead)){return new T.Export({declaration:this.enforestFunction({isExpr:false})})}else if(this.isDefaultTransform(lookahead)){this.advance();if(this.isCompiletimeTransform(lookahead)){this.expandMacro();lookahead=this.peek()}if(this.isFnDeclTransform(this.peek())){return new T.ExportDefault({body:this.enforestFunction({isExpr:false,inDefault:true})})}else if(this.isClassTransform(this.peek())){return new T.ExportDefault({body:this.enforestClass({isExpr:false,inDefault:true})})}else{let body=this.enforestExpressionLoop();this.consumeSemicolon();return new T.ExportDefault({body:body})}}else if(this.isVarDeclTransform(lookahead)||this.isLetDeclTransform(lookahead)||this.isConstDeclTransform(lookahead)||this.isSyntaxrecDeclTransform(lookahead)||this.isSyntaxDeclTransform(lookahead)||this.isOperatorDeclTransform(lookahead)){return new T.Export({declaration:this.enforestVariableDeclaration()})}throw this.createError(lookahead,"unexpected syntax")}enforestExportClause(){let enf=new Enforester(this.matchCurlies(),(0,_immutable.List)(),this.context);let result=[];while(enf.rest.size!==0){result.push(enf.enforestExportSpecifier());enf.consumeComma()}return(0,_immutable.List)(result)}enforestExportSpecifier(){let name=this.enforestIdentifier();if(this.isIdentifier(this.peek(),"as")){this.advance();let exportedName=this.enforestIdentifier();return new T.ExportSpecifier({name:name,exportedName:exportedName})}return new T.ExportSpecifier({name:null,exportedName:name})}enforestImportDeclaration(){let lookahead=this.peek();let defaultBinding=null;let namedImports=(0,_immutable.List)();let forSyntax=false;if(this.isStringLiteral(lookahead)){let moduleSpecifier=this.advance();this.consumeSemicolon();return new T.Import({defaultBinding:defaultBinding,namedImports:namedImports,moduleSpecifier:moduleSpecifier,forSyntax:forSyntax})}if(this.isIdentifier(lookahead)||this.isKeyword(lookahead)){defaultBinding=this.enforestBindingIdentifier();if(!this.isPunctuator(this.peek(),",")){let moduleSpecifier=this.enforestFromClause();if(this.isKeyword(this.peek(),"for")&&this.isIdentifier(this.peek(1),"syntax")){this.advance();this.advance();forSyntax=true}return new T.Import({defaultBinding:defaultBinding,moduleSpecifier:moduleSpecifier,namedImports:(0,_immutable.List)(),forSyntax:forSyntax})}}this.consumeComma();lookahead=this.peek();if(this.isBraces(lookahead)){let imports=this.enforestNamedImports();let fromClause=this.enforestFromClause();if(this.isKeyword(this.peek(),"for")&&this.isIdentifier(this.peek(1),"syntax")){this.advance();this.advance();forSyntax=true}return new T.Import({defaultBinding:defaultBinding,forSyntax:forSyntax,namedImports:imports,moduleSpecifier:fromClause})}else if(this.isPunctuator(lookahead,"*")){let namespaceBinding=this.enforestNamespaceBinding();let moduleSpecifier=this.enforestFromClause();if(this.isKeyword(this.peek(),"for")&&this.isIdentifier(this.peek(1),"syntax")){this.advance();this.advance();forSyntax=true}return new T.ImportNamespace({defaultBinding:defaultBinding,forSyntax:forSyntax,namespaceBinding:namespaceBinding,moduleSpecifier:moduleSpecifier})}throw this.createError(lookahead,"unexpected syntax")}enforestNamespaceBinding(){this.matchPunctuator("*");this.matchIdentifier("as");return this.enforestBindingIdentifier()}enforestNamedImports(){let enf=new Enforester(this.matchCurlies(),(0,_immutable.List)(),this.context);let result=[];while(enf.rest.size!==0){result.push(enf.enforestImportSpecifiers());enf.consumeComma()}return(0,_immutable.List)(result)}enforestImportSpecifiers(){let lookahead=this.peek();let name;if(this.isIdentifier(lookahead)||this.isKeyword(lookahead)||this.isPunctuator(lookahead)){name=this.matchRawSyntax();if(!this.isIdentifier(this.peek(),"as")){return new T.ImportSpecifier({name:null,binding:new T.BindingIdentifier({name:name})})}else{this.matchIdentifier("as")}}else{throw this.createError(lookahead,"unexpected token in import specifier")}return new T.ImportSpecifier({name:name,binding:this.enforestBindingIdentifier()})}enforestFromClause(){this.matchIdentifier("from");let lookahead=this.matchStringLiteral();this.consumeSemicolon();return lookahead}enforestStatementListItem(){let lookahead=this.peek();if(this.isFnDeclTransform(lookahead)){return this.enforestFunction({isExpr:false})}else if(this.isClassTransform(lookahead)){return this.enforestClass({isExpr:false})}else{return this.enforestStatement()}}enforestStatement(){let lookahead=this.peek();if(this.term===null&&this.isCompiletimeTransform(lookahead)){this.expandMacro();lookahead=this.peek()}if(this.term===null&&this.isTerm(lookahead)&&lookahead instanceof T.Statement){return this.advance()}if(this.term===null&&this.isBraces(lookahead)){return this.enforestBlockStatement()}if(this.term===null&&this.isWhileTransform(lookahead)){return this.enforestWhileStatement()}if(this.term===null&&this.isIfTransform(lookahead)){return this.enforestIfStatement()}if(this.term===null&&this.isForTransform(lookahead)){return this.enforestForStatement()}if(this.term===null&&this.isSwitchTransform(lookahead)){return this.enforestSwitchStatement()}if(this.term===null&&this.isBreakTransform(lookahead)){return this.enforestBreakStatement()}if(this.term===null&&this.isContinueTransform(lookahead)){return this.enforestContinueStatement()}if(this.term===null&&this.isDoTransform(lookahead)){return this.enforestDoStatement()}if(this.term===null&&this.isDebuggerTransform(lookahead)){return this.enforestDebuggerStatement()}if(this.term===null&&this.isWithTransform(lookahead)){return this.enforestWithStatement()}if(this.term===null&&this.isTryTransform(lookahead)){return this.enforestTryStatement()}if(this.term===null&&this.isThrowTransform(lookahead)){return this.enforestThrowStatement()}if(this.term===null&&this.isKeyword(lookahead,"class")){return this.enforestClass({isExpr:false})}if(this.term===null&&this.isFnDeclTransform(lookahead)){return this.enforestFunction({isExpr:false})}if(this.term===null&&this.isIdentifier(lookahead)&&this.isPunctuator(this.peek(1),":")){return this.enforestLabeledStatement()}if(this.term===null&&(this.isVarDeclTransform(lookahead)||this.isLetDeclTransform(lookahead)||this.isConstDeclTransform(lookahead)||this.isSyntaxrecDeclTransform(lookahead)||this.isSyntaxDeclTransform(lookahead)||this.isOperatorDeclTransform(lookahead))){let stmt=new T.VariableDeclarationStatement({declaration:this.enforestVariableDeclaration()});this.consumeSemicolon();return stmt}if(this.term===null&&this.isReturnStmtTransform(lookahead)){return this.enforestReturnStatement()}if(this.term===null&&this.isPunctuator(lookahead,";")){this.advance();return new T.EmptyStatement({})}return this.enforestExpressionStatement()}enforestLabeledStatement(){let label=this.matchIdentifier();this.matchPunctuator(":");let stmt=this.enforestStatement();return new T.LabeledStatement({label:label,body:stmt})}enforestBreakStatement(){this.matchKeyword("break");let lookahead=this.peek();let label=null;if(this.rest.size===0||this.isPunctuator(lookahead,";")){this.consumeSemicolon();return new T.BreakStatement({label:label})}if(this.isIdentifier(lookahead)||this.isKeyword(lookahead,"yield")||this.isKeyword(lookahead,"let")){label=this.enforestIdentifier()}this.consumeSemicolon();return new T.BreakStatement({label:label})}enforestTryStatement(){this.matchKeyword("try");let body=this.enforestBlock();if(this.isKeyword(this.peek(),"catch")){let catchClause=this.enforestCatchClause();if(this.isKeyword(this.peek(),"finally")){this.advance();let finalizer=this.enforestBlock();return new T.TryFinallyStatement({body:body,catchClause:catchClause,finalizer:finalizer})}return new T.TryCatchStatement({body:body,catchClause:catchClause})}if(this.isKeyword(this.peek(),"finally")){this.advance();let finalizer=this.enforestBlock();return new T.TryFinallyStatement({body:body,catchClause:null,finalizer:finalizer})}throw this.createError(this.peek(),"try with no catch or finally")}enforestCatchClause(){this.matchKeyword("catch");let bindingParens=this.matchParens();let enf=new Enforester(bindingParens,(0,_immutable.List)(),this.context);let binding=enf.enforestBindingTarget();let body=this.enforestBlock();return new T.CatchClause({binding:binding,body:body})}enforestThrowStatement(){this.matchKeyword("throw");let expression=this.enforestExpression();this.consumeSemicolon();return new T.ThrowStatement({expression:expression})}enforestWithStatement(){this.matchKeyword("with");let objParens=this.matchParens();let enf=new Enforester(objParens,(0,_immutable.List)(),this.context);let object=enf.enforestExpression();let body=this.enforestStatement();return new T.WithStatement({object:object,body:body})}enforestDebuggerStatement(){this.matchKeyword("debugger");return new T.DebuggerStatement({})}enforestDoStatement(){this.matchKeyword("do");let body=this.enforestStatement();this.matchKeyword("while");let testBody=this.matchParens();let enf=new Enforester(testBody,(0,_immutable.List)(),this.context);let test=enf.enforestExpression();this.consumeSemicolon();return new T.DoWhileStatement({body:body,test:test})}enforestContinueStatement(){let kwd=this.matchKeyword("continue");let lookahead=this.peek();let label=null;if(this.rest.size===0||this.isPunctuator(lookahead,";")){this.consumeSemicolon();return new T.ContinueStatement({label:label})}if(lookahead instanceof T.RawSyntax&&this.lineNumberEq(kwd,lookahead)&&(this.isIdentifier(lookahead)||this.isKeyword(lookahead,"yield")||this.isKeyword(lookahead,"let"))){label=this.enforestIdentifier()}this.consumeSemicolon();return new T.ContinueStatement({label:label})}enforestSwitchStatement(){this.matchKeyword("switch");let cond=this.matchParens();let enf=new Enforester(cond,(0,_immutable.List)(),this.context);let discriminant=enf.enforestExpression();let body=this.matchCurlies();if(body.size===0){return new T.SwitchStatement({discriminant:discriminant,cases:(0,_immutable.List)()})}enf=new Enforester(body,(0,_immutable.List)(),this.context);let cases=enf.enforestSwitchCases();let lookahead=enf.peek();if(enf.isKeyword(lookahead,"default")){let defaultCase=enf.enforestSwitchDefault();let postDefaultCases=enf.enforestSwitchCases();return new T.SwitchStatementWithDefault({discriminant:discriminant,preDefaultCases:cases,defaultCase:defaultCase,postDefaultCases:postDefaultCases})}return new T.SwitchStatement({discriminant:discriminant,cases:cases})}enforestSwitchCases(){let cases=[];while(!(this.rest.size===0||this.isKeyword(this.peek(),"default"))){cases.push(this.enforestSwitchCase())}return(0,_immutable.List)(cases)}enforestSwitchCase(){this.matchKeyword("case");return new T.SwitchCase({test:this.enforestExpression(),consequent:this.enforestSwitchCaseBody()})}enforestSwitchCaseBody(){this.matchPunctuator(":");return this.enforestStatementListInSwitchCaseBody()}enforestStatementListInSwitchCaseBody(){let result=[];while(!(this.rest.size===0||this.isKeyword(this.peek(),"default")||this.isKeyword(this.peek(),"case"))){result.push(this.enforestStatementListItem())}return(0,_immutable.List)(result)}enforestSwitchDefault(){this.matchKeyword("default");return new T.SwitchDefault({consequent:this.enforestSwitchCaseBody()})}enforestForStatement(){this.matchKeyword("for");let cond=this.matchParens();let enf=new Enforester(cond,(0,_immutable.List)(),this.context);let lookahead,test,init,right,left,update,cnst;if(enf.isPunctuator(enf.peek(),";")){enf.advance();if(!enf.isPunctuator(enf.peek(),";")){test=enf.enforestExpression()}enf.matchPunctuator(";");if(enf.rest.size!==0){right=enf.enforestExpression()}return new T.ForStatement({init:null,test:test,update:right,body:this.enforestStatement()})}else{lookahead=enf.peek();if(enf.isVarDeclTransform(lookahead)||enf.isLetDeclTransform(lookahead)||enf.isConstDeclTransform(lookahead)){init=enf.enforestVariableDeclaration();lookahead=enf.peek();if(this.isKeyword(lookahead,"in")||this.isIdentifier(lookahead,"of")){if(this.isKeyword(lookahead,"in")){enf.advance();right=enf.enforestExpression();cnst=T.ForInStatement}else{(0,_errors.assert)(this.isIdentifier(lookahead,"of"),"expecting `of` keyword");enf.advance();right=enf.enforestExpression();cnst=T.ForOfStatement}return new cnst({left:init,right:right,body:this.enforestStatement()})}enf.matchPunctuator(";");if(enf.isPunctuator(enf.peek(),";")){enf.advance();test=null}else{test=enf.enforestExpression();enf.matchPunctuator(";")}update=enf.enforestExpression()}else{if(this.isKeyword(enf.peek(1),"in")||this.isIdentifier(enf.peek(1),"of")){left=enf.enforestBindingIdentifier();let kind=enf.advance();if(this.isKeyword(kind,"in")){cnst=T.ForInStatement}else{cnst=T.ForOfStatement}right=enf.enforestExpression();return new cnst({left:left,right:right,body:this.enforestStatement()})}init=enf.enforestExpression();enf.matchPunctuator(";");if(enf.isPunctuator(enf.peek(),";")){enf.advance();test=null}else{test=enf.enforestExpression();enf.matchPunctuator(";")}update=enf.enforestExpression()}return new T.ForStatement({init:init,test:test,update:update,body:this.enforestStatement()})}}enforestIfStatement(){this.matchKeyword("if");let cond=this.matchParens();let enf=new Enforester(cond,(0,_immutable.List)(),this.context);let lookahead=enf.peek();let test=enf.enforestExpression();if(test===null){throw enf.createError(lookahead,"expecting an expression")}let consequent=this.enforestStatement();let alternate=null;if(this.isKeyword(this.peek(),"else")){this.advance();alternate=this.enforestStatement()}return new T.IfStatement({test:test,consequent:consequent,alternate:alternate})}enforestWhileStatement(){this.matchKeyword("while");let cond=this.matchParens();let enf=new Enforester(cond,(0,_immutable.List)(),this.context);let lookahead=enf.peek();let test=enf.enforestExpression();if(test===null){throw enf.createError(lookahead,"expecting an expression")}let body=this.enforestStatement();return new T.WhileStatement({test:test,body:body})}enforestBlockStatement(){return new T.BlockStatement({block:this.enforestBlock()})}enforestBlock(){return new T.Block({statements:this.matchCurlies()})}enforestClass({isExpr:isExpr=false,inDefault:inDefault=false}){let kw=this.matchRawSyntax();let name=null,supr=null;if(this.isIdentifier(this.peek())){name=this.enforestBindingIdentifier()}else if(!isExpr){if(inDefault){name=new T.BindingIdentifier({name:_syntax2.default.fromIdentifier("_default",kw)})}else{throw this.createError(this.peek(),"unexpected syntax")}}if(this.isKeyword(this.peek(),"extends")){this.advance();supr=this.enforestExpressionLoop()}let elements=[];let enf=new Enforester(this.matchCurlies(),(0,_immutable.List)(),this.context);while(enf.rest.size!==0){if(enf.isPunctuator(enf.peek(),";")){enf.advance();continue}let isStatic=false;let{methodOrKey:methodOrKey,kind:kind}=enf.enforestMethodDefinition();if(kind==="identifier"&&methodOrKey instanceof T.StaticPropertyName&&methodOrKey.value.val()==="static"){isStatic=true;({methodOrKey:methodOrKey,kind:kind}=enf.enforestMethodDefinition())}if(kind==="method"){elements.push(new T.ClassElement({isStatic:isStatic,method:methodOrKey}))}else{throw this.createError(enf.peek(),"Only methods are allowed in classes")}}return new(isExpr?T.ClassExpression:T.ClassDeclaration)({name:name,super:supr,elements:(0,_immutable.List)(elements)})}enforestBindingTarget({allowPunctuator:allowPunctuator=false}={}){let lookahead=this.peek();if(this.isIdentifier(lookahead)||this.isKeyword(lookahead)||allowPunctuator&&this.isPunctuator(lookahead)){return this.enforestBindingIdentifier({allowPunctuator:allowPunctuator})}else if(this.isBrackets(lookahead)){return this.enforestArrayBinding()}else if(this.isBraces(lookahead)){return this.enforestObjectBinding()}(0,_errors.assert)(false,"not implemented yet")}enforestObjectBinding(){let enf=new Enforester(this.matchCurlies(),(0,_immutable.List)(),this.context);let properties=[];while(enf.rest.size!==0){properties.push(enf.enforestBindingProperty());if(enf.rest.size>0&&!enf.isPunctuator(enf.peek(),",")){throw enf.createError(enf.peek(),"unexpected token")}enf.consumeComma()}return new T.ObjectBinding({properties:(0,_immutable.List)(properties)})}enforestBindingProperty(){let lookahead=this.peek();let{name:name,binding:binding}=this.enforestPropertyName();if(this.isIdentifier(lookahead)||this.isKeyword(lookahead,"let")||this.isKeyword(lookahead,"yield")){if(!this.isPunctuator(this.peek(),":")){if(this.isAssign(this.peek())){this.advance();let expr=this.enforestExpressionLoop();return new T.BindingPropertyProperty({name:name,binding:new T.BindingWithDefault({binding:binding,init:expr})})}return new T.BindingPropertyProperty({name:name,binding:binding})}}this.matchPunctuator(":");binding=this.enforestBindingElement();return new T.BindingPropertyProperty({name:name,binding:binding})}enforestArrayBinding(){let bracket=this.matchSquares();let enf=new Enforester(bracket,(0,_immutable.List)(),this.context);let elements=[],restElement=null;while(enf.rest.size!==0){let el=null;if(!enf.isPunctuator(enf.peek(),",")){if(enf.isPunctuator(enf.peek(),"...")){enf.advance();restElement=enf.enforestBindingTarget();if(enf.rest.size>0){throw enf.createError(enf.rest.first(),"Rest element must be last element in array")}}else{el=enf.enforestBindingElement();if(el==null){throw enf.createError(enf.peek(),"expected expression")}if(enf.rest.size>0&&!enf.isPunctuator(enf.peek(),",")){throw enf.createError(enf.peek(),"unexpected token")}}}if(restElement==null){elements.push(el);enf.consumeComma()}}return new T.ArrayBinding({elements:(0,_immutable.List)(elements),restElement:restElement})}enforestBindingElement(){let binding=this.enforestBindingTarget();if(this.isAssign(this.peek())){this.advance();let init=this.enforestExpressionLoop();binding=new T.BindingWithDefault({binding:binding,init:init})}return binding}enforestBindingIdentifier({allowPunctuator:allowPunctuator}={}){let name;if(allowPunctuator&&this.isPunctuator(this.peek())){name=this.enforestPunctuator()}else{name=this.enforestIdentifier()}return new T.BindingIdentifier({name:name})}enforestPunctuator(){let lookahead=this.peek();if(this.isPunctuator(lookahead)){return this.matchRawSyntax()}throw this.createError(lookahead,"expecting a punctuator")}enforestIdentifier(){let lookahead=this.peek();if(this.isIdentifier(lookahead)||this.isKeyword(lookahead)){return this.matchRawSyntax()}throw this.createError(lookahead,"expecting an identifier")}enforestReturnStatement(){let kw=this.matchRawSyntax();let lookahead=this.peek();if(this.rest.size===0||lookahead&&!this.lineNumberEq(kw,lookahead)){return new T.ReturnStatement({expression:null})}let term=null;if(!this.isPunctuator(lookahead,";")){term=this.enforestExpression();(0,_errors.expect)(term!=null,"Expecting an expression to follow return keyword",lookahead,this.rest)}this.consumeSemicolon();return new T.ReturnStatement({expression:term})}enforestVariableDeclaration(){let kind;let lookahead=this.advance();if(this.isVarDeclTransform(lookahead)){kind="var"}else if(this.isLetDeclTransform(lookahead)){kind="let"}else if(this.isConstDeclTransform(lookahead)){kind="const"}else if(this.isSyntaxDeclTransform(lookahead)){kind="syntax"}else if(this.isSyntaxrecDeclTransform(lookahead)){kind="syntaxrec"}else if(this.isOperatorDeclTransform(lookahead)){kind="operator"}let decls=(0,_immutable.List)();while(true){let term=this.enforestVariableDeclarator({isSyntax:kind==="syntax"||kind==="syntaxrec"||kind==="operator",isOperator:kind==="operator"});let lookahead=this.peek();decls=decls.concat(term);if(this.isPunctuator(lookahead,",")){this.advance()}else{break}}return new T.VariableDeclaration({kind:kind,declarators:decls})}enforestVariableDeclarator({isSyntax:isSyntax,isOperator:isOperator}){let id=this.enforestBindingTarget({allowPunctuator:isSyntax});const AssocValues=["left","right","prefix","postfix"];let assoc,prec;if(isOperator){assoc=this.matchIdentifier();if(AssocValues.indexOf(assoc.val())===-1){throw this.createError(this.peek(),`Associativity must be one of ${AssocValues.join(",")}`)}prec=this.matchLiteral()}let init;if(this.isPunctuator(this.peek(),"=")){this.advance();let enf=new Enforester(this.rest,(0,_immutable.List)(),this.context);init=enf.enforest("expression");this.rest=enf.rest}else{init=null}if(isOperator){return new T.OperatorDeclarator({binding:id,init:init,prec:prec,assoc:assoc})}return new T.VariableDeclarator({binding:id,init:init})}enforestExpressionStatement(){let start=this.rest.get(0);let expr=this.enforestExpression();if(expr===null){throw this.createError(start,"not a valid expression")}this.consumeSemicolon();return new T.ExpressionStatement({expression:expr})}enforestExpression(){let left=this.enforestExpressionLoop();let lookahead=this.peek();if(this.isPunctuator(lookahead,",")){while(this.rest.size!==0){if(!this.isPunctuator(this.peek(),",")){break}let operator=this.matchRawSyntax();let right=this.enforestExpressionLoop();left=new T.BinaryExpression({left:left,operator:operator.val(),right:right})}}this.term=null;return left}enforestExpressionLoop(){this.term=null;this.opCtx={prec:0,combine:x=>x,stack:(0,_immutable.List)()};do{let term=this.enforestAssignmentExpression();if(term===EXPR_LOOP_NO_CHANGE&&this.opCtx.stack.size>0){this.term=this.opCtx.combine(this.term);let{prec:prec,combine:combine}=this.opCtx.stack.last();this.opCtx.prec=prec;this.opCtx.combine=combine;this.opCtx.stack=this.opCtx.stack.pop()}else if(term===EXPR_LOOP_NO_CHANGE){break}else if(term===EXPR_LOOP_OPERATOR||term===EXPR_LOOP_EXPANSION){this.term=null}else{this.term=term}}while(true);return this.term}enforestAssignmentExpression(){let lookahead=this.peek();if(this.term===null&&this.isModuleNamespaceTransform(lookahead)){let namespace=this.getFromCompiletimeEnvironment(this.advance().value);this.matchPunctuator(".");let name=this.matchIdentifier();let exportedName=namespace.mod.exportedNames.find(exName=>exName.exportedName.val()===name.val());this.rest=this.rest.unshift(new T.RawSyntax({value:_syntax2.default.fromIdentifier(name.val(),exportedName.exportedName)}));lookahead=this.peek()}if(this.term===null&&this.isCompiletimeTransform(lookahead)){this.expandMacro();lookahead=this.peek()}if(this.term===null&&this.isTerm(lookahead)&&lookahead instanceof T.Expression){return this.advance()}if(this.term===null&&this.isYieldTransform(lookahead)){return this.enforestYieldExpression()}if(this.term===null&&this.isClassTransform(lookahead)){return this.enforestClass({isExpr:true})}if(this.term===null&&lookahead&&(this.isIdentifier(lookahead)||this.isParens(lookahead))&&this.isPunctuator(this.peek(1),"=>")&&this.lineNumberEq(lookahead,this.peek(1))){return this.enforestArrowExpression()}if(this.term===null&&this.isSyntaxTemplate(lookahead)){return this.enforestSyntaxTemplate()}if(this.term===null&&this.isParens(lookahead)){return new T.ParenthesizedExpression({inner:this.matchParens()})}if(this.term===null&&(this.isKeyword(lookahead,"this")||this.isIdentifier(lookahead)||this.isKeyword(lookahead,"let")||this.isKeyword(lookahead,"yield")||this.isNumericLiteral(lookahead)||this.isStringLiteral(lookahead)||this.isTemplate(lookahead)||this.isBooleanLiteral(lookahead)||this.isNullLiteral(lookahead)||this.isRegularExpression(lookahead)||this.isFnDeclTransform(lookahead)||this.isBraces(lookahead)||this.isBrackets(lookahead))){return this.enforestPrimaryExpression()}if(this.term===null&&(this.isOperator(lookahead)||this.isCustomPrefixOperator(lookahead))){return this.enforestUnaryExpression()}if(this.term===null&&this.isVarBindingTransform(lookahead)&&lookahead instanceof T.RawSyntax){let lookstx=lookahead.value;let id=this.getFromCompiletimeEnvironment(lookstx).id;if(id!==lookstx){this.advance();this.rest=_immutable.List.of(id).concat(this.rest);return EXPR_LOOP_EXPANSION}}if(this.term===null&&(this.isNewTransform(lookahead)||this.isSuperTransform(lookahead))||this.term&&(this.isPunctuator(lookahead,".")&&(this.isIdentifier(this.peek(1))||this.isKeyword(this.peek(1)))||this.isBrackets(lookahead)||this.isParens(lookahead))){return this.enforestLeftHandSideExpression({allowCall:true})}if(this.term&&this.isCustomBinaryOperator(lookahead)){return this.enforestBinaryExpression()}if(this.term&&(this.isUpdateOperator(lookahead)||this.isCustomPostfixOperator(lookahead))){return this.enforestUpdateExpression()}if(this.term&&(this.isOperator(lookahead)||this.isCustomBinaryOperator(lookahead))){return this.enforestBinaryExpression()}if(this.term&&this.isTemplate(lookahead)){return this.enforestTemplateLiteral()}if(this.term&&this.isAssign(lookahead)){let binding=this.transformDestructuring(this.term);let op=this.matchRawSyntax();let enf=new Enforester(this.rest,(0,_immutable.List)(),this.context);let init=enf.enforest("expression");this.rest=enf.rest;if(op.val()==="="){return new T.AssignmentExpression({binding:binding,expression:init})}else{return new T.CompoundAssignmentExpression({binding:binding,operator:op.val(),expression:init})}}if(this.term&&this.isPunctuator(lookahead,"?")){return this.enforestConditionalExpression()}return EXPR_LOOP_NO_CHANGE}enforestPrimaryExpression(){let lookahead=this.peek();if(this.term===null&&this.isKeyword(lookahead,"this")){return this.enforestThisExpression()}if(this.term===null&&(this.isIdentifier(lookahead)||this.isKeyword(lookahead,"let")||this.isKeyword(lookahead,"yield"))){return this.enforestIdentifierExpression()}if(this.term===null&&this.isNumericLiteral(lookahead)){return this.enforestNumericLiteral()}if(this.term===null&&this.isStringLiteral(lookahead)){return this.enforestStringLiteral()}if(this.term===null&&this.isTemplate(lookahead)){return this.enforestTemplateLiteral()}if(this.term===null&&this.isBooleanLiteral(lookahead)){return this.enforestBooleanLiteral()}if(this.term===null&&this.isNullLiteral(lookahead)){return this.enforestNullLiteral()}if(this.term===null&&this.isRegularExpression(lookahead)){return this.enforestRegularExpressionLiteral()}if(this.term===null&&this.isFnDeclTransform(lookahead)){return this.enforestFunction({isExpr:true})}if(this.term===null&&this.isBraces(lookahead)){return this.enforestObjectExpression()}if(this.term===null&&this.isBrackets(lookahead)){return this.enforestArrayExpression()}(0,_errors.assert)(false,"Not a primary expression")}enforestLeftHandSideExpression({allowCall:allowCall}){let lookahead=this.peek();if(this.isCompiletimeTransform(lookahead)){this.expandMacro();lookahead=this.peek()}if(this.isSuperTransform(lookahead)){this.advance();this.term=new T.Super({})}else if(this.isNewTransform(lookahead)){this.term=this.enforestNewExpression()}else if(this.isThisTransform(lookahead)){this.term=this.enforestThisExpression()}else if(this.isBraces(lookahead)){this.term=this.enforestPrimaryExpression();return this.term}while(true){lookahead=this.peek();if(this.isParens(lookahead)){if(!allowCall){if(this.term&&((0,_terms.isIdentifierExpression)(this.term)||(0,_terms.isStaticMemberExpression)(this.term)||(0,_terms.isComputedMemberExpression)(this.term))){return this.term}this.term=this.enforestExpressionLoop()}else{this.term=this.enforestCallExpression()}}else if(this.isBrackets(lookahead)){this.term=this.term?this.enforestComputedMemberExpression():this.enforestPrimaryExpression()}else if(this.isPunctuator(lookahead,".")&&(this.isIdentifier(this.peek(1))||this.isKeyword(this.peek(1)))){this.term=this.enforestStaticMemberExpression()}else if(this.isTemplate(lookahead)){this.term=this.enforestTemplateLiteral()}else if(this.isIdentifier(lookahead)){if(this.term)break;this.term=new T.IdentifierExpression({name:this.enforestIdentifier()})}else{break}}return this.term}enforestBooleanLiteral(){return new T.LiteralBooleanExpression({value:this.matchRawSyntax().val()==="true"})}enforestTemplateLiteral(){return new T.TemplateExpression({tag:this.term,elements:this.enforestTemplateElements()})}enforestStringLiteral(){return new T.LiteralStringExpression({value:this.matchRawSyntax().val()})}enforestNumericLiteral(){let num=this.matchRawSyntax();if(num.val()===1/0){return new T.LiteralInfinityExpression({})}return new T.LiteralNumericExpression({value:num.val()})}enforestIdentifierExpression(){return new T.IdentifierExpression({name:this.matchRawSyntax()})}enforestRegularExpressionLiteral(){let reStx=this.matchRawSyntax();let lastSlash=reStx.token.value.lastIndexOf("/");let pattern=reStx.token.value.slice(1,lastSlash);let flags=reStx.token.value.slice(lastSlash+1);return new T.LiteralRegExpExpression({pattern:pattern,flags:flags})}enforestNullLiteral(){this.advance();return new T.LiteralNullExpression({})}enforestThisExpression(){return new T.ThisExpression({stx:this.matchRawSyntax()})}enforestArgumentList(){let result=[];while(this.rest.size>0){let arg;if(this.isPunctuator(this.peek(),"...")){this.advance();arg=new T.SpreadElement({expression:this.enforestExpressionLoop()})}else{arg=this.enforestExpressionLoop()}if(this.rest.size>0){this.matchPunctuator(",")}result.push(arg)}return(0,_immutable.List)(result)}enforestNewExpression(){this.matchKeyword("new");if(this.isPunctuator(this.peek(),".")&&this.isIdentifier(this.peek(1),"target")){this.advance();this.advance();return new T.NewTargetExpression({})}let callee=this.enforestLeftHandSideExpression({allowCall:false});let args;if(this.isParens(this.peek())){args=this.matchParens()}else{args=(0,_immutable.List)()}return new T.NewExpression({callee:callee,arguments:args})}enforestComputedMemberExpression(){let enf=new Enforester(this.matchSquares(),(0,_immutable.List)(),this.context);return new T.ComputedMemberExpression({object:this.term,expression:enf.enforestExpression()})}transformDestructuring(term){switch(term.type){case"IdentifierExpression":return new T.BindingIdentifier({name:term.name});case"ParenthesizedExpression":if(term.inner.size===1&&this.isIdentifier(term.inner.get(0))){return new T.BindingIdentifier({name:term.inner.get(0).value})}return term;case"DataProperty":return new T.BindingPropertyProperty({name:term.name,binding:this.transformDestructuringWithDefault(term.expression)});case"ShorthandProperty":return new T.BindingPropertyIdentifier({binding:new T.BindingIdentifier({name:term.name}),init:null});case"ObjectExpression":return new T.ObjectBinding({properties:term.properties.map(t=>this.transformDestructuring(t))});case"ArrayExpression":{let last=term.elements.last();if(last!=null&&last.type==="SpreadElement"){return new T.ArrayBinding({elements:term.elements.slice(0,-1).map(t=>t&&this.transformDestructuringWithDefault(t)),restElement:this.transformDestructuringWithDefault(last.expression)})}else{return new T.ArrayBinding({elements:term.elements.map(t=>t&&this.transformDestructuringWithDefault(t)),restElement:null})}}case"StaticPropertyName":return new T.BindingIdentifier({name:term.value});case"ComputedMemberExpression":case"StaticMemberExpression":case"ArrayBinding":case"BindingIdentifier":case"BindingPropertyIdentifier":case"BindingPropertyProperty":case"BindingWithDefault":case"ObjectBinding":return term}(0,_errors.assert)(false,"not implemented yet for "+term.type)}transformDestructuringWithDefault(term){switch(term.type){case"AssignmentExpression":return new T.BindingWithDefault({binding:this.transformDestructuring(term.binding),init:term.expression})}return this.transformDestructuring(term)}enforestCallExpression(){let paren=this.matchParens();return new T.CallExpressionE({callee:this.term,arguments:paren})}enforestArrowExpression(){let enf;if(this.isIdentifier(this.peek())){enf=new Enforester(_immutable.List.of(this.advance()),(0,_immutable.List)(),this.context)}else{let p=this.matchParens();enf=new Enforester(p,(0,_immutable.List)(),this.context)}let params=enf.enforestFormalParameters();this.matchPunctuator("=>");let body;if(this.isBraces(this.peek())){body=this.matchCurlies();return new T.ArrowExpressionE({params:params,body:body})}else{enf=new Enforester(this.rest,(0,_immutable.List)(),this.context);body=enf.enforestExpressionLoop();this.rest=enf.rest;return new T.ArrowExpression({params:params,body:body})}}enforestYieldExpression(){let kwd=this.matchKeyword("yield");let lookahead=this.peek();if(this.rest.size===0||lookahead&&!this.lineNumberEq(kwd,lookahead)){return new T.YieldExpression({expression:null})}else{let isGenerator=false;if(this.isPunctuator(this.peek(),"*")){isGenerator=true;this.advance()}let expr=this.enforestExpression();return new(isGenerator?T.YieldGeneratorExpression:T.YieldExpression)({expression:expr})}}enforestSyntaxTemplate(){return new T.SyntaxTemplate({template:this.matchRawDelimiter()})}enforestStaticMemberExpression(){let object=this.term;this.advance();let property=this.matchRawSyntax();return new T.StaticMemberExpression({object:object,property:property})}enforestArrayExpression(){let arr=this.matchSquares();let elements=[];let enf=new Enforester(arr,(0,_immutable.List)(),this.context);while(enf.rest.size>0){let lookahead=enf.peek();let expression=null;if(!enf.isPunctuator(lookahead,",")){let isSpread=false;if(enf.isPunctuator(lookahead,"...")){enf.advance();isSpread=true}expression=enf.enforestExpressionLoop();if(expression==null){continue}if(enf.rest.size>0&&!enf.isPunctuator(enf.peek(),",")){throw enf.createError(enf.peek(),"unexpected token")}if(isSpread){expression=new T.SpreadElement({expression:expression})}}enf.consumeComma();elements.push(expression)}return new T.ArrayExpression({elements:(0,_immutable.List)(elements)})}enforestObjectExpression(){let obj=this.matchCurlies();let properties=(0,_immutable.List)();let enf=new Enforester(obj,(0,_immutable.List)(),this.context);let lastProp=null;while(enf.rest.size>0){let prop=enf.enforestPropertyDefinition();if(enf.rest.size>0&&!enf.isPunctuator(enf.peek(),",")){throw enf.createError(enf.peek(),"unexpected token")}enf.consumeComma();properties=properties.concat(prop);if(lastProp===prop){throw enf.createError(prop,"invalid syntax in object")}lastProp=prop}return new T.ObjectExpression({properties:properties})}enforestPropertyDefinition(){let{methodOrKey:methodOrKey,kind:kind}=this.enforestMethodDefinition();switch(kind){case"method":return methodOrKey;case"identifier":if(this.isAssign(this.peek())){this.advance();let init=this.enforestExpressionLoop();return new T.BindingPropertyIdentifier({init:init,binding:this.transformDestructuring(methodOrKey)})}else if(!this.isPunctuator(this.peek(),":")){return new T.ShorthandProperty({name:methodOrKey.value})}}this.matchPunctuator(":");let expr=this.enforestExpressionLoop();return new T.DataProperty({name:methodOrKey,expression:expr})}enforestMethodDefinition(){let lookahead=this.peek();let isGenerator=false;if(this.isPunctuator(lookahead,"*")){isGenerator=true;this.advance()}if(this.isIdentifier(lookahead,"get")&&this.isPropertyName(this.peek(1))){this.advance();let{name:name}=this.enforestPropertyName();this.matchParens();let body=this.matchCurlies();return{methodOrKey:new T.Getter({name:name,body:body}),kind:"method"}}else if(this.isIdentifier(lookahead,"set")&&this.isPropertyName(this.peek(1))){this.advance();let{name:name}=this.enforestPropertyName();let enf=new Enforester(this.matchParens(),(0,_immutable.List)(),this.context);let param=enf.enforestBindingElement();let body=this.matchCurlies();return{methodOrKey:new T.Setter({name:name,param:param,body:body}),kind:"method"}}let{name:name}=this.enforestPropertyName();if(this.isParens(this.peek())){let params=this.matchParens();let enf=new Enforester(params,(0,_immutable.List)(),this.context);let formalParams=enf.enforestFormalParameters();let body=this.matchCurlies();return{methodOrKey:new T.Method({isGenerator:isGenerator,name:name,params:formalParams,body:body}),kind:"method"}}return{methodOrKey:name,kind:this.isIdentifier(lookahead)||this.isKeyword(lookahead)?"identifier":"property"}}enforestPropertyName(){let lookahead=this.peek();if(this.isStringLiteral(lookahead)||this.isNumericLiteral(lookahead)){return{name:new T.StaticPropertyName({value:this.matchRawSyntax()}),binding:null}}else if(this.isBrackets(lookahead)){let enf=new Enforester(this.matchSquares(),(0,_immutable.List)(),this.context);let expr=enf.enforestExpressionLoop();return{name:new T.ComputedPropertyName({expression:expr}),binding:null}}let name=this.matchRawSyntax();return{name:new T.StaticPropertyName({value:name}),binding:new T.BindingIdentifier({name:name})}}enforestFunction({isExpr:isExpr,inDefault:inDefault}){let name=null,params,body;let isGenerator=false;let fnKeyword=this.matchRawSyntax();let lookahead=this.peek();if(this.isPunctuator(lookahead,"*")){isGenerator=true;this.advance();lookahead=this.peek()}if(!this.isParens(lookahead)){name=this.enforestBindingIdentifier()}else if(inDefault){name=new T.BindingIdentifier({name:_syntax2.default.fromIdentifier("*default*",fnKeyword)})}params=this.matchParens();body=this.matchCurlies();let enf=new Enforester(params,(0,_immutable.List)(),this.context);let formalParams=enf.enforestFormalParameters();return new(isExpr?T.FunctionExpressionE:T.FunctionDeclarationE)({name:name,isGenerator:isGenerator,params:formalParams,body:body})}enforestFormalParameters(){let items=[];let rest=null;while(this.rest.size!==0){let lookahead=this.peek();if(this.isPunctuator(lookahead,"...")){this.matchPunctuator("...");rest=this.enforestBindingIdentifier();break}items.push(this.enforestParam());this.consumeComma()}return new T.FormalParameters({items:(0,_immutable.List)(items),rest:rest})}enforestParam(){return this.enforestBindingElement()}enforestUpdateExpression(){const lookahead=this.peek();const leftTerm=this.term;if(!lookahead){throw this.createError(lookahead,"assertion failure: operator is null")}let operator=this.matchRawSyntax();if(this.isCompiletimeTransform(lookahead)){const operatorTransform=this.getFromCompiletimeEnvironment(operator);if(!operatorTransform||operatorTransform.value.type!=="operator"){throw this.createError(lookahead,"unexpected transform")}let result=operatorTransform.value.f.call(null,leftTerm);let enf=new Enforester(result,(0,_immutable.List)(),this.context);return enf.enforestExpressionLoop()}return new T.UpdateExpression({isPrefix:false,operator:operator.val(),operand:this.transformDestructuring(leftTerm)})}enforestUnaryExpression(){const lookahead=this.peek();if(!lookahead){throw this.createError(lookahead,"assertion failure: operator is null")}let operator=this.matchRawSyntax();let prec,combine;if(this.isCompiletimeTransform(lookahead)){const operatorTransform=this.getFromCompiletimeEnvironment(lookahead);if(!operatorTransform||operatorTransform.value.type!=="operator"){throw this.createError(lookahead,"unexpected transform")}prec=operatorTransform.value.prec;combine=(rightTerm=>{return this.expandOperator(lookahead,operatorTransform,[rightTerm])})}else{prec=16;combine=(rightTerm=>{if(operator.val()==="++"||operator.val()==="--"){return new T.UpdateExpression({operator:operator.val(),operand:this.transformDestructuring(rightTerm),isPrefix:true})}else{return new T.UnaryExpression({operator:operator.val(),operand:rightTerm})}})}this.opCtx.stack=this.opCtx.stack.push({prec:this.opCtx.prec,combine:this.opCtx.combine});this.opCtx.prec=prec;this.opCtx.combine=(rightTerm=>{return combine(rightTerm)});return EXPR_LOOP_OPERATOR}enforestConditionalExpression(){let test=this.opCtx.combine(this.term);if(this.opCtx.stack.size>0){let{prec:prec,combine:combine}=this.opCtx.stack.last();this.opCtx.stack=this.opCtx.stack.pop();this.opCtx.prec=prec;this.opCtx.combine=combine}this.matchPunctuator("?");let enf=new Enforester(this.rest,(0,_immutable.List)(),this.context);let consequent=enf.enforestExpressionLoop();enf.matchPunctuator(":");enf=new Enforester(enf.rest,(0,_immutable.List)(),this.context);let alternate=enf.enforestExpressionLoop();this.rest=enf.rest;return new T.ConditionalExpression({test:test,consequent:consequent,alternate:alternate})}enforestBinaryExpression(){let leftTerm=this.term;const opStx=this.peek();if(!opStx){throw this.createError(opStx,"assertion failure: opStx is null")}let prec,assoc,combine;if(this.isCompiletimeTransform(this.peek())){const operatorTransform=this.getFromCompiletimeEnvironment(opStx.value);if(!operatorTransform||operatorTransform.value.type!=="operator"){throw this.createError(opStx.value,"unexpected transform")}prec=operatorTransform.value.prec;assoc=operatorTransform.value.assoc;combine=((left,right)=>{return this.expandOperator(opStx,operatorTransform,[left,right])})}else{prec=(0,_operators.getOperatorPrec)(opStx.value.val());assoc=(0,_operators.getOperatorAssoc)(opStx.value.val());combine=((left,right)=>new T.BinaryExpression({left:left,right:right,operator:opStx.value.val()}))}if((0,_operators.operatorLt)(this.opCtx.prec,prec,assoc)){this.opCtx.stack=this.opCtx.stack.push({prec:this.opCtx.prec,combine:this.opCtx.combine});this.opCtx.prec=prec;this.opCtx.combine=(rightTerm=>{return combine(leftTerm,rightTerm)});this.advance();return EXPR_LOOP_OPERATOR}else{let term=this.opCtx.combine(leftTerm);let{prec:prec,combine:combine}=this.opCtx.stack.last();this.opCtx.stack=this.opCtx.stack.pop();this.opCtx.prec=prec;this.opCtx.combine=combine;return term}}enforestTemplateElements(){let lookahead=this.matchTemplate();let elements=lookahead.token.items.map(it=>{if(this.isDelimiter(it)){let enf=new Enforester(it.inner.slice(1,it.inner.size-1),(0,_immutable.List)(),this.context);return enf.enforest("expression")}return new T.TemplateElement({rawValue:it.value.token.slice.text})});return elements}expandMacro(){let lookahead=this.peek();while(this.isCompiletimeTransform(lookahead)){let name=this.matchRawSyntax();let syntaxTransform=this.getFromCompiletimeEnvironment(name);if(syntaxTransform==null){throw this.createError(name,`The macro ${name.resolve(this.context.phase)} does not have a bound value`)}else if(typeof syntaxTransform.value.f!=="function"){throw this.createError(name,`The macro ${name.resolve(this.context.phase)} was not bound to a callable value: ${syntaxTransform.value.f}`)}let useSiteScope=(0,_scope.freshScope)("u");let introducedScope=(0,_scope.freshScope)("i");this.context.useScope=useSiteScope;let ctx=new _macroContext2.default(this,name,this.context,useSiteScope,introducedScope);let result=(0,_loadSyntax.sanitizeReplacementValues)(syntaxTransform.value.f.call(null,ctx));if(!_immutable.List.isList(result)){throw this.createError(name,"macro must return a list but got: "+result)}let scopeReducer=new _scopeReducer2.default([{scope:introducedScope,phase:_syntax.ALL_PHASES,flip:true}],this.context.bindings,true);result=result.map(terms=>{if(terms instanceof _syntax2.default){return new T.RawSyntax({value:terms}).reduce(scopeReducer)}else if(!(terms instanceof T.default)){throw this.createError(name,"macro must return syntax objects or terms but got: "+terms)}return terms.reduce(scopeReducer)});this.rest=result.concat(ctx._rest(this));lookahead=this.peek()}}expandOperator(name,operatorTransform,args){let useSiteScope=(0,_scope.freshScope)("u");let introducedScope=(0,_scope.freshScope)("i");this.context.useScope=useSiteScope;args=args.map(arg=>{return arg.reduce(new _scopeReducer2.default([{scope:useSiteScope,phase:_syntax.ALL_PHASES,flip:false},{scope:introducedScope,phase:_syntax.ALL_PHASES,flip:true}],this.context.bindings))});let result=(0,_loadSyntax.sanitizeReplacementValues)(operatorTransform.value.f.apply(null,args));let scopeReducer=new _scopeReducer2.default([{scope:introducedScope,phase:_syntax.ALL_PHASES,flip:true}],this.context.bindings,true);result=result.map(terms=>{if(terms instanceof _syntax2.default){return new T.RawSyntax({value:terms}).reduce(scopeReducer)}else if(!(terms instanceof T.default)){throw this.createError(name,"macro must return syntax objects or terms but got: "+terms)}return terms.reduce(scopeReducer)});let enf=new Enforester(result,(0,_immutable.List)(),this.context);return enf.enforestExpressionLoop()}consumeSemicolon(){let lookahead=this.peek();if(lookahead&&this.isPunctuator(lookahead,";")){this.advance()}}consumeComma(){let lookahead=this.peek();if(lookahead&&this.isPunctuator(lookahead,",")){this.advance()}}safeCheck(obj,type,val=null){if(obj instanceof T.default){if(obj instanceof T.RawSyntax){return obj.value&&(typeof obj.value.match==="function"?obj.value.match(type,val):false)}else if(obj instanceof T.RawDelimiter){return type==="delimiter"||obj.kind===type}}return obj&&(typeof obj.match==="function"?obj.match(type,val):false)}isTerm(term){return term&&term instanceof T.default}isEOF(obj){return this.safeCheck(obj,"eof")}isIdentifier(obj,val=null){return this.safeCheck(obj,"identifier",val)}isPropertyName(obj){return this.isIdentifier(obj)||this.isKeyword(obj)||this.isNumericLiteral(obj)||this.isStringLiteral(obj)||this.isBrackets(obj)}isNumericLiteral(obj,val=null){return this.safeCheck(obj,"number",val)}isStringLiteral(obj,val=null){return this.safeCheck(obj,"string",val)}isTemplate(obj,val=null){return this.safeCheck(obj,"template",val)}isSyntaxTemplate(obj){return this.safeCheck(obj,"syntaxTemplate")}isBooleanLiteral(obj,val=null){return this.safeCheck(obj,"boolean",val)}isNullLiteral(obj,val=null){return this.safeCheck(obj,"null",val)}isRegularExpression(obj,val=null){return this.safeCheck(obj,"regularExpression",val)}isDelimiter(obj){return this.safeCheck(obj,"delimiter")}isParens(obj){return this.safeCheck(obj,"parens")}isBraces(obj){return this.safeCheck(obj,"braces")}isBrackets(obj){return this.safeCheck(obj,"brackets")}isAssign(obj,val=null){return this.safeCheck(obj,"assign",val)}isKeyword(obj,val=null){return this.safeCheck(obj,"keyword",val)}isPunctuator(obj,val=null){return this.safeCheck(obj,"punctuator",val)}isOperator(obj){return(this.safeCheck(obj,"punctuator")||this.safeCheck(obj,"identifier")||this.safeCheck(obj,"keyword"))&&(obj instanceof T.RawSyntax&&(0,_operators.isOperator)(obj.value)||obj instanceof _syntax2.default&&(0,_operators.isOperator)(obj))}isCustomPrefixOperator(obj){if(this.isCompiletimeTransform(obj)){let t=this.getFromCompiletimeEnvironment(obj.value);return t&&t.value.assoc==="prefix"}return false}isCustomPostfixOperator(obj){if(this.isCompiletimeTransform(obj)){let t=this.getFromCompiletimeEnvironment(obj.value);return t&&t.value.assoc==="postfix"}return false}isCustomBinaryOperator(obj){if(this.isCompiletimeTransform(obj)){let t=this.getFromCompiletimeEnvironment(obj.value);return t&&(t.value.assoc==="left"||t.value.assoc==="right")}return false}isUpdateOperator(obj){return this.safeCheck(obj,"punctuator","++")||this.safeCheck(obj,"punctuator","--")}safeResolve(obj,phase){if(obj instanceof T.RawSyntax){return typeof obj.value.resolve==="function"?Just(obj.value.resolve(phase)):Nothing()}else if(obj instanceof _syntax2.default){return typeof obj.resolve==="function"?Just(obj.resolve(phase)):Nothing()}return Nothing()}isTransform(obj,trans){return this.safeResolve(obj,this.context.phase).map(name=>this.context.env.get(name)===trans||this.context.store.get(name)===trans).getOrElse(false)}isTransformInstance(obj,trans){return this.safeResolve(obj,this.context.phase).map(name=>this.context.env.get(name)instanceof trans||this.context.store.get(name)instanceof trans).getOrElse(false)}isFnDeclTransform(obj){return this.isTransform(obj,_transforms.FunctionDeclTransform)}isVarDeclTransform(obj){return this.isTransform(obj,_transforms.VariableDeclTransform)}isLetDeclTransform(obj){return this.isTransform(obj,_transforms.LetDeclTransform)}isConstDeclTransform(obj){return this.isTransform(obj,_transforms.ConstDeclTransform)}isSyntaxDeclTransform(obj){return this.isTransform(obj,_transforms.SyntaxDeclTransform)}isSyntaxrecDeclTransform(obj){return this.isTransform(obj,_transforms.SyntaxrecDeclTransform)}isReturnStmtTransform(obj){return this.isTransform(obj,_transforms.ReturnStatementTransform)}isWhileTransform(obj){return this.isTransform(obj,_transforms.WhileTransform)}isForTransform(obj){return this.isTransform(obj,_transforms.ForTransform)}isSwitchTransform(obj){return this.isTransform(obj,_transforms.SwitchTransform)}isBreakTransform(obj){return this.isTransform(obj,_transforms.BreakTransform)}isContinueTransform(obj){return this.isTransform(obj,_transforms.ContinueTransform)}isDoTransform(obj){return this.isTransform(obj,_transforms.DoTransform)}isDebuggerTransform(obj){return this.isTransform(obj,_transforms.DebuggerTransform)}isWithTransform(obj){return this.isTransform(obj,_transforms.WithTransform)}isImportTransform(obj){return this.isTransform(obj,_transforms.ImportTransform)}isExportTransform(obj){return this.isTransform(obj,_transforms.ExportTransform)}isTryTransform(obj){return this.isTransform(obj,_transforms.TryTransform)}isThrowTransform(obj){return this.isTransform(obj,_transforms.ThrowTransform)}isOperatorDeclTransform(obj){return this.isTransform(obj,_transforms.OperatorDeclTransform)}isIfTransform(obj){return this.isTransform(obj,_transforms.IfTransform)}isNewTransform(obj){return this.isTransform(obj,_transforms.NewTransform)}isSuperTransform(obj){return this.isTransform(obj,_transforms.SuperTransform)}isThisTransform(obj){return this.isTransform(obj,_transforms.ThisTransform)}isClassTransform(obj){return this.isTransform(obj,_transforms.ClassTransform)}isYieldTransform(obj){return this.isTransform(obj,_transforms.YieldTransform)}isDefaultTransform(obj){return this.isTransform(obj,_transforms.DefaultTransform)}isCompiletimeTransform(obj){return this.isTransformInstance(obj,_transforms.CompiletimeTransform)}isModuleNamespaceTransform(obj){return this.isTransformInstance(obj,_transforms.ModuleNamespaceTransform)}isVarBindingTransform(obj){return this.isTransformInstance(obj,_transforms.VarBindingTransform)}getFromCompiletimeEnvironment(term){if(this.context.env.has(term.resolve(this.context.phase))){return this.context.env.get(term.resolve(this.context.phase))}return this.context.store.get(term.resolve(this.context.phase))}lineNumberEq(a,b){if(!(a&&b)){return false}return getLineNumber(a)===getLineNumber(b)}matchRawDelimiter(){let lookahead=this.advance();if(lookahead instanceof T.RawDelimiter){return lookahead.inner}throw this.createError(lookahead,"expecting a RawDelimiter")}matchRawSyntax(){let lookahead=this.advance();if(lookahead instanceof T.RawSyntax){return lookahead.value}throw this.createError(lookahead,"expecting a RawSyntax")}matchIdentifier(val){let lookahead=this.peek();if(this.isIdentifier(lookahead,val)){return this.matchRawSyntax()}throw this.createError(lookahead,"expecting an identifier")}matchKeyword(val){let lookahead=this.peek();if(this.isKeyword(lookahead,val)){return this.matchRawSyntax()}throw this.createError(lookahead,"expecting "+val)}matchLiteral(){let lookahead=this.peek();if(this.isNumericLiteral(lookahead)||this.isStringLiteral(lookahead)||this.isBooleanLiteral(lookahead)||this.isNullLiteral(lookahead)||this.isTemplate(lookahead)||this.isRegularExpression(lookahead)){return this.matchRawSyntax()}throw this.createError(lookahead,"expecting a literal")}matchStringLiteral(){let lookahead=this.peek();if(this.isStringLiteral(lookahead)){return this.matchRawSyntax()}throw this.createError(lookahead,"expecting a string literal")}matchTemplate(){let lookahead=this.peek();if(this.isTemplate(lookahead)){return this.matchRawSyntax()}throw this.createError(lookahead,"expecting a template literal")}matchParens(){let lookahead=this.peek();if(this.isParens(lookahead)){let inner=this.matchRawDelimiter();return inner.slice(1,inner.size-1)}throw this.createError(lookahead,"expecting parens")}matchCurlies(){let lookahead=this.peek();if(this.isBraces(lookahead)){let inner=this.matchRawDelimiter();return inner.slice(1,inner.size-1)}throw this.createError(lookahead,"expecting curly braces")}matchSquares(){let lookahead=this.peek();if(this.isBrackets(lookahead)){let inner=this.matchRawDelimiter();return inner.slice(1,inner.size-1)}throw this.createError(lookahead,"expecting square braces")}matchUnaryOperator(){let lookahead=this.matchRawSyntax();if((0,_operators.isUnaryOperator)(lookahead)){return lookahead}throw this.createError(lookahead,"expecting a unary operator")}matchPunctuator(val){let lookahead=this.matchRawSyntax();if(this.isPunctuator(lookahead)){if(typeof val!=="undefined"){if(lookahead.val()===val){return lookahead}else{throw this.createError(lookahead,"expecting a "+val+" punctuator")}}return lookahead}throw this.createError(lookahead,"expecting a punctuator")}createError(stx,message){let ctx="";let offending=stx;if(this.rest.size>0){ctx=this.rest.slice(0,20).map(term=>{if(term instanceof T.RawDelimiter){return term.inner}return _immutable.List.of(term)}).flatten().map(s=>{let sval=s instanceof T.RawSyntax?s.value.val():s.toString();if(s===offending){return"__"+sval+"__"}return sval}).join(" ")}else{ctx=offending==null?"":offending.toString()}return new Error(message+"\n"+ctx)}}exports.Enforester=Enforester},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.expandCompiletime=expandCompiletime;exports.sanitizeReplacementValues=sanitizeReplacementValues;exports.evalCompiletimeValue=evalCompiletimeValue;var _sweetSpec=__webpack_require__(2);var S=_interopRequireWildcard(_sweetSpec);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _immutable=__webpack_require__(1);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);var _shiftCodegen=__webpack_require__(18);var _shiftCodegen2=_interopRequireDefault(_shiftCodegen);var _sweetToShiftReducer=__webpack_require__(21);var _sweetToShiftReducer2=_interopRequireDefault(_sweetToShiftReducer);var _termExpander=__webpack_require__(22);var _termExpander2=_interopRequireDefault(_termExpander);var _env=__webpack_require__(16);var _env2=_interopRequireDefault(_env);var _templateProcessor=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function expandCompiletime(term,context){let syntaxExpander=new _termExpander2.default(_.merge(context,{phase:context.phase+1,env:new _env2.default,store:context.store}));return syntaxExpander.expand(term)}function sanitizeReplacementValues(values){if(Array.isArray(values)){return sanitizeReplacementValues((0,_immutable.List)(values))}else if(_immutable.List.isList(values)){return values.map(sanitizeReplacementValues)}else if(values==null){throw new Error("replacement values for syntax template must not be null or undefined")}else if(typeof values.next==="function"){return sanitizeReplacementValues((0,_immutable.List)(values))}return values}function evalCompiletimeValue(expr,context){let sandbox={syntaxTemplate:function(ident,...values){return(0,_templateProcessor.replaceTemplate)(context.templateMap.get(ident),sanitizeReplacementValues(values))}};let sandboxKeys=(0,_immutable.List)(Object.keys(sandbox));let sandboxVals=sandboxKeys.map(k=>sandbox[k]).toArray();let parsed=new S.Module({directives:(0,_immutable.List)(),items:_immutable.List.of(new S.ExpressionStatement({expression:new S.FunctionExpression({isGenerator:false,name:null,params:new S.FormalParameters({items:sandboxKeys.map(param=>{return new S.BindingIdentifier({name:_syntax2.default.from("identifier",param)})}),rest:null}),body:new S.FunctionBody({directives:_immutable.List.of(new S.Directive({rawValue:"use strict"})),statements:_immutable.List.of(new S.ReturnStatement({expression:expr}))})})}))}).reduce(new _sweetToShiftReducer2.default(context.phase));let gen=(0,_shiftCodegen2.default)(parsed,new _shiftCodegen.FormattedCodeGen);let result=context.transform(gen);let val=context.loader.eval(result.code,context.store);return val.apply(undefined,sandboxVals)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});class ASTDispatcher{constructor(prefix,errorIfMissing){this.errorIfMissing=errorIfMissing;this.prefix=prefix}dispatch(term){let field=this.prefix+term.type;if(typeof this[field]==="function"){return this[field](term)}else if(!this.errorIfMissing){return term}throw new Error(`Missing implementation for: ${field}`)}}exports.default=ASTDispatcher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});class Store extends Map{constructor(backingObject){super();this.backingObject=backingObject}set(key,val){super.set(key,val);this.backingObject[key]=val}getBackingObject(){return this.backingObject}}exports.default=Store},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_28__},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSlice=getSlice;exports.default=read;var _readtable=__webpack_require__(5);var _defaultReadtable=__webpack_require__(51);var _defaultReadtable2=_interopRequireDefault(_defaultReadtable);var _immutable=__webpack_require__(1);var _tokens=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_readtable.setCurrentReadtable)(_defaultReadtable2.default);function getSlice(stream,startLocation){return{text:stream.getSlice(startLocation.position),start:startLocation.position,startLocation:startLocation,end:stream.sourceInfo.position}}const streams=new WeakMap;class ReadError extends Error{constructor({index:index,line:line,column:column,message:message}){super(message);this.index=index;this.line=line;this.column=column;this.message=`[${line}:${column}] ${message}`}}class TokenReader extends _readtable.Reader{constructor(stream,context){super();this.context=context;streams.set(this,stream);this.locationInfo={line:1,column:1}}createError(msg){let message=msg.replace(/\{(\d+)\}/g,(_,n)=>JSON.stringify(arguments[+n+1]));return new ReadError({message:message,index:streams.get(this).sourceInfo.position,line:this.locationInfo.line,column:this.locationInfo.column})}createILLEGAL(char){return!(0,_readtable.isEOS)(char)?this.createError("Unexpected {0}",char):this.createError("Unexpected end of input")}readToken(stream,...rest){const startLocation=Object.assign({},this.locationInfo,stream.sourceInfo);const result=super.read(stream,...rest);if(startLocation.column===this.locationInfo.column&&startLocation.line===this.locationInfo.line){this.locationInfo.column+=stream.sourceInfo.position-startLocation.position}if(result===_tokens.EmptyToken)return result;if(!_immutable.List.isList(result))result.slice=getSlice(stream,startLocation);return result}readUntil(close,stream,prefix,exprAllowed){let result,results=prefix,done=false;do{if((0,_readtable.isEOS)(stream.peek()))break;done=typeof close==="function"?close():stream.peek()===close;result=this.readToken(stream,results,exprAllowed);if(result!==_tokens.EmptyToken){results=results.push(result)}}while(!done);return results}incrementLine(){this.locationInfo.line+=1;this.locationInfo.column=1}}function read(source,context){const stream=typeof source==="string"?new _readtable.CharStream(source):source;if((0,_readtable.isEOS)(stream.peek()))return(0,_immutable.List)();return new TokenReader(stream,context).readUntil(null,stream,(0,_immutable.List)(),false)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isEOS=isEOS;const sourceInfo=new WeakMap;class CharStream{constructor(source,filename=""){sourceInfo.set(this,{source:source,filename:filename,position:0})}get sourceInfo(){const{filename:filename,position:position}=sourceInfo.get(this);return{filename:filename,position:position}}peek(charsToSkip=0){const{source:source,position:position}=sourceInfo.get(this);if(position+charsToSkip>=source.length)return"";return source[position+charsToSkip]}readString(numChars=1){const info=sourceInfo.get(this);const{source:source,position:position}=info;const str=source.slice(position,position+numChars);info.position+=str.length;return str}getSlice(start){const{source:source,position:position}=sourceInfo.get(this);return source.slice(start,position)}}exports.default=CharStream;function isEOS(char){return char===""}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const DISPATCH_OFFSET=1114112;class Readtable{constructor(entries=[]){this._entries=entries}getMapping(key){if(!isValidKey(key))throw Error("Invalid key type:",key);key=convertKey(key);const{action:action,mode:mode}=this._entries[key]||this._entries[0];const dispatchEntry=this._entries[key+DISPATCH_OFFSET]||this._entries[DISPATCH_OFFSET]||{};return{action:action,mode:mode,dispatchAction:dispatchEntry.action}}extend(...entries){const newTable=this._entries.slice();return new Readtable(entries.reduce(addEntry,newTable))}}exports.default=Readtable;function addEntry(table,{key:key,mode:mode,action:action}){if(!isValidEntry({key:key,mode:mode,action:action}))throw Error("Invalid readtable entry:",{key:key,mode:mode,action:action});table[convertKey(key)+(mode==="dispatch"?DISPATCH_OFFSET:0)]={action:action,mode:mode};return table}const EmptyReadtable=exports.EmptyReadtable=new Readtable([{mode:"non-terminating",action:function defaultAction(){throw Error("A default readtable entry must be added")}}]);function isValidKey(key){return key==null||typeof key==="number"&&key<DISPATCH_OFFSET||typeof key==="string"&&key.length>=0&&key.length<=2}function isValidMode(mode){return mode==="terminating"||mode==="non-terminating"||mode==="dispatch"}function isValidAction(action){return typeof action==="function"}function isValidEntry(entry){return entry&&isValidKey(entry.key)&&isValidMode(entry.mode)&&isValidAction(entry.action)}function convertKey(key){return key==null?0:(typeof key==="number"?key:key.codePointAt(0))+1}},function(module,exports){(function(){"use strict";var ES6Regex,ES5Regex,NON_ASCII_WHITESPACES,IDENTIFIER_START,IDENTIFIER_PART,ch;ES5Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/};ES6Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function isDecimalDigit(ch){return 48<=ch&&ch<=57}function isHexDigit(ch){return 48<=ch&&ch<=57||97<=ch&&ch<=102||65<=ch&&ch<=70}function isOctalDigit(ch){return ch>=48&&ch<=55}NON_ASCII_WHITESPACES=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&NON_ASCII_WHITESPACES.indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function fromCodePoint(cp){if(cp<=65535){return String.fromCharCode(cp)}var cu1=String.fromCharCode(Math.floor((cp-65536)/1024)+55296);var cu2=String.fromCharCode((cp-65536)%1024+56320);return cu1+cu2}IDENTIFIER_START=new Array(128);for(ch=0;ch<128;++ch){IDENTIFIER_START[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||ch===36||ch===95}IDENTIFIER_PART=new Array(128);for(ch=0;ch<128;++ch){IDENTIFIER_PART[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||ch>=48&&ch<=57||ch===36||ch===95}function isIdentifierStartES5(ch){return ch<128?IDENTIFIER_START[ch]:ES5Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES5(ch){return ch<128?IDENTIFIER_PART[ch]:ES5Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}function isIdentifierStartES6(ch){return ch<128?IDENTIFIER_START[ch]:ES6Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES6(ch){return ch<128?IDENTIFIER_PART[ch]:ES6Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}module.exports={isDecimalDigit:isDecimalDigit,isHexDigit:isHexDigit,isOctalDigit:isOctalDigit,isWhiteSpace:isWhiteSpace,isLineTerminator:isLineTerminator,isIdentifierStartES5:isIdentifierStartES5,isIdentifierPartES5:isIdentifierPartES5,isIdentifierStartES6:isIdentifierStartES6,isIdentifierPartES6:isIdentifierPartES6}})()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isClassDeclaration=exports.isFunctionDeclaration=exports.isCompiletimeStatement=exports.isSyntaxDeclarationStatement=exports.isVariableDeclarationStatement=exports.isSyntaxVariableDeclartion=exports.isVariableDeclarator=exports.isVariableDeclaration=exports.isExportFrom=exports.isExportDefault=exports.isExport=exports.isExportDeclaration=exports.isImportDeclaration=undefined;var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}const isImportDeclaration=exports.isImportDeclaration=_.is(T.ImportDeclaration);const isExportDeclaration=exports.isExportDeclaration=_.is(T.ExportDeclaration);const isExport=exports.isExport=_.is(T.Export);const isExportDefault=exports.isExportDefault=_.is(T.ExportDefault);const isExportFrom=exports.isExportFrom=_.is(T.ExportFrom);const isVariableDeclaration=exports.isVariableDeclaration=_.is(T.VariableDeclaration);const isVariableDeclarator=exports.isVariableDeclarator=_.is(T.VariableDeclarator);const isSyntaxVariableDeclartion=exports.isSyntaxVariableDeclartion=_.both(isVariableDeclaration,_.either(_.propEq("kind","syntax"),_.propEq("kind","syntaxrec")));const isVariableDeclarationStatement=exports.isVariableDeclarationStatement=_.is(T.VariableDeclarationStatement);const isSyntaxDeclarationStatement=exports.isSyntaxDeclarationStatement=(term=>{return isVariableDeclarationStatement(term)&&term.declaration.type==="VariableDeclaration"&&(term.declaration.kind==="syntax"||term.declaration.kind==="syntaxrec"||term.declaration.kind==="operator")});const isCompiletimeStatement=exports.isCompiletimeStatement=isSyntaxDeclarationStatement;const isFunctionDeclaration=exports.isFunctionDeclaration=_.is(T.FunctionDeclaration);const isClassDeclaration=exports.isClassDeclaration=_.is(T.ClassDeclaration)},function(module,exports,__webpack_require__){"use strict";var propIsEnumerable=Object.prototype.propertyIsEnumerable;function ToObject(val){if(val==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function ownEnumerableKeys(obj){var keys=Object.getOwnPropertyNames(obj);if(Object.getOwnPropertySymbols){keys=keys.concat(Object.getOwnPropertySymbols(obj))}return keys.filter(function(key){return propIsEnumerable.call(obj,key)})}module.exports=Object.assign||function(target,source){var from;var keys;var to=ToObject(target);for(var s=1;s<arguments.length;s++){from=arguments[s];keys=ownEnumerableKeys(Object(from));for(var i=0;i<keys.length;i++){to[keys[i]]=from[keys[i]]}}return to}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _immutable=__webpack_require__(1);var _errors=__webpack_require__(9);var _ramdaFantasy=__webpack_require__(11);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class BindingMap{constructor(){this._map=new Map}add(stx,{binding:binding,phase:phase,skipDup:skipDup=false}){let stxName=stx.val();let allScopeset=stx.scopesets.all;let scopeset=stx.scopesets.phase.has(phase)?stx.scopesets.phase.get(phase):(0,_immutable.List)();scopeset=allScopeset.concat(scopeset);(0,_errors.assert)(phase!=null,"must provide a phase for binding add");let scopesetBindingList=this._map.get(stxName);if(scopesetBindingList){if(skipDup&&scopesetBindingList.some(s=>s.scopes.equals(scopeset))){return}this._map.set(stxName,scopesetBindingList.push({scopes:scopeset,binding:binding,alias:_ramdaFantasy.Maybe.Nothing()}))}else{this._map.set(stxName,_immutable.List.of({scopes:scopeset,binding:binding,alias:_ramdaFantasy.Maybe.Nothing()}))}}addForward(stx,forwardStx,binding,phase){let stxName=stx.token.value;let allScopeset=stx.scopesets.all;let scopeset=stx.scopesets.phase.has(phase)?stx.scopesets.phase.get(phase):(0,_immutable.List)();scopeset=allScopeset.concat(scopeset);(0,_errors.assert)(phase!=null,"must provide a phase for binding add");let scopesetBindingList=this._map.get(stxName);if(scopesetBindingList){this._map.set(stxName,scopesetBindingList.push({scopes:scopeset,binding:binding,alias:_ramdaFantasy.Maybe.of(forwardStx)}))}else{this._map.set(stxName,_immutable.List.of({scopes:scopeset,binding:binding,alias:_ramdaFantasy.Maybe.of(forwardStx)}))}}get(stx){return this._map.get(stx.token.value)}}exports.default=BindingMap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _termExpander=__webpack_require__(22);var _termExpander2=_interopRequireDefault(_termExpander);var _tokenExpander=__webpack_require__(78);var _tokenExpander2=_interopRequireDefault(_tokenExpander);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _multimap=__webpack_require__(39);var _multimap2=_interopRequireDefault(_multimap);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class Compiler{constructor(phase,env,store,context){this.phase=phase;this.env=env;this.store=store;this.invokedRegistry=new _multimap2.default;this.context=context}compile(stxl){let tokenExpander=new _tokenExpander2.default(_.merge(this.context,{phase:this.phase,env:this.env,store:this.store,invokedRegistry:this.invokedRegistry}));let termExpander=new _termExpander2.default(_.merge(this.context,{phase:this.phase,env:this.env,store:this.store,invokedRegistry:this.invokedRegistry}));return tokenExpander.expand(stxl).map(t=>termExpander.expand(t))}}exports.default=Compiler},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.processTemplate=processTemplate;exports.replaceTemplate=replaceTemplate;var _immutable=__webpack_require__(1);var _ramda=__webpack_require__(0);var _ramda2=_interopRequireDefault(_ramda);var _errors=__webpack_require__(9);var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const isDolar=s=>s instanceof T.RawSyntax&&typeof s.value.match==="function"&&s.value.match("identifier")&&s.value.val()==="$";const isDelimiter=s=>s instanceof T.RawDelimiter;const isBraces=s=>s instanceof T.RawDelimiter&&s.kind==="braces";const isParens=s=>s instanceof T.RawDelimiter&&s.kind==="parens";const isBrackets=s=>s instanceof T.RawDelimiter&&s.kind==="brackets";const mkDelimiter=(kind,inner,from)=>{return new T.RawDelimiter({kind:kind,inner:_immutable.List.of(from.inner.first()).concat(inner).concat(from.inner.last())})};const insertIntoDelimiter=_ramda2.default.cond([[isBraces,(s,r)=>mkDelimiter("braces",r,s)],[isParens,(s,r)=>mkDelimiter("parens",r,s)],[isBrackets,(s,r)=>mkDelimiter("brackets",r,s)]]);const process=(acc,s)=>{if(isBraces(s)&&isDolar(acc.template.last())){let idx=_syntax2.default.fromNumber(acc.interp.size,s.inner.first().value);return{template:acc.template.push(mkDelimiter("braces",_immutable.List.of(new T.RawSyntax({value:idx})),s)),interp:acc.interp.push(s.inner.slice(1,s.inner.size-1))}}else if(isDelimiter(s)){let innerResult=processTemplate(s.inner.slice(1,s.inner.size-1),acc.interp);return{template:acc.template.push(insertIntoDelimiter(s,innerResult.template)),interp:innerResult.interp}}else{return{template:acc.template.push(s),interp:acc.interp}}};function getLineNumber(t){if(t instanceof T.RawSyntax){return t.value.lineNumber()}return t.inner.first().value.lineNumber()}function setLineNumber(t,lineNumber){if(t instanceof T.RawSyntax){return t.extend({value:t.value.setLineNumber(lineNumber)})}else if(t instanceof T.RawDelimiter){return t.extend({inner:t.inner.map(tt=>setLineNumber(tt,lineNumber))})}else if(_immutable.List.isList(t)){return t.map(tt=>setLineNumber(tt,lineNumber))}return t}function cloneLineNumber(to,from){if(from&&to){return setLineNumber(to,getLineNumber(from))}return to}const replace=(acc,s)=>{let last=acc.template.get(-1);let beforeLast=acc.template.get(-2);if(isBraces(s)&&isDolar(last)){let index=s.inner.get(1).value.val();(0,_errors.assert)(acc.rep.size>index,"unknown replacement value");let replacement=cloneLineNumber(acc.rep.get(index),beforeLast);return{template:acc.template.pop().concat(replacement),rep:acc.rep}}else if(isDelimiter(s)){let innerResult=replaceTemplate(s.inner.slice(1,s.inner.size-1),acc.rep);return{template:acc.template.push(insertIntoDelimiter(s,innerResult)),rep:acc.rep}}else{return{template:acc.template.push(s),rep:acc.rep}}};function processTemplate(temp,interp=(0,_immutable.List)()){return temp.reduce(process,{template:(0,_immutable.List)(),interp:interp})}function replaceTemplate(temp,rep){return temp.reduce(replace,{template:(0,_immutable.List)(),rep:rep}).template}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.wrapInTerms=wrapInTerms;var _errors=__webpack_require__(9);var _immutable=__webpack_require__(1);var _enforester=__webpack_require__(23);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _scopeReducer=__webpack_require__(10);var _scopeReducer2=_interopRequireDefault(_scopeReducer);var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var S=_interopRequireWildcard(_sweetSpec);var _tokens=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function wrapInTerms(stx){return stx.map(s=>{if((0,_tokens.isTemplate)(s)){if(s.items){s.items=wrapInTerms(s.items);return new T.RawSyntax({value:new _syntax2.default(s)})}return new T.RawSyntax({value:new _syntax2.default(s)})}else if((0,_tokens.isDelimiter)(s)){return new S.RawDelimiter({kind:(0,_tokens.getKind)(s),inner:wrapInTerms(s)})}return new S.RawSyntax({value:new _syntax2.default(s)})})}const privateData=new WeakMap;function cloneEnforester(enf){const{rest:rest,prev:prev,context:context}=enf;return new _enforester.Enforester(rest,prev,context)}function Marker(){}class MacroContext{constructor(enf,name,context,useScope,introducedScope){const startMarker=new Marker;const startEnf=cloneEnforester(enf);const priv={name:name,context:context,enf:startEnf,startMarker:startMarker,markers:new Map([[startMarker,enf]])};if(useScope&&introducedScope){priv.noScopes=false;priv.useScope=useScope;priv.introducedScope=introducedScope}else{priv.noScopes=true}privateData.set(this,priv);this.reset();this[Symbol.iterator]=(()=>this)}name(){const{name:name}=privateData.get(this);return new T.RawSyntax({value:name})}contextify(delim){if(!(delim instanceof T.RawDelimiter)){throw new Error(`Can only contextify a delimiter but got ${delim}`)}const{context:context}=privateData.get(this);let enf=new _enforester.Enforester(delim.inner.slice(1,delim.inner.size-1),(0,_immutable.List)(),context);return new MacroContext(enf,"inner",context)}expand(type){const{enf:enf}=privateData.get(this);if(enf.rest.size===0){return{done:true,value:null}}enf.expandMacro();let originalRest=enf.rest;let value;switch(type){case"AssignmentExpression":case"expr":value=enf.enforestExpressionLoop();break;case"Expression":value=enf.enforestExpression();break;case"Statement":case"stmt":value=enf.enforestStatement();break;case"BlockStatement":case"WhileStatement":case"IfStatement":case"ForStatement":case"SwitchStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"WithStatement":case"TryStatement":case"ThrowStatement":case"ClassDeclaration":case"FunctionDeclaration":case"LabeledStatement":case"VariableDeclarationStatement":case"ReturnStatement":case"ExpressionStatement":value=enf.enforestStatement();(0,_errors.expect)(_.whereEq({type:type},value),`Expecting a ${type}`,value,originalRest);break;case"YieldExpression":value=enf.enforestYieldExpression();break;case"ClassExpression":value=enf.enforestClass({isExpr:true});break;case"ArrowExpression":value=enf.enforestArrowExpression();break;case"NewExpression":value=enf.enforestNewExpression();break;case"ThisExpression":case"FunctionExpression":case"IdentifierExpression":case"LiteralNumericExpression":case"LiteralInfinityExpression":case"LiteralStringExpression":case"TemplateExpression":case"LiteralBooleanExpression":case"LiteralNullExpression":case"LiteralRegExpExpression":case"ObjectExpression":case"ArrayExpression":value=enf.enforestPrimaryExpression();break;case"UnaryExpression":case"UpdateExpression":case"BinaryExpression":case"StaticMemberExpression":case"ComputedMemberExpression":case"CompoundAssignmentExpression":case"ConditionalExpression":value=enf.enforestExpressionLoop();(0,_errors.expect)(_.whereEq({type:type},value),`Expecting a ${type}`,value,originalRest);break;default:throw new Error("Unknown term type: "+type)}return{done:false,value:value}}_rest(enf){const priv=privateData.get(this);if(priv.markers.get(priv.startMarker)===enf){return priv.enf.rest}throw Error("Unauthorized access!")}reset(marker){const priv=privateData.get(this);let enf;if(marker==null){enf=priv.markers.get(priv.startMarker)}else if(marker&&marker instanceof Marker){if(priv.markers.has(marker)){enf=priv.markers.get(marker)}else{throw new Error("marker must originate from this context")}}else{throw new Error("marker must be an instance of Marker")}priv.enf=cloneEnforester(enf)}mark(){const priv=privateData.get(this);let marker;if(priv.enf.rest===priv.markers.get(priv.startMarker).rest){marker=priv.startMarker}else if(priv.enf.rest.isEmpty()){if(!priv.endMarker)priv.endMarker=new Marker;marker=priv.endMarker}else{marker=new Marker}if(!priv.markers.has(marker)){priv.markers.set(marker,cloneEnforester(priv.enf))}return marker}next(){const{enf:enf,noScopes:noScopes,useScope:useScope,introducedScope:introducedScope,context:context}=privateData.get(this);if(enf.rest.size===0){return{done:true,value:null}}let value=enf.advance();if(!noScopes){value=value.reduce(new _scopeReducer2.default([{scope:useScope,phase:_syntax.ALL_PHASES,flip:false},{scope:introducedScope,phase:_syntax.ALL_PHASES,flip:true}],context.bindings))}return{done:false,value:value}}}exports.default=MacroContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _immutable=__webpack_require__(1);class Multimap extends Map{add(key,value){let bucket=this.get(key);if(bucket!=null){this.set(key,bucket.push(value))}else{this.set(key,_immutable.List.of(value))}}containsAt(key,value){let bucket=this.get(key);if(bucket!=null){return bucket.contains(value)}return false}}exports.default=Multimap},function(module,exports,__webpack_require__){__webpack_require__(41);const sweet=__webpack_require__(46);const objs=__webpack_require__(83);const objsHelpers=__webpack_require__(84);const helpers=__webpack_require__(85);const allHelpers=objsHelpers+"\n"+helpers;const options={compress:{reduce_funcs:false,unused:false}};module.exports=(code=>UglifyJS.minify(sweet.compile(objs+"\n"+code,allHelpers).code,options).code)},function(module,exports,__webpack_require__){(function(global,Buffer){!function(e){"use strict";function n(e){return e.split("")}function t(e,n){return n.indexOf(e)>=0}function i(e,n){for(var t=0,i=n.length;t<i;++t)if(e(n[t]))return n[t]}function r(e,n){if(n<=0)return"";if(1==n)return e;var t=r(e,n>>1);return t+=t,1&n&&(t+=e),t}function o(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function a(e,n){this.message=e,this.defs=n}function u(e,n,t){!0===e&&(e={});var i=e||{};if(t)for(var r in i)y(i,r)&&!y(n,r)&&a.croak("`"+r+"` is not a supported option",n);for(var r in n)y(n,r)&&(i[r]=e&&y(e,r)?e[r]:n[r]);return i}function s(e,n){var t=0;for(var i in n)y(n,i)&&(e[i]=n[i],t++);return t}function c(){}function f(){return!1}function l(){return!0}function p(){return this}function d(){return null}function h(e,n){e.indexOf(n)<0&&e.push(n)}function m(e,n){return e.replace(/\{(.+?)\}/g,function(e,t){return n&&n[t]})}function _(e,n){for(var t=e.length;--t>=0;)e[t]===n&&e.splice(t,1)}function v(e,n){function t(e){if(e.length<=1)return e;var i=Math.floor(e.length/2),r=e.slice(0,i),o=e.slice(i);return r=t(r),o=t(o),function(e,t){for(var i=[],r=0,o=0,a=0;r<e.length&&o<t.length;)n(e[r],t[o])<=0?i[a++]=e[r++]:i[a++]=t[o++];return r<e.length&&i.push.apply(i,e.slice(r)),o<t.length&&i.push.apply(i,t.slice(o)),i}(r,o)}return e.length<2?e.slice():t(e)}function D(e){function n(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(e){switch(e){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return e})}function t(e){if(1==e.length)return i+="return str === "+n(e[0])+";";i+="switch(str){";for(var t=0;t<e.length;++t)i+="case "+n(e[t])+":";i+="return true}return false;"}e instanceof Array||(e=e.split(" "));var i="",r=[];e:for(var o=0;o<e.length;++o){for(var a=0;a<r.length;++a)if(r[a][0].length==e[o].length){r[a].push(e[o]);continue e}r.push([e[o]])}if(r.length>3){r.sort(function(e,n){return n.length-e.length}),i+="switch(str.length){";for(o=0;o<r.length;++o){var u=r[o];i+="case "+u[0].length+":",t(u)}i+="}"}else t(e);return new Function("str",i)}function g(e,n){for(var t=e.length;--t>=0;)if(!n(e[t]))return!1;return!0}function b(){this._values=Object.create(null),this._size=0}function y(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function E(e){for(var n,t=e.parent(-1),i=0;n=e.parent(i);i++){if(n instanceof Q&&n.body===t)return!0;if(!(n instanceof Qe&&n.expressions[0]===t||n instanceof Ze&&n.expression===t&&!(n instanceof Ke)||n instanceof nn&&n.expression===t||n instanceof tn&&n.expression===t||n instanceof sn&&n.condition===t||n instanceof un&&n.left===t||n instanceof an&&n.expression===t))return!1;t=n}}function A(n,t,i,r){arguments.length<4&&(r=K);var o=t=t?t.split(/\s+/):[];r&&r.PROPS&&(t=t.concat(r.PROPS));for(var a="return function AST_"+n+"(props){ if (props) { ",u=t.length;--u>=0;)a+="this."+t[u]+" = props."+t[u]+";";var s=r&&new r;(s&&s.initialize||i&&i.initialize)&&(a+="this.initialize();"),a+="}}";var c=new Function(a)();if(s&&(c.prototype=s,c.BASE=r),r&&r.SUBCLASSES.push(c),c.prototype.CTOR=c,c.PROPS=t||null,c.SELF_PROPS=o,c.SUBCLASSES=[],n&&(c.prototype.TYPE=c.TYPE=n),i)for(u in i)y(i,u)&&(/^\$/.test(u)?c[u.substr(1)]=i[u]:c.prototype[u]=i[u]);return c.DEFMETHOD=function(e,n){this.prototype[e]=n},void 0!==e&&(e["AST_"+n]=c),c}function F(e,n){var t=e.body;if(t instanceof K)t._walk(n);else for(var i=0,r=t.length;i<r;i++)t[i]._walk(n)}function w(e){this.visit=e,this.stack=[],this.directives=Object.create(null)}function x(e,n){var t=e.charAt(n);if(C(t)){var i=e.charAt(n+1);if(k(i))return t+i}if(k(t)){var r=e.charAt(n-1);if(C(r))return r+t}return t}function C(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e>=55296&&e<=56319}function k(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e>=56320&&e<=57343}function B(e){return e>=48&&e<=57}function S(e){return"string"==typeof e&&!ut(e)}function T(e){var n=e.charCodeAt(0);return Et.ID_Start.test(e)||36==n||95==n}function $(e){var n=e.charCodeAt(0);return Et.ID_Continue.test(e)||36==n||95==n||8204==n||8205==n}function O(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function M(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function q(e,n,t,i,r){throw new M(e,n,t,i,r)}function z(e,n,t){return e.type==n&&(null==t||e.value==t)}function N(e,n,t,i){function r(){return x(F.text,F.pos)}function o(e,n){var t=x(F.text,F.pos++);if(e&&!t)throw At;return Dt(t)?(F.newline_before=F.newline_before||!n,++F.line,F.col=0,n||"\r"!=t||"\n"!=r()||(++F.pos,t="\n")):(t.length>1&&(++F.pos,++F.col),++F.col),t}function a(e){for(;e-- >0;)o()}function u(e){return F.text.substr(F.pos,e.length)==e}function s(e,n){var t=F.text.indexOf(e,F.pos);if(n&&-1==t)throw At;return t}function c(){F.tokline=F.line,F.tokcol=F.col,F.tokpos=F.pos}function f(t,i,r){F.regex_allowed="operator"==t&&!wt(i)||"keyword"==t&&st(i)||"punc"==t&&bt(i)||"arrow"==t,"punc"==t&&"."==i?w=!0:r||(w=!1);var o={type:t,value:i,line:F.tokline,col:F.tokcol,pos:F.tokpos,endline:F.line,endcol:F.col,endpos:F.pos,nlb:F.newline_before,file:n};if(/^(?:num|string|regexp)$/i.test(t)&&(o.raw=e.substring(o.pos,o.endpos)),!r){o.comments_before=F.comments_before,F.comments_before=[];for(var a=0,u=o.comments_before.length;a<u;a++)o.nlb=o.nlb||o.comments_before[a].nlb}return F.newline_before=!1,new Z(o)}function l(){for(;vt(r());)o()}function p(e){q(e,n,F.tokline,F.tokcol,F.tokpos)}function d(e){var n=!1,t=!1,i=!1,a="."==e,u=function(e){for(var n,t="",i=0;(n=r())&&e(n,i++);)t+=o();return t}(function(r,o){switch(r.charCodeAt(0)){case 98:case 66:return i=!0;case 111:case 79:case 120:case 88:return!i&&(i=!0);case 101:case 69:return!!i||!n&&(n=t=!0);case 45:return t||0==o&&!e;case 43:return t;case t=!1,46:return!(a||i||n)&&(a=!0)}return ft.test(r)});e&&(u=e+u),pt.test(u)&&A.has_directive("use strict")&&p("Legacy octal literals are not allowed in strict mode");var s=function(e){if(lt.test(e))return parseInt(e.substr(2),16);if(pt.test(e))return parseInt(e.substr(1),8);if(dt.test(e))return parseInt(e.substr(2),8);if(ht.test(e))return parseInt(e.substr(2),2);if(mt.test(e))return parseFloat(e);var n=parseFloat(e);return n==e?n:void 0}(u);if(!isNaN(s))return f("num",s);p("Invalid syntax: "+u)}function h(e){var n=o(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(m(2));case 117:if("{"==r()){for(o(!0),"}"===r()&&p("Expecting hex-character between {}");"0"==r();)o(!0);var t,i=s("}",!0)-F.pos;return(i>6||(t=m(i))>1114111)&&p("Unicode reference out of bounce"),o(!0),function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)}(t)}return String.fromCharCode(m(4));case 10:return"";case 13:if("\n"==r())return o(!0,e),""}return n>="0"&&n<="7"?function(e){var n=r();n>="0"&&n<="7"&&(e+=o(!0))[0]<="3"&&(n=r())>="0"&&n<="7"&&(e+=o(!0));if("0"===e)return"\0";e.length>0&&A.has_directive("use strict")&&p("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n):n}function m(e){for(var n=0;e>0;--e){var t=parseInt(o(!0),16);isNaN(t)&&p("Invalid hex-character pattern in string"),n=n<<4|t}return n}function _(e){var n,t=F.regex_allowed,i=function(){for(var e=F.text,n=F.pos,t=F.text.length;n<t;++n){var i=e[n];if(Dt(i))return n}return-1}();return-1==i?(n=F.text.substr(F.pos),F.pos=F.text.length):(n=F.text.substring(F.pos,i),F.pos=i),F.col=F.tokcol+(F.pos-F.tokpos),F.comments_before.push(f(e,n,!0)),F.regex_allowed=t,A}function v(e){function n(e){if(!r())return e;var t=e+r();return _t(t)?(o(),n(t)):e}return f("operator",n(e||o()))}function D(){switch(o(),r()){case"/":return o(),_("comment1");case"*":return o(),M()}return F.regex_allowed?N(""):v("/")}function g(){return o(),">"===r()?(o(),f("arrow","=>")):v("=")}function b(){return o(),B(r().charCodeAt(0))?d("."):"."===r()?(o(),o(),f("expand","...")):f("punc",".")}function y(){var e=z();return w?f("name",e):at(e)?f("atom",e):ot(e)?_t(e)?f("operator",e):f("keyword",e):f("name",e)}function E(e,n){return function(t){try{return n(t)}catch(n){if(n!==At)throw n;p(e)}}}function A(e){if(null!=e)return N(e);for(i&&0==F.pos&&u("#!")&&(c(),a(2),_("comment5"));;){if(l(),c(),t){if(u("\x3c!--")){a(4),_("comment3");continue}if(u("--\x3e")&&F.newline_before){a(3),_("comment4");continue}}var n=r();if(!n)return f("eof");var s=n.charCodeAt(0);switch(s){case 34:case 39:return S(n);case 46:return b();case 47:var h=D();if(h===A)continue;return h;case 61:return g();case 96:return O(!0);case 123:F.brace_counter++;break;case 125:if(F.brace_counter--,F.template_braces.length>0&&F.template_braces[F.template_braces.length-1]===F.brace_counter)return O(!1)}if(B(s))return d();if(yt(n))return f("punc",o());if(ct(n))return v();if(92==s||T(n))return y();break}p("Unexpected character '"+n+"'")}var F={text:e,filename:n,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,brace_counter:0,template_braces:[],comments_before:[],directives:{},directive_stack:[]},w=!1,S=E("Unterminated string constant",function(e){for(var n=o(),t="";;){var i=o(!0,!0);if("\\"==i)i=h(!0);else if(Dt(i))p("Unterminated string constant");else if(i==n)break;t+=i}var r=f("string",t);return r.quote=e,r}),O=E("Unterminated template",function(e){e&&F.template_braces.push(F.brace_counter);var n,t,i="",a="";for(o(!0,!0);"`"!=(n=o(!0,!0));){if("\r"==n)"\n"==r()&&++F.pos,n="\n";else if("$"==n&&"{"==r())return o(!0,!0),F.brace_counter++,t=f(e?"template_head":"template_substitution",i),t.begin=e,t.raw=a,t.end=!1,t;if(a+=n,"\\"==n){var u=F.pos;n=h(),a+=F.text.substr(u,F.pos-u)}i+=n}return F.template_braces.pop(),t=f(e?"template_head":"template_substitution",i),t.begin=e,t.raw=a,t.end=!0,t}),M=E("Unterminated multiline comment",function(){var e=F.regex_allowed,n=s("*/",!0),t=F.text.substring(F.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return a(function(e){for(var n=0,t=0;t<e.length;t++)C(e.charCodeAt(t))&&k(e.charCodeAt(t+1))&&(n++,t++);return e.length-n}(t)+2),F.comments_before.push(f("comment2",t,!0)),F.newline_before=F.newline_before||t.indexOf("\n")>=0,F.regex_allowed=e,A}),z=E("Unterminated identifier name",function(){var e,n="",t=!1,i=function(){return t=!0,o(),"u"!==r()&&p("Expecting UnicodeEscapeSequence -- uXXXX or u{XXXX}"),h()};if("\\"===(n=r()))T(n=i())||p("First identifier char is an invalid identifier char");else{if(!T(n))return"";o()}for(;null!=(e=r());){if("\\"===(e=r()))$(e=i())||p("Invalid escaped identifier char");else{if(!$(e))break;o()}n+=e}return ut(n)&&t&&p("Escaped characters are not allowed in keywords"),n}),N=E("Unterminated regular expression",function(e){for(var n,t=!1,i=!1;n=o(!0);)if(Dt(n))p("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=z();try{var a=new RegExp(e,r);return a.raw_source=e,f("regexp",a)}catch(e){p(e.message)}});return A.next=o,A.peek=r,A.context=function(e){return e&&(F=e),F},A.add_directive=function(e){F.directive_stack[F.directive_stack.length-1].push(e),void 0===F.directives[e]?F.directives[e]=1:F.directives[e]++},A.push_directives_stack=function(){F.directive_stack.push([])},A.pop_directives_stack=function(){for(var e=F.directive_stack[F.directive_stack.length-1],n=0;n<e.length;n++)F.directives[e[n]]--;F.directive_stack.pop()},A.has_directive=function(e){return F.directives[e]>0},A}function j(e,n){function t(e,n){return z(X.token,e,n)}function r(){return X.peeked||(X.peeked=X.input())}function o(){return X.prev=X.token,X.peeked?(X.token=X.peeked,X.peeked=null):X.token=X.input(),X.in_directives=X.in_directives&&("string"==X.token.type||t("punc",";")),X.token}function a(){return X.prev}function s(e,n,t,i){var r=X.input.context();q(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function c(e,n){s(n,e.line,e.col)}function f(e){null==e&&(e=X.token),c(e,"Unexpected token: "+e.type+" ("+e.value+")")}function l(e,n){if(t(e,n))return o();c(X.token,"Unexpected token "+X.token.type+" «"+X.token.value+"», expected "+e+" «"+n+"»")}function p(e){return l("punc",e)}function d(){return!n.strict&&(X.token.nlb||t("eof")||t("punc","}"))}function h(){return X.in_generator===X.in_function}function m(){return X.in_async===X.in_function}function _(e){t("punc",";")?o():e||d()||f()}function v(){p("(");var e=wn(!0);return p(")"),e}function D(e){return function(){var n=X.token,t=e.apply(null,arguments),i=a();return t.start=n,t.end=i,t}}function g(){(t("operator","/")||t("operator","/="))&&(X.peeked=null,X.token=X.input(X.token.value.substr(1)))}function b(e){return new te({body:(e=wn(!0),_(),e)})}function y(e){var n,t=null;d()||(t=L(Rn,!0)),null!=t?((n=i(function(e){return e.name==t.name},X.labels))||s("Undefined label "+t.name),t.thedef=n):0==X.in_loop&&s(e.TYPE+" not inside a loop or switch"),_();var r=new e({label:t});return n&&n.references.push(r),r}function E(){p("(");var e=null;if(!t("punc",";")){e=t("keyword","var")?(o(),Q(!0)):t("keyword","let")?(o(),ie(!0)):t("keyword","const")?(o(),ae(!0)):wn(!0,!0);var n=t("operator","in"),i=t("name","of");if(n||i)return e instanceof Pe?e.definitions.length>1&&s("Only one variable declaration allowed in for..in loop",e.start.line,e.start.col,e.start.pos):Y(e)||(e=W(e))instanceof Fe||s("Invalid left-hand side in for..in loop",e.start.line,e.start.col,e.start.pos),o(),n?function(e){var n=e instanceof Pe?e.definitions[0].name:null,t=wn(!0);return p(")"),new de({init:e,name:n,object:t,body:J(G)})}(e):function(e){var n=e instanceof Pe?e.definitions[0].name:null,t=wn(!0);return p(")"),new he({init:e,name:n,object:t,body:J(G)})}(e)}return function(e){p(";");var n=t("punc",";")?null:wn(!0);p(";");var i=t("punc",")")?null:wn(!0);return p(")"),new pe({init:e,condition:n,step:i,body:J(G)})}(e)}function A(e,n){var t={},i=!1,r=!1,o=!1,a=!!n,u={add_parameter:function(n){if(void 0!==t["$"+n.value])!1===i&&(i=n),u.check_strict();else if(t["$"+n.value]=!0,e)switch(n.value){case"arguments":case"eval":case"yield":a&&c(n,"Unexpected "+n.value+" identifier as parameter inside strict mode");break;default:ut(n.value)&&f()}},mark_default_assignment:function(e){!1===r&&(r=e)},mark_spread:function(e){!1===o&&(o=e)},mark_strict_mode:function(){a=!0},is_strict:function(){return!1!==r||!1!==o||a},check_strict:function(){u.is_strict()&&!1!==i&&c(i,"Parameter "+i.value+" was used already")}};return u}function F(e,n){var i,r=!1;return void 0===e&&(e=A(!0,X.input.has_directive("use strict"))),t("expand","...")&&(r=X.token,e.mark_spread(X.token),o()),i=w(e,n),t("operator","=")&&!1===r&&(e.mark_default_assignment(X.token),o(),i=new fn({start:i.start,left:i,operator:"=",right:wn(!1),end:X.token})),!1!==r&&(t("punc",")")||f(),i=new De({start:r,expression:i,end:r})),e.check_strict(),i}function w(e,n){var i,u=[],c=!0,l=!1,d=X.token;if(void 0===e&&(e=A(!1,X.input.has_directive("use strict"))),n=void 0===n?kn:n,t("punc","[")){for(o();!t("punc","]");){if(c?c=!1:p(","),t("expand","...")&&(l=!0,i=X.token,e.mark_spread(X.token),o()),t("punc"))switch(X.token.value){case",":u.push(new Kn({start:X.token,end:X.token}));continue;case"]":break;case"[":case"{":u.push(w(e,n));break;default:f()}else t("name")?(e.add_parameter(X.token),u.push(new n({start:X.token,name:X.token.value,end:X.token})),o()):s("Invalid function parameter");t("operator","=")&&!1===l&&(e.mark_default_assignment(X.token),o(),u[u.length-1]=new fn({start:u[u.length-1].start,left:u[u.length-1],operator:"=",right:wn(!1),end:X.token})),l&&(t("punc","]")||s("Rest element must be last element"),u[u.length-1]=new De({start:i,expression:u[u.length-1],end:i}))}return p("]"),e.check_strict(),new Fe({start:d,names:u,is_array:!0,end:a()})}if(t("punc","{")){for(o();!t("punc","}");){if(c?c=!1:p(","),t("expand","...")&&(l=!0,i=X.token,e.mark_spread(X.token),o()),t("name")&&(z(r(),"punc")||z(r(),"operator"))&&-1!==[",","}","="].indexOf(r().value)){e.add_parameter(X.token);var h=new n({start:X.token,name:X.token.value,end:X.token});l?u.push(new De({start:i,expression:h,end:h.end})):u.push(new hn({start:a(),key:X.token.value,value:h,end:h.end})),o()}else{if(t("punc","}"))continue;var m=X.token,_=R();null===_?f(a()):"name"!==a().type||t("punc",":")?(p(":"),u.push(new hn({start:m,quote:m.quote,key:_,value:w(e,n),end:a()}))):u.push(new hn({start:a(),key:_,value:new n({start:a(),name:_,end:a()}),end:a()}))}l?t("punc","}")||s("Rest element must be last element"):t("operator","=")&&(e.mark_default_assignment(X.token),o(),u[u.length-1].value=new fn({start:u[u.length-1].value.start,left:u[u.length-1].value,operator:"=",right:wn(!1),end:X.token}))}return p("}"),e.check_strict(),new Fe({start:d,names:u,is_array:!1,end:a()})}if(t("name"))return e.add_parameter(X.token),o(),new n({start:a(),name:a().value,end:a()});s("Invalid function parameter")}function x(e,n,t,i,r){var o=X.in_loop,a=X.labels,u=X.in_generator,s=X.in_async;if(++X.in_function,n&&(X.in_generator=X.in_function),t&&(X.in_async=X.in_function),e&&(X.in_directives=!0),X.in_loop=0,X.labels=[],e){X.input.push_directives_stack();var c=C();X.input.has_directive("use strict")&&(i&&P(i),r&&r.forEach(P)),X.input.pop_directives_stack()}else c=wn(!1);return--X.in_function,X.in_loop=o,X.labels=a,X.in_generator=u,X.in_async=s,c}function C(){p("{");for(var e=[];!t("punc","}");)t("eof")&&f(),e.push(G());return o(),e}function k(){p("{");for(var e,n=[],i=null,r=null;!t("punc","}");)t("eof")&&f(),t("keyword","case")?(r&&(r.end=a()),i=[],r=new He({start:(e=X.token,o(),e),expression:wn(!0),body:i}),n.push(r),p(":")):t("keyword","default")?(r&&(r.end=a()),i=[],r=new je({start:(e=X.token,o(),p(":"),e),body:i}),n.push(r)):(i||f(),i.push(G()));return r&&(r.end=a()),o(),n}function B(e,n){for(var i,r=[];;){var u="var"===n?Fn:"const"===n?xn:"let"===n?Cn:null;if(t("punc","{")||t("punc","[")?i=new Ge({start:X.token,name:w(void 0,u),value:t("operator","=")?(l("operator","="),wn(!1,e)):null,end:a()}):"import"==(i=new Ge({start:X.token,name:L(u),value:t("operator","=")?(o(),wn(!1,e)):!e&&"const"===n&&X.input.has_directive("use strict")?s("Missing initializer in const declaration"):null,end:a()})).name.name&&s("Unexpected token: import"),r.push(i),!t("punc",","))break;o()}return r}function S(){var e,n=X.token;switch(n.type){case"name":e=U(jn);break;case"num":e=new Yn({start:n,end:n,value:n.value});break;case"string":e=new Vn({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new Wn({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new nt({start:n,end:n});break;case"true":e=new tt({start:n,end:n});break;case"null":e=new Xn({start:n,end:n})}}return o(),e}function T(e,n,t,i){var r=function(e,n){return n?new fn({start:e.start,left:e,operator:"=",right:n,end:n.end}):e};return e instanceof pn?r(new Fe({start:e.start,end:e.end,is_array:!1,names:e.properties.map(T)}),i):e instanceof hn?(e.value=T(e.value,0,[e.key]),r(e,i)):e instanceof Kn?e:e instanceof Fe?(e.names=e.names.map(T),r(e,i)):e instanceof jn?r(new kn({name:e.name,start:e.start,end:e.end}),i):e instanceof De?(e.expression=T(e.expression),r(e,i)):e instanceof ln?r(new Fe({start:e.start,end:e.end,is_array:!0,names:e.elements.map(T)}),i):e instanceof cn?r(T(e.left,void 0,void 0,e.right),i):e instanceof fn?(e.left=T(e.left,0,[e.left]),e):void s("Invalid function parameter",e.start.line,e.start.col)}function $(){var e=[],n=X.token;for(e.push(new Ce({start:X.token,raw:X.token.raw,value:X.token.value,end:X.token}));!1===X.token.end;)o(),g(),e.push(wn(!0)),z("template_substitution")||f(),e.push(new Ce({start:X.token,raw:X.token.raw,value:X.token.value,end:X.token}));return o(),new xe({start:n,segments:e,end:X.token})}function O(e,n,i){for(var r=!0,u=[];!t("punc",e)&&(r?r=!1:p(","),!n||!t("punc",e));)t("punc",",")&&i?u.push(new Kn({start:X.token,end:X.token})):t("expand","...")?(o(),u.push(new De({start:a(),expression:wn(),end:X.token}))):u.push(wn(!1));return o(),u}function M(e){var n,i,r,u,s=[];for(X.input.push_directives_stack(),X.input.add_directive("use strict"),"name"==X.token.type&&"extends"!=X.token.value&&(r=L(e===gn?$n:On)),e!==gn||r||f(),"extends"==X.token.value&&(o(),u=wn(!0)),p("{"),t("punc",";")&&o();!t("punc","}");)n=X.token,(i=j(R(),n,!0))||f(),s.push(i),t("punc",";")&&o();return X.input.pop_directives_stack(),o(),new e({start:n,name:r,extends:u,properties:s,end:a()})}function j(e,n,i){var r=function(e,n){return"string"==typeof e||"number"==typeof e?new Sn({start:n,name:e,end:a()}):(null===e&&f(),e)},o=!1,u=!1,s=!1,c=n;if(i&&"static"===e&&!t("punc","(")&&(u=!0,c=X.token,e=R()),"async"!==e||t("punc","(")||t("punc",",")||t("punc","}")||(o=!0,c=X.token,e=R()),null===e&&(s=!0,c=X.token,null===(e=R())&&f()),t("punc","(")){e=r(e,n);return new vn({start:n,static:u,is_generator:s,async:o,key:e,quote:e instanceof Sn?c.quote:void 0,value:ge(s,o),end:a()})}if(c=X.token,"get"==e){if(!t("punc")||t("punc","["))return e=r(R(),n),new _n({start:n,static:u,key:e,quote:e instanceof Sn?c.quote:void 0,value:ge(),end:a()})}else if("set"==e&&(!t("punc")||t("punc","[")))return e=r(R(),n),new mn({start:n,static:u,key:e,quote:e instanceof Sn?c.quote:void 0,value:ge(),end:a()})}function H(e){function n(e){return new e({name:R(),start:a(),end:a()})}var i,r,u=e?zn:In,s=e?qn:Hn,c=X.token;return e?i=n(u):r=n(s),t("name","as")?(o(),e?r=n(s):i=n(u)):e?r=new s(i):i=new u(r),new We({start:c,foreign_name:i,name:r,end:a()})}function I(e){var n;if(t("punc","{")){for(o(),n=[];!t("punc","}");)n.push(H(e)),t("punc",",")&&o();o()}else if(t("operator","*")){var i;o(),e&&t("name","as")&&(o(),i=L(zn)),n=[function(e,n){var t,i=e?zn:In,r=e?qn:Hn,o=X.token,u=a();return n=n||new r({name:"*",start:o,end:u}),t=new i({name:"*",start:o,end:u}),new We({start:o,foreign_name:t,name:n,end:u})}(e,i)]}return n}function R(){var e=X.token;switch(e.type){case"punc":if("["===e.value){o();var n=wn(!1);return p("]"),n}f(e);case"operator":if("*"===e.value)return o(),null;-1===["delete","in","instanceof","new","typeof","void"].indexOf(e.value)&&f(e);case"name":"yield"!=e.value||z(r(),"punc",":")||z(r(),"punc","(")||!X.input.has_directive("use strict")||h()||c(e,"Unexpected yield identifier inside strict mode");case"string":case"num":case"keyword":case"atom":return o(),e.value;default:f(e)}}function U(e){var n=X.token.value;return new("this"==n?Un:"super"==n?Pn:e)({name:String(n),start:X.token,end:X.token})}function P(e){"arguments"!=e.name&&"eval"!=e.name||s("Unexpected "+e.name+" in strict mode",e.start.line,e.start.col,e.start.pos)}function L(e,n){if(!t("name"))return n||s("Name expected"),null;t("name","yield")&&X.input.has_directive("use strict")&&c(X.prev,"Unexpected yield identifier inside strict mode");var i=U(e);return X.input.has_directive("use strict")&&i instanceof An&&P(i),o(),i}function V(e,n,t){var i=n.value;switch(i){case"++":case"--":Y(t)||s("Invalid use of "+i+" operator",n.line,n.col,n.pos);break;case"delete":t instanceof jn&&X.input.has_directive("use strict")&&s("Calling delete on expression not allowed in strict mode",t.start.line,t.start.col,t.start.pos)}return new e({operator:i,expression:t})}function Y(e){return e instanceof en||e instanceof jn}function W(e){if(e instanceof pn)e=new Fe({start:e.start,names:e.properties.map(W),is_array:!1,end:e.end});else if(e instanceof ln){for(var n=[],t=0;t<e.elements.length;t++)e.elements[t]instanceof De&&(t+1!==e.elements.length&&c(e.elements[t].start,"Spread must the be last element in destructuring array"),e.elements[t].expression=W(e.elements[t].expression)),n.push(W(e.elements[t]));e=new Fe({start:e.start,names:n,is_array:!0,end:e.end})}else e instanceof dn?e.value=W(e.value):e instanceof cn&&(e=new fn({start:e.start,left:e.left,operator:"=",right:e.right,end:e.end}));return e}function J(e){++X.in_loop;var n=e();return--X.in_loop,n}n=u(n,{bare_returns:!1,ecma:8,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var X={input:"string"==typeof e?N(e,n.filename,n.html5_comments,n.shebang):e,token:null,prev:null,peeked:null,in_function:0,in_async:-1,in_generator:-1,in_directives:!0,in_loop:0,labels:[]};X.token=o();var G=D(function(){switch(g(),X.token.type){case"string":if(X.in_directives){var e=r();-1==X.token.raw.indexOf("\\")&&(e.nlb||z(e,"eof")||z(e,"punc",";")||z(e,"punc","}"))?X.input.add_directive(X.token.value):X.in_directives=!1}var u=X.in_directives,D=b();return u?new ne(D.body):D;case"template_head":case"num":case"regexp":case"operator":case"atom":return b();case"name":if("async"==X.token.value&&z(r(),"keyword","function"))return o(),o(),K(Ae,!1,!0);if("import"==X.token.value&&!z(r(),"punc","(")){o();var A=function(){var e,n,i=a();t("name")&&(e=L(qn)),t("punc",",")&&o(),((n=I(!0))||e)&&l("name","from");var r=X.token;return"string"!==r.type&&f(),o(),new Je({start:i,imported_name:e,imported_names:n,module_name:new Vn({start:r,value:r.value,quote:r.quote,end:r}),end:X.token})}();return _(),A}return z(r(),"punc",":")?function(){var e=L(Nn);"yield"===e.name&&h()&&c(X.prev,"Yield cannot be used as label inside generators"),"await"===e.name&&m()&&c(X.prev,"await cannot be used as label inside async function"),i(function(n){return n.name==e.name},X.labels)&&s("Label "+e.name+" defined twice"),p(":"),X.labels.push(e);var n=G();return X.labels.pop(),n instanceof se||e.references.forEach(function(n){n instanceof Me&&(n=n.label.start,s("Continue label `"+e.name+"` refers to non-IterationStatement.",n.line,n.col,n.pos))}),new ue({body:n,label:e})}():b();case"punc":switch(X.token.value){case"{":return new re({start:X.token,body:C(),end:a()});case"[":case"(":return b();case";":return X.in_directives=!1,o(),new oe;default:f()}case"keyword":switch(X.token.value){case"break":return o(),y(Oe);case"continue":return o(),y(Me);case"debugger":return o(),_(),new ee;case"do":o();var w=J(G);l("keyword","while");var x=v();return _(!0),new fe({body:w,condition:x});case"while":return o(),new le({condition:v(),body:J(G)});case"for":return o(),E();case"class":return o(),M(gn);case"function":return o(),K(Ae);case"if":return o(),function(){var e=v(),n=G(),i=null;return t("keyword","else")&&(o(),i=G()),new qe({condition:e,body:n,alternative:i})}();case"return":0!=X.in_function||n.bare_returns||s("'return' outside of function"),o();var B=null;return t("punc",";")?o():d()||(B=wn(!0),_()),new Se({value:B});case"switch":return o(),new ze({expression:v(),body:J(k)});case"throw":o(),X.token.nlb&&s("Illegal newline after 'throw'");B=wn(!0);return _(),new Te({value:B});case"try":return o(),function(){var e=C(),n=null,i=null;if(t("keyword","catch")){var r=X.token;o(),p("(");var u=F(void 0,Mn);p(")"),n=new Re({start:r,argname:u,body:C(),end:a()})}t("keyword","finally")&&(r=X.token,o(),i=new Ue({start:r,body:C(),end:a()}));return n||i||s("Missing catch/finally blocks"),new Ie({body:e,bcatch:n,bfinally:i})}();case"var":o();A=Q();return _(),A;case"let":o();A=ie();return _(),A;case"const":o();A=ae();return _(),A;case"with":return X.input.has_directive("use strict")&&s("Strict mode may not include a with statement"),o(),new me({expression:v(),body:G()});case"export":if(!z(r(),"punc","("))return o(),function(){var e,n,i=X.token;if(t("keyword","default"))e=!0,o();else if(n=I(!1)){if(t("name","from")){o();var u=X.token;return"string"!==u.type&&f(),o(),new Xe({start:i,is_default:e,exported_names:n,module_name:new Vn({start:u,value:u.value,quote:u.quote,end:u}),end:a()})}return new Xe({start:i,is_default:e,exported_names:n,end:a()})}var s,c,l;return t("punc","{")||e&&(t("keyword","class")||t("keyword","function"))&&z(r(),"punc")?(c=wn(!1),_()):(s=G())instanceof Pe&&e?f(s.start):s instanceof Pe||s instanceof Ae||s instanceof gn?l=s:s instanceof te?c=s.body:f(s.start),new Xe({start:i,is_default:e,exported_value:c,exported_definition:l,end:a()})}()}}f()}),Z=function(e,n,i){X.token.nlb&&s("Unexpected newline before arrow (=>)"),l("arrow","=>");var r=x(t("punc","{"),!1,i);return new Ee({start:e,end:r.end,async:i,argnames:n,body:r})},K=function(e,i,r){i&&r&&s("generators cannot be async");X.token;var u=e===Ae,c=t("operator","*");c&&o();var l=t("name")?L(u?Bn:Tn):null;u&&!l&&f(),!l||e===be||l instanceof An||f(a());var d=function(){X.token;var e=[],i=A(!0,X.input.has_directive("use strict"));for(p("(");!t("punc",")");){var r=F(i);if(e.push(r),t("punc",")")||(p(","),t("punc",")")&&n.ecma<8&&f()),r instanceof De)break}return o(),e}(),h=x(!0,c||i,r,l,d);return new e({start:d.start,end:h.end,is_generator:c,async:r,name:l,argnames:d,body:h})},Q=function(e){return new Le({start:a(),definitions:B(e,"var"),end:a()})},ie=function(e){return new Ve({start:a(),definitions:B(e,"let"),end:a()})},ae=function(e){return new Ye({start:a(),definitions:B(e,"const"),end:a()})},ce=function(e,i){if(t("operator","new"))return function(e){var i=X.token;if(l("operator","new"),t("punc","."))return o(),l("name","target"),Be(new En({start:i,end:a()}),e);var r,u=ce(!1);return t("punc","(")?(o(),r=O(")",n.ecma>=8)):r=[],Be(new Ke({start:i,expression:u,args:r,end:a()}),e)}(e);var u=X.token,s=t("name","async")&&S();if(t("punc")){switch(X.token.value){case"(":if(s&&!e)break;var c=function(e,i){var r,u,s,c=[];for(p("(");!t("punc",")");)r&&f(r),t("expand","...")?(r=X.token,i&&(u=X.token),o(),c.push(new De({start:a(),expression:wn(),end:X.token}))):c.push(wn()),t("punc",")")||(p(","),t("punc",")")&&(n.ecma<8&&f(),s=a(),i&&(u=s)));return p(")"),e&&t("arrow","=>")?r&&s&&f(s):u&&f(u),c}(i,!s);if(i&&t("arrow","=>"))return Z(u,c.map(T),!!s);var d=s?new Ze({expression:s,args:c}):1==c.length?c[0]:new Qe({expressions:c});return d.start=u,d.end=X.token,Be(d,e);case"[":return Be(_e(),e);case"{":return Be(ke(),e)}s||f()}if(i&&t("name")&&z(r(),"arrow")){var h=new kn({name:X.token.value,start:u,end:u});return o(),Z(u,[h],!!s)}if(t("keyword","function")){o();var m=K(ye,!1,!!s);return m.start=u,m.end=a(),Be(m,e)}if(s)return Be(s,e);if(t("keyword","class")){o();var _=M(bn);return _.start=u,_.end=a(),Be(_,e)}return t("template_head")?Be($(),e):kt(X.token.type)?Be(S(),e):void f()},_e=D(function(){return p("["),new ln({elements:O("]",!n.strict,!0)})}),ge=D(function(e,n){return K(be,e,n)}),ke=D(function(){var e=X.token,i=!0,r=[];for(p("{");!t("punc","}")&&(i?i=!1:p(","),n.strict||!t("punc","}"));)if("expand"!=(e=X.token).type){var u,s=R();if(t("punc",":"))null===s?f(a()):(o(),u=wn(!1));else{var c=j(s,e);if(c){r.push(c);continue}u=new jn({start:a(),name:s,end:a()})}t("operator","=")&&(o(),u=new cn({start:e,left:u,operator:"=",right:wn(!1),end:a()})),r.push(new hn({start:e,quote:e.quote,key:s,value:u,end:a()}))}else o(),r.push(new De({start:e,expression:wn(!1),end:a()}));return o(),new pn({properties:r})}),Be=function(e,n){var i=e.start;if(t("punc","."))return o(),Be(new nn({start:i,expression:e,property:function(){var e=X.token;return"name"!=e.type&&f(),o(),e.value}(),end:a()}),n);if(t("punc","[")){o();var r=wn(!0);return p("]"),Be(new tn({start:i,expression:e,property:r,end:a()}),n)}return n&&t("punc","(")?(o(),Be(new Ze({start:i,expression:e,args:$e(),end:a()}),!0)):t("template_head")?Be(new we({start:i,prefix:e,template_string:$()}),n):e},$e=D(function(){for(var e=[];!t("punc",")");)t("expand","...")?(o(),e.push(new De({start:a(),expression:wn(!1)}))):e.push(wn(!1)),t("punc",")")||(p(","),t("punc",")")&&n.ecma<8&&f());return o(),e}),Ne=function(e,n){var i=X.token;if("name"==i.type&&"await"==i.value){if(m())return o(),m()||s("Unexpected await expression outside async function",X.prev.line,X.prev.col,X.prev.pos),new it({expression:Ne(!0)});X.input.has_directive("use strict")&&c(X.token,"Unexpected await identifier inside strict mode")}if(t("operator")&&Ft(i.value)){o(),g();var r=V(on,i,Ne(e));return r.start=i,r.end=a(),r}for(var u=ce(e,n);t("operator")&&wt(X.token.value)&&!X.token.nlb;)u instanceof Ee&&f(),(u=V(an,X.token,u)).start=i,u.end=X.token,o();return u},rn=function(e,n,i){var r=t("operator")?X.token.value:null;"in"==r&&i&&(r=null),"**"==r&&e instanceof on&&e.end===X.prev&&"--"!==e.operator&&"++"!==e.operator&&f(e.start);var a=null!=r?Ct[r]:null;if(null!=a&&(a>n||"**"===r&&n===a)){o();var u=rn(Ne(!0),a,i);return rn(new un({start:e.start,left:e,operator:r,right:u,end:u.end}),n,i)}return e},Dn=function(e){var n=X.token,i=function(e){return rn(Ne(!0,!0),0,e)}(e);if(t("operator","?")){o();var r=wn(!1);return p(":"),new sn({start:n,condition:i,consequent:r,alternative:wn(!1,e),end:a()})}return i},yn=function(e){var n=X.token;if("name"==n.type&&"yield"==n.value){if(h())return o(),function(){h()||s("Unexpected yield expression outside generator function",X.prev.line,X.prev.col,X.prev.pos);var e=!1,n=!0;return d()||t("punc")&&gt(X.token.value)?n=!1:t("operator","*")&&(e=!0,o()),new rt({is_star:e,expression:n?wn():null})}();X.input.has_directive("use strict")&&c(X.token,"Unexpected yield identifier inside strict mode")}var i=Dn(e),r=X.token.value;if(t("operator")&&xt(r)){if(Y(i)||(i=W(i))instanceof Fe)return o(),new cn({start:n,left:i,operator:r,right:yn(e),end:a()});s("Invalid assignment")}return i},wn=function(e,n){for(var i=X.token,a=[];a.push(yn(n)),e&&t("punc",",");)o(),e=!0;return 1==a.length?a[0]:new Qe({start:i,expressions:a,end:r()})};return n.expression?wn(!0):function(){var e=X.token,i=[];for(X.input.push_directives_stack();!t("eof");)i.push(G());X.input.pop_directives_stack();var r=a(),o=n.toplevel;return o?(o.body=o.body.concat(i),o.end=r):o=new ve({start:e,body:i,end:r}),o}()}function H(e,n){w.call(this),this.before=e,this.after=n}function I(e,n){this.name=n.name,this.orig=[n],this.eliminated=0,this.scope=e,this.references=[],this.replaced=0,this.global=!1,this.export=!1,this.mangled_name=null,this.undeclared=!1,this.id=I.next_id++}function R(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function U(e){function n(n,t){var i=function(n,t){function i(){return"'"+n.replace(/\x27/g,"\\'")+"'"}function r(){return'"'+n.replace(/\x22/g,'\\"')+'"'}var o=0,a=0;if(n=n.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(t,i){switch(t){case'"':return++o,'"';case"'":return++a,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(x(n,i+1))?"\\x00":"\\0"}return t}),n=E(n),"`"===t)return"`"+n.replace(/`/g,"\\`")+"`";switch(e.quote_style){case 1:return i();case 2:return r();case 3:return"'"==t?i():r();default:return o>a?i():r()}}(n,t);return e.inline_script&&(i=(i=(i=i.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e")),i}function t(n){var t=x(n=String(n),0),i=x(k,k.length-1);if(F&&(F=!1,(":"==i&&"}"==t||(!t||";}".indexOf(t)<0)&&";"!=i)&&(e.semicolons||O(t)?(y+=";",v++,b++):(T(),y+="\n",b++,g++,v=0,/^\s+$/.test(n)&&(F=!0)),e.beautify||(A=!1))),!e.beautify&&e.preserve_line&&H[H.length-1])for(var r=H[H.length-1].start.line;g<r;)T(),y+="\n",b++,g++,v=0,A=!1;A&&(($(i)&&($(t)||"\\"==t)||"/"==t&&t==i||("+"==t||"-"==t)&&t==k)&&(y+=" ",v++,b++),A=!1),h&&(B.push({token:h,name:m,line:g,col:v}),h=!1,w||S()),y+=n,b+=n.length;var o=n.split(/\r?\n/),a=o.length-1;g+=a,v+=o[0].length,a>0&&(T(),v=o[a].length),k=n}function i(){F=!1,t(";")}function o(){return _+e.indent_level}function a(){return w&&T(),y}void 0===(e=u(e,{ascii_only:!1,beautify:!1,bracketize:!1,comments:!1,ecma:5,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,safari10:!1,semicolons:!0,shebang:!0,shorthand:void 0,source_map:null,webkit:!1,width:80,wrap_iife:!1},!0)).shorthand&&(e.shorthand=e.ecma>5);var s=f;if(e.comments){var p=e.comments;if("string"==typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)){var d=e.comments.lastIndexOf("/");p=new RegExp(e.comments.substr(1,d-1),e.comments.substr(d+1))}s=p instanceof RegExp?function(e){return"comment5"!=e.type&&p.test(e.value)}:"function"==typeof p?function(e){return"comment5"!=e.type&&p(this,e)}:"some"===p?R:l}var h,m,_=0,v=0,g=1,b=0,y="",E=e.ascii_only?function(n,t){return e.ecma>=6&&(n=n.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){return"\\u{"+function(e,n){return C(e.charAt(n))?65536+(e.charCodeAt(n)-55296<<10)+e.charCodeAt(n+1)-56320:e.charCodeAt(n)}(e,0).toString(16)+"}"})),n.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){return e.replace(/[\ud800-\udbff](?![\udc00-\udfff])/g,function(e){return"\\u"+e.charCodeAt(0).toString(16)}).replace(/(^|[^\ud800-\udbff])([\udc00-\udfff])/g,function(e,n,t){return n+"\\u"+t.charCodeAt(0).toString(16)})},A=!1,F=!1,w=0,k="",B=e.source_map&&[],S=B?function(){B.forEach(function(n){try{e.source_map.add(n.token.file,n.line,n.col,n.token.line,n.token.col,n.name||"name"!=n.token.type?n.name:n.token.value)}catch(e){K.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:n.token.file,line:n.token.line,col:n.token.col,cline:n.line,ccol:n.col,name:n.name||""})}}),B=[]}:c,T=e.max_line_len?function(){if(v>e.max_line_len){if(w){var n=y.slice(0,w),t=y.slice(w);if(B){var i=t.length-v;B.forEach(function(e){e.line++,e.col+=i})}y=n+"\n"+t,g++,b++,v=t.length}v>e.max_line_len&&K.warn("Output exceeds {max_line_len} characters",e)}w&&(w=0,S())}:c,O=D("( [ + * / - , . `"),M=e.beautify?function(){t(" ")}:function(){A=!0},q=e.beautify?function(n){e.beautify&&t(function(n){return r(" ",e.indent_start+_-n*e.indent_level)}(n?.5:0))}:c,z=e.beautify?function(e,n){!0===e&&(e=o());var t=_;_=e;var i=n();return _=t,i}:function(e,n){return n()},N=e.beautify?function(){t("\n")}:e.max_line_len?function(){T(),w=y.length}:c,j=e.beautify?function(){t(";")}:function(){F=!0},H=[];return{get:a,toString:a,indent:q,indentation:function(){return _},current_width:function(){return v-_},should_break:function(){return e.width&&this.current_width()>=e.width},newline:N,print:t,star:function(){t("*")},space:M,comma:function(){t(","),M()},colon:function(){t(":"),M()},last:function(){return k},semicolon:j,force_semicolon:i,to_utf8:E,print_name:function(e){t(function(e){return e=e.toString(),e=E(e,!0)}(e))},print_string:function(e,r,o){var a=n(e,r);!0===o&&-1===a.indexOf("\\")&&(St.test(y)||i(),i()),t(a)},print_template_string_chars:function(e){var i=n(e,"`").replace(/\${/g,"\\${");return t(i.substr(1,i.length-2))},encode_string:n,next_indent:o,with_indent:z,with_block:function(e){var n;return t("{"),N(),z(o(),function(){n=e()}),q(),t("}"),n},with_parens:function(e){t("(");var n=e();return t(")"),n},with_square:function(e){t("[");var n=e();return t("]"),n},add_mapping:B?function(e,n){h=e,m=n}:c,option:function(n){return e[n]},comment_filter:s,line:function(){return g},col:function(){return v},pos:function(){return b},push_node:function(e){H.push(e)},pop_node:function(){return H.pop()},parent:function(e){return H[H.length-2-(e||0)]}}}function P(e,n){if(!(this instanceof P))return new P(e,n);H.call(this,this.before,this.after),this.options=u(e,{arrows:!n,booleans:!n,cascade:!n,collapse_vars:!n,comparisons:!n,computed_props:!n,conditionals:!n,dead_code:!n,drop_console:!1,drop_debugger:!n,ecma:5,evaluate:!n,expression:!1,global_defs:{},hoist_funs:!n,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,inline:!n,join_vars:!n,keep_classnames:!1,keep_fargs:!0,keep_fnames:!1,keep_infinity:!1,loops:!n,negate_iife:!n,passes:1,properties:!n,pure_getters:!n&&"strict",pure_funcs:null,reduce_funcs:!n,reduce_vars:!n,sequences:!n,side_effects:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_arrows:!1,unsafe_comps:!1,unsafe_Func:!1,unsafe_math:!1,unsafe_methods:!1,unsafe_proto:!1,unsafe_regexp:!1,unused:!n,warnings:!1},!0);var t=this.options.global_defs;if("object"==typeof t)for(var i in t)/^@/.test(i)&&y(t,i)&&(t[i.slice(1)]=j(t[i],{expression:!0}));var r=this.options.pure_funcs;this.pure_funcs="function"==typeof r?r:r?function(e){return r.indexOf(e.expression.print_to_string())<0}:l;var o=this.options.top_retain;o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return o.indexOf(e.name)>=0});var a=this.options.toplevel;this.toplevel="string"==typeof a?{funcs:/funcs/.test(a),vars:/vars/.test(a)}:{funcs:a,vars:a};var s=this.options.sequences;this.sequences_limit=1==s?800:0|s,this.warnings_produced={}}function L(e,n){e.walk(new w(function(e){return e instanceof Qe?L(e.tail_node(),n):e instanceof Vn?n(e.value):e instanceof sn&&(L(e.consequent,n),L(e.alternative,n)),!0}))}function V(e,n){function t(e){return!(m.indexOf(e)>=0)&&(!(s.indexOf(e)>=0)&&(n.only_cache?c.props.has(e):!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)))}function i(e){return!(l&&!l.test(e))&&(!(s.indexOf(e)>=0)&&(c.props.has(e)||d.indexOf(e)>=0))}function r(e){t(e)&&h(d,e),i(e)||h(m,e)}function o(e){if(!i(e))return e;var n=c.props.get(e);if(!n){if(p){var r="_$"+e+"$"+f+"_";t(r)&&(n=r)}if(!n)do{n=Bt(++c.cname)}while(!t(n));c.props.set(e,n)}return n}function a(e){return e.transform(new H(function(e){if(e instanceof Qe){var n=e.expressions.length-1;e.expressions[n]=a(e.expressions[n])}else e instanceof Vn?e.value=o(e.value):e instanceof sn&&(e.consequent=a(e.consequent),e.alternative=a(e.alternative));return e}))}var s=(n=u(n,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,only_cache:!1,regex:null,reserved:null},!0)).reserved;Array.isArray(s)||(s=[]),n.builtins||function(e){function n(n){h(e,n)}var t={},i="object"==typeof global?global:self;["Symbol","Map","Promise","Proxy","Reflect","Set","WeakMap","WeakSet"].forEach(function(e){t[e]=i[e]||new Function}),["null","true","false","Infinity","-Infinity","undefined"].forEach(n),[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp,t.Symbol,ArrayBuffer,DataView,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,eval,EvalError,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,isFinite,isNaN,JSON,t.Map,parseFloat,parseInt,t.Promise,t.Proxy,RangeError,ReferenceError,t.Reflect,t.Set,SyntaxError,TypeError,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,URIError,t.WeakMap,t.WeakSet].forEach(function(e){Object.getOwnPropertyNames(e).map(n),e.prototype&&Object.getOwnPropertyNames(e.prototype).map(n)})}(s);var c=n.cache;null==c&&(c={cname:-1,props:new b});var f,l=n.regex,p=!1!==n.debug;p&&(f=!0===n.debug?"":n.debug);var d=[],m=[];return e.walk(new w(function(e){e instanceof hn?r(e.key):e instanceof dn?r(e.key.name):e instanceof nn?r(e.property):e instanceof tn&&L(e.property,r)})),e.transform(new H(function(e){e instanceof hn?e.key=o(e.key):e instanceof dn?e.key.name=o(e.key.name):e instanceof nn?e.property=o(e.property):!n.keep_quoted&&e instanceof tn&&(e.property=a(e.property))}))}function Y(e){var n=/\n\/\/# sourceMappingURL=data:application\/json(;.*?)?;base64,(.*)/.exec(e);return n?Tt(n[2]):(K.warn("inline source map not found"),null)}function W(e,n,t){n[e]&&t.forEach(function(t){n[t]&&("object"!=typeof n[t]&&(n[t]={}),e in n[t]||(n[t][e]=n[e]))})}function J(e){e&&("cname"in e||(e.cname=-1),"props"in e?e.props instanceof b||(e.props=b.fromObject(e.props)):e.props=new b)}function X(e){return{cname:e.cname,props:e.props.toObject()}}(a.prototype=Object.create(Error.prototype)).constructor=a,a.prototype.name="DefaultsError",o(a),a.croak=function(e,n){throw new a(e,n)};var G=function(){function e(e,o,a){function u(){var u=o(e[s],s),l=u instanceof i;return l&&(u=u.v),u instanceof n?(u=u.v)instanceof t?f.push.apply(f,a?u.v.slice().reverse():u.v):f.push(u):u!==r&&(u instanceof t?c.push.apply(c,a?u.v.slice().reverse():u.v):c.push(u)),l}var s,c=[],f=[];if(e instanceof Array)if(a){for(s=e.length;--s>=0&&!u(););c.reverse(),f.reverse()}else for(s=0;s<e.length&&!u();++s);else for(s in e)if(y(e,s)&&u())break;return f.concat(c)}function n(e){this.v=e}function t(e){this.v=e}function i(e){this.v=e}e.at_top=function(e){return new n(e)},e.splice=function(e){return new t(e)},e.last=function(e){return new i(e)};var r=e.skip={};return e}();b.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n=[];for(var t in this._values)n.push(e(this._values[t],t.substr(1)));return n},toObject:function(){return this._values}},b.fromObject=function(e){var n=new b;return n._size=s(n._values,e),n};var Z=A("Token","type value line col pos endline endcol endpos nlb comments_before file raw",{},null),K=A("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new H(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null);K.warn_function=null,K.warn=function(e,n){K.warn_function&&K.warn_function(m(e,n))};var Q=A("Statement",null,{$documentation:"Base class of all statements"}),ee=A("Debugger",null,{$documentation:"Represents a debugger statement"},Q),ne=A("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"}},Q),te=A("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},Q),ie=A("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){F(this,e)})}},Q),re=A("BlockStatement",null,{$documentation:"A block statement"},ie),oe=A("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},Q),ae=A("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"}},Q),ue=A("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})},clone:function(e){var n=this._clone(e);if(e){var t=n.label,i=this.label;n.walk(new w(function(e){e instanceof $e&&e.label&&e.label.thedef===i&&(e.label.thedef=t,t.references.push(e))}))}return n}},ae),se=A("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},ae),ce=A("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},se),fe=A("Do",null,{$documentation:"A `do` statement",_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.condition._walk(e)})}},ce),le=A("While",null,{$documentation:"A `while` statement",_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},ce),pe=A("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},se),de=A("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},se),he=A("ForOf",null,{$documentation:"A `for ... of` statement"},de),me=A("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},ae),_e=A("Scope","variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"},get_defun_scope:function(){for(var e=this;e.is_block_scope();)e=e.parent_scope;return e}},ie),ve=A("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_commonjs:function(e){var n=this.body,t="(function(exports){'$ORIG';})(typeof "+e+"=='undefined'?("+e+"={}):"+e+");";return t=j(t),t=t.transform(new H(function(e){if(e instanceof ne&&"$ORIG"==e.value)return G.splice(n)}))}},_e),De=A("Expansion","expression",{$documentation:"An expandible argument, such as ...rest, a splat, such as [1,2,...all], or an expansion in a variable declaration, such as var [first, ...rest] = list",$propdoc:{expression:"[AST_Node] the thing to be expanded"},_walk:function(e){var n=this;return e._visit(this,function(){n.expression.walk(e)})}}),ge=A("Lambda","name argnames uses_arguments is_generator async",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg|AST_Destructuring|AST_Expansion|AST_DefaultAssign*] array of function arguments, destructurings, or expanding arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array",is_generator:"[boolean] is this a generator method",async:"[boolean] is this method async"},args_as_names:function(){for(var e=[],n=0;n<this.argnames.length;n++)this.argnames[n]instanceof Fe?e=e.concat(this.argnames[n].all_symbols()):e.push(this.argnames[n]);return e},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e);for(var n=this.argnames,t=0,i=n.length;t<i;t++)n[t]._walk(e);F(this,e)})}},_e),be=A("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},ge),ye=A("Function","inlined",{$documentation:"A function expression"},ge),Ee=A("Arrow","inlined",{$documentation:"An ES6 Arrow function ((a) => b)"},ge),Ae=A("Defun","inlined",{$documentation:"A function definition"},ge),Fe=A("Destructuring","names is_array",{$documentation:"A destructuring of several names. Used in destructuring assignment and with destructuring function argument names",$propdoc:{names:"[AST_Node*] Array of properties or elements",is_array:"[Boolean] Whether the destructuring represents an object or array"},_walk:function(e){return e._visit(this,function(){this.names.forEach(function(n){n._walk(e)})})},all_symbols:function(){var e=[];return this.walk(new w(function(n){n instanceof yn&&e.push(n),n instanceof De&&e.push(n.expression)})),e}}),we=A("PrefixedTemplateString","template_string prefix",{$documentation:"A templatestring with a prefix, such as String.raw`foobarbaz`",$propdoc:{template_string:"[AST_TemplateString] The template string",prefix:"[AST_SymbolRef|AST_PropAccess] The prefix, which can be a symbol such as `foo` or a dotted expression such as `String.raw`."},_walk:function(e){this.prefix._walk(e),this.template_string._walk(e)}}),xe=A("TemplateString","segments",{$documentation:"A template string literal",$propdoc:{segments:"[AST_Node*] One or more segments, starting with AST_TemplateSegment. AST_Node may follow AST_TemplateSegment, but each AST_Node must be followed by AST_TemplateSegment."},_walk:function(e){return e._visit(this,function(){this.segments.forEach(function(n){n._walk(e)})})}}),Ce=A("TemplateSegment","value raw",{$documentation:"A segment of a template string literal",$propdoc:{value:"Content of the segment",raw:"Raw content of the segment"}}),ke=A("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},Q),Be=A("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},ke),Se=A("Return",null,{$documentation:"A `return` statement"},Be),Te=A("Throw",null,{$documentation:"A `throw` statement"},Be),$e=A("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},ke),Oe=A("Break",null,{$documentation:"A `break` statement"},$e),Me=A("Continue",null,{$documentation:"A `continue` statement"},$e),qe=A("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},ae),ze=A("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),F(this,e)})}},ie),Ne=A("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},ie),je=A("Default",null,{$documentation:"A `default` switch branch"},Ne),He=A("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),F(this,e)})}},Ne),Ie=A("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){F(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},ie),Re=A("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch|AST_Destructuring|AST_Expansion|AST_DefaultAssign] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),F(this,e)})}},ie),Ue=A("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},ie),Pe=A("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){for(var n=this.definitions,t=0,i=n.length;t<i;t++)n[t]._walk(e)})}},Q),Le=A("Var",null,{$documentation:"A `var` statement"},Pe),Ve=A("Let",null,{$documentation:"A `let` statement"},Pe),Ye=A("Const",null,{$documentation:"A `const` statement"},Pe),We=A("NameMapping","foreign_name name",{$documentation:"The part of the export/import statement that declare names from a module.",$propdoc:{foreign_name:"[AST_SymbolExportForeign|AST_SymbolImportForeign] The name being exported/imported (as specified in the module)",name:"[AST_SymbolExport|AST_SymbolImport] The name as it is visible to this module."},_walk:function(e){return e._visit(this,function(){this.foreign_name._walk(e),this.name._walk(e)})}}),Je=A("Import","imported_name imported_names module_name",{$documentation:"An `import` statement",$propdoc:{imported_name:"[AST_SymbolImport] The name of the variable holding the module's default export.",imported_names:"[AST_NameMapping*] The names of non-default imported variables",module_name:"[AST_String] String literal describing where this module came from"},_walk:function(e){return e._visit(this,function(){this.imported_name&&this.imported_name._walk(e),this.imported_names&&this.imported_names.forEach(function(n){n._walk(e)}),this.module_name._walk(e)})}}),Xe=A("Export","exported_definition exported_value is_default exported_names module_name",{$documentation:"An `export` statement",$propdoc:{exported_definition:"[AST_Defun|AST_Definitions|AST_DefClass?] An exported definition",exported_value:"[AST_Node?] An exported value",exported_names:"[AST_NameMapping*?] List of exported names",module_name:"[AST_String?] Name of the file to load exports from",is_default:"[Boolean] Whether this is the default exported value of this module"},_walk:function(e){e._visit(this,function(){this.exported_definition&&this.exported_definition._walk(e),this.exported_value&&this.exported_value._walk(e),this.exported_names&&this.exported_names.forEach(function(n){n._walk(e)}),this.module_name&&this.module_name._walk(e)})}},Q),Ge=A("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructuring|AST_SymbolConst|AST_SymbolLet|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),Ze=A("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(e){return e._visit(this,function(){for(var n=this.args,t=0,i=n.length;t<i;t++)n[t]._walk(e);this.expression._walk(e)})}}),Ke=A("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},Ze),Qe=A("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_walk:function(e){return e._visit(this,function(){this.expressions.forEach(function(n){n._walk(e)})})}}),en=A("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),nn=A("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},en),tn=A("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},en),rn=A("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),on=A("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},rn),an=A("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},rn),un=A("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),sn=A("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),cn=A("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},un),fn=A("DefaultAssign",null,{$documentation:"A default assignment expression like in `(a = 3) => a`"},un),ln=A("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(e){return e._visit(this,function(){for(var n=this.elements,t=0,i=n.length;t<i;t++)n[t]._walk(e)})}}),pn=A("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){for(var n=this.properties,t=0,i=n.length;t<i;t++)n[t]._walk(e)})}}),dn=A("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] the property name converted to a string for ObjectKeyVal. For setters, getters and computed property this is an arbitrary AST_Node",value:"[AST_Node] property value.  For setters and getters this is an AST_Accessor."},_walk:function(e){return e._visit(this,function(){this.key instanceof K&&this.key._walk(e),this.value._walk(e)})}}),hn=A("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},dn),mn=A("ObjectSetter","quote static",{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] whether this is a static setter (classes only)"},$documentation:"An object setter property"},dn),_n=A("ObjectGetter","quote static",{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] whether this is a static getter (classes only)"},$documentation:"An object getter property"},dn),vn=A("ConciseMethod","quote static is_generator async",{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] is this method static (classes only)",is_generator:"[boolean] is this a generator method",async:"[boolean] is this method async"},$documentation:"An ES6 concise method inside an object or class"},dn),Dn=A("Class","name extends properties inlined",{$propdoc:{name:"[AST_SymbolClass|AST_SymbolDefClass?] optional class name.",extends:"[AST_Node]? optional parent class",properties:"[AST_ObjectProperty*] array of properties"},$documentation:"An ES6 class",_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e),this.extends&&this.extends._walk(e),this.properties.forEach(function(n){n._walk(e)})})}},_e),gn=A("DefClass",null,{$documentation:"A class definition"},Dn),bn=A("ClassExpression",null,{$documentation:"A class expression."},Dn),yn=A("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),En=A("NewTarget",null,{$documentation:"A reference to new.target"}),An=A("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)"},yn),Fn=A("SymbolVar",null,{$documentation:"Symbol defining a variable"},An),wn=A("SymbolBlockDeclaration",null,{$documentation:"Base class for block-scoped declaration symbols"},An),xn=A("SymbolConst",null,{$documentation:"A constant declaration"},wn),Cn=A("SymbolLet",null,{$documentation:"A block-scoped `let` declaration"},wn),kn=A("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Fn),Bn=A("SymbolDefun",null,{$documentation:"Symbol defining a function"},An),Sn=A("SymbolMethod",null,{$documentation:"Symbol in an object defining a method"},yn),Tn=A("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},An),$n=A("SymbolDefClass",null,{$documentation:"Symbol naming a class's name in a class declaration. Lexically scoped to its containing scope, and accessible within the class."},wn),On=A("SymbolClass",null,{$documentation:"Symbol naming a class's name. Lexically scoped to the class."},An),Mn=A("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},wn),qn=A("SymbolImport",null,{$documentation:"Symbol referring to an imported name"},wn),zn=A("SymbolImportForeign",null,{$documentation:"A symbol imported from a module, but it is defined in the other module, and its real name is irrelevant for this module's purposes"},yn),Nn=A("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},yn),jn=A("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},yn),Hn=A("SymbolExport",null,{$documentation:"Symbol referring to a name to export"},jn),In=A("SymbolExportForeign",null,{$documentation:"A symbol exported from this module, but it is used in the other module, and its real name is irrelevant for this module's purposes"},yn),Rn=A("LabelRef",null,{$documentation:"Reference to a label symbol"},yn),Un=A("This",null,{$documentation:"The `this` symbol"},yn),Pn=A("Super",null,{$documentation:"The `super` symbol"},Un),Ln=A("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),Vn=A("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},Ln),Yn=A("Number","value literal",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",literal:"[string] numeric value as string (optional)"}},Ln),Wn=A("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},Ln),Jn=A("Atom",null,{$documentation:"Base class for atoms"},Ln),Xn=A("Null",null,{$documentation:"The `null` atom",value:null},Jn),Gn=A("NaN",null,{$documentation:"The impossible value",value:NaN},Jn),Zn=A("Undefined",null,{$documentation:"The `undefined` value",value:void 0},Jn),Kn=A("Hole",null,{$documentation:"A hole in an array",value:void 0},Jn),Qn=A("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},Jn),et=A("Boolean",null,{$documentation:"Base class for booleans"},Jn),nt=A("False",null,{$documentation:"The `false` atom",value:!1},et),tt=A("True",null,{$documentation:"The `true` atom",value:!0},et),it=A("Await","expression",{$documentation:"An `await` statement",$propdoc:{expression:"[AST_Node] the mandatory expression being awaited"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),rt=A("Yield","expression is_star",{$documentation:"A `yield` statement",$propdoc:{expression:"[AST_Node?] the value returned or thrown by this statement; could be null (representing undefined) but only when is_star is set to false",is_star:"[Boolean] Whether this is a yield or yield* statement"},_walk:function(e){return e._visit(this,this.expression&&function(){this.expression._walk(e)})}});w.prototype={_visit:function(e,n){this.push(e);var t=this.visit(e,n?function(){n.call(e)}:c);return!t&&n&&n.call(e),this.pop(),t},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof ge?this.directives=Object.create(this.directives):e instanceof ne&&!this.directives[e.value]?this.directives[e.value]=e:e instanceof Dn&&(this.directives=Object.create(this.directives),this.directives["use strict"]||(this.directives["use strict"]=e)),this.stack.push(e)},pop:function(){var e=this.stack.pop();(e instanceof ge||e instanceof Dn)&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;--t>=0;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof _e&&t.body)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof ne))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n=this.stack;if(e.label)for(var t=n.length;--t>=0;){if((i=n[t])instanceof ue&&i.label.name==e.label.name)return i.body}else for(t=n.length;--t>=0;){var i;if((i=n[t])instanceof se||e instanceof Oe&&i instanceof ze)return i}}};var ot="break case catch class const continue debugger default delete do else export extends finally for function if in instanceof let new return switch throw try typeof var void while with",at="false null true",ut="enum implements import interface package private protected public static super this "+at+" "+ot,st="return new delete throw else case yield await";ot=D(ot),ut=D(ut),st=D(st),at=D(at);var ct=D(n("+-*&%=<>!?|~^")),ft=/[0-9a-f]/i,lt=/^0x[0-9a-f]+$/i,pt=/^0[0-7]+$/,dt=/^0o[0-7]+$/i,ht=/^0b[01]+$/i,mt=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,_t=D(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","**","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","**=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),vt=D(n("  \n\r\t\f\v​           \u2028\u2029  　\ufeff")),Dt=D(n("\n\r\u2028\u2029")),gt=D(n(";]),:")),bt=D(n("[{(,;:")),yt=D(n("[]{}(),;:")),Et={ID_Start:/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};(M.prototype=Object.create(Error.prototype)).constructor=M,M.prototype.name="SyntaxError",o(M);var At={},Ft=D(["typeof","void","delete","--","++","!","~","-","+"]),wt=D(["--","++"]),xt=D(["=","+=","-=","/=","*=","**=","%=",">>=","<<=",">>>=","|=","^=","&="]),Ct=function(e,n){for(var t=0;t<e.length;++t)for(var i=e[t],r=0;r<i.length;++r)n[i[r]]=t+1;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),kt=D(["atom","num","string","regexp","name"]);H.prototype=new w,function(e){function n(n,t){n.DEFMETHOD("transform",function(n,i){var r,o;return n.push(this),n.before&&(r=n.before(this,t,i)),r===e&&(n.after?(n.stack[n.stack.length-1]=r=this,t(r,n),(o=n.after(r,i))!==e&&(r=o)):t(r=this,n)),n.pop(),r})}function t(e,n){return G(e,function(e){return e.transform(n,!0)})}n(K,c),n(ue,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),n(te,function(e,n){e.body=e.body.transform(n)}),n(ie,function(e,n){e.body=t(e.body,n)}),n(ce,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),n(pe,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),n(de,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),n(me,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),n(Be,function(e,n){e.value&&(e.value=e.value.transform(n))}),n($e,function(e,n){e.label&&(e.label=e.label.transform(n))}),n(qe,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),n(ze,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(He,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(Ie,function(e,n){e.body=t(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),n(Re,function(e,n){e.argname=e.argname.transform(n),e.body=t(e.body,n)}),n(Pe,function(e,n){e.definitions=t(e.definitions,n)}),n(Ge,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),n(Fe,function(e,n){e.names=t(e.names,n)}),n(ge,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=t(e.argnames,n),e.body instanceof K?e.body=e.body.transform(n):e.body=t(e.body,n)}),n(Ze,function(e,n){e.expression=e.expression.transform(n),e.args=t(e.args,n)}),n(Qe,function(e,n){e.expressions=t(e.expressions,n)}),n(nn,function(e,n){e.expression=e.expression.transform(n)}),n(tn,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),n(rt,function(e,n){e.expression&&(e.expression=e.expression.transform(n))}),n(it,function(e,n){e.expression=e.expression.transform(n)}),n(rn,function(e,n){e.expression=e.expression.transform(n)}),n(un,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),n(sn,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),n(ln,function(e,n){e.elements=t(e.elements,n)}),n(pn,function(e,n){e.properties=t(e.properties,n)}),n(dn,function(e,n){e.key instanceof K&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),n(Dn,function(e,n){e.name&&(e.name=e.name.transform(n)),e.extends&&(e.extends=e.extends.transform(n)),e.properties=t(e.properties,n)}),n(De,function(e,n){e.expression=e.expression.transform(n)}),n(We,function(e,n){e.foreign_name=e.foreign_name.transform(n),e.name=e.name.transform(n)}),n(Je,function(e,n){e.imported_name&&(e.imported_name=e.imported_name.transform(n)),e.imported_names&&t(e.imported_names,n),e.module_name=e.module_name.transform(n)}),n(Xe,function(e,n){e.exported_definition&&(e.exported_definition=e.exported_definition.transform(n)),e.exported_value&&(e.exported_value=e.exported_value.transform(n)),e.exported_names&&t(e.exported_names,n),e.module_name&&(e.module_name=e.module_name.transform(n))}),n(xe,function(e,n){e.segments=t(e.segments,n)}),n(we,function(e,n){e.template_string=e.template_string.transform(n)})}(),I.next_id=1,I.prototype={unmangleable:function(e){return e||(e={}),this.global&&!e.toplevel||this.export||this.undeclared||!e.eval&&(this.scope.uses_eval||this.scope.uses_with)||e.keep_fnames&&(this.orig[0]instanceof Tn||this.orig[0]instanceof Bn)||this.orig[0]instanceof Sn||e.keep_classnames&&(this.orig[0]instanceof On||this.orig[0]instanceof $n)},mangle:function(e){var n=e.cache&&e.cache.props;if(this.global&&n&&n.has(this.name))this.mangled_name=n.get(this.name);else if(!this.mangled_name&&!this.unmangleable(e)){var t=this.scope,i=this.orig[0];e.ie8&&i instanceof Tn&&(t=t.parent_scope);var r;(r=this.redefined())?this.mangled_name=r.mangled_name||r.name:this.mangled_name=t.next_mangled(e,this),this.global&&n&&n.set(this.name,this.mangled_name)}},redefined:function(){return this.defun&&this.defun.variables.get(this.name)}},ve.DEFMETHOD("figure_out_scope",function(e){e=u(e,{cache:null,ie8:!1,safari10:!1});var n=this,t=n.parent_scope=null,i=new b,r=null,o=null,a=[],s=new w(function(n,u){function c(e,n){if(o){var t=0;do{n++}while(s.parent(t++)!==o)}var i=s.parent(n);e.export=i instanceof Xe}if(n.is_block_scope()){var f=t;return n.block_scope=t=new _e(n),t.init_scope_vars(f),n instanceof _e||(t.uses_with=f.uses_with,t.uses_eval=f.uses_eval,t.directives=f.directives),e.safari10&&(n instanceof pe||n instanceof de)&&a.push(t),u(),t=f,!0}if(n instanceof Fe)return o=n,u(),o=null,!0;if(n instanceof _e){n.init_scope_vars(t);f=t;var l=r,p=i;return r=t=n,i=new b,u(),t=f,r=l,i=p,!0}if(n instanceof ue){var d=n.label;if(i.has(d.name))throw new Error(m("Label {name} defined twice",d));return i.set(d.name,d),u(),i.del(d.name),!0}if(n instanceof me)for(var h=t;h;h=h.parent_scope)h.uses_with=!0;else{if(n instanceof yn&&(n.scope=t),n instanceof Nn&&(n.thedef=n,n.references=[]),n instanceof Tn)r.def_function(n);else if(n instanceof Bn)c((n.scope=r.parent_scope.get_defun_scope()).def_function(n),1);else if(n instanceof On)c(r.def_variable(n),1);else if(n instanceof qn)t.def_variable(n);else if(n instanceof $n)c((n.scope=r.parent_scope).def_function(n),1);else if(n instanceof Fn||n instanceof Cn||n instanceof xn){if(g((_=(n instanceof wn?t:r).def_variable(n)).orig,function(e){return e===n||(n instanceof wn?e instanceof Tn:!(e instanceof Cn||e instanceof xn))})||q(n.name+" redeclared",n.start.file,n.start.line,n.start.col,n.start.pos),n instanceof kn||c(_,2),_.destructuring=o,r!==t){n.mark_enclosed(e);var _=t.find_variable(n);n.thedef!==_&&(n.thedef=_,n.reference(e))}}else if(n instanceof Mn)t.def_variable(n).defun=r;else if(n instanceof Rn){var v=i.get(n.name);if(!v)throw new Error(m("Undefined label {name} [{line},{col}]",{name:n.name,line:n.start.line,col:n.start.col}));n.thedef=v}t instanceof ve||!(n instanceof Xe||n instanceof Je)||q(n.TYPE+" statement may only appear at top level",n.start.file,n.start.line,n.start.col,n.start.pos)}});n.walk(s),n.globals=new b;s=new w(function(t,i){if(t instanceof $e&&t.label)return t.label.thedef.references.push(t),!0;if(t instanceof jn){var r=t.name;if("eval"==r&&s.parent()instanceof Ze)for(var o=t.scope;o&&!o.uses_eval;o=o.parent_scope)o.uses_eval=!0;var a;return s.parent()instanceof We&&s.parent(1).module_name||!(a=t.scope.find_variable(r))?a=n.def_global(t):a.scope instanceof ge&&"arguments"==r&&(a.scope.uses_arguments=!0),t.thedef=a,t.reference(e),!0}var u;if(t instanceof Mn&&(u=t.definition().redefined()))for(o=t.scope;o&&(h(o.enclosed,u),o!==u.scope);)o=o.parent_scope});if(n.walk(s),e.ie8&&n.walk(new w(function(t,i){if(t instanceof Mn){var r=t.name,o=t.thedef.references,a=t.thedef.defun,u=a.find_variable(r)||n.globals.get(r)||a.def_variable(t);return o.forEach(function(n){n.thedef=u,n.reference(e)}),t.thedef=u,t.reference(e),!0}})),e.safari10)for(var c=0;c<a.length;c++){(t=a[c]).parent_scope.variables.each(function(e){h(t.enclosed,e)})}e.cache&&(this.cname=e.cache.cname)}),ve.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);var i=new I(this,e);return i.undeclared=!0,i.global=!0,n.set(t,i),i}),_e.DEFMETHOD("init_scope_vars",function(e){this.variables=new b,this.functions=new b,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=e,this.enclosed=[],this.cname=-1}),K.DEFMETHOD("is_block_scope",f),Dn.DEFMETHOD("is_block_scope",f),ge.DEFMETHOD("is_block_scope",f),ve.DEFMETHOD("is_block_scope",f),Ne.DEFMETHOD("is_block_scope",f),ie.DEFMETHOD("is_block_scope",l),se.DEFMETHOD("is_block_scope",l),ge.DEFMETHOD("init_scope_vars",function(){_e.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1,this.def_variable(new kn({name:"arguments",start:this.start,end:this.end}))}),yn.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(h(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){h(n.scope.enclosed,e)}),t!==n.scope);)t=t.parent_scope}),yn.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),_e.DEFMETHOD("find_variable",function(e){return e instanceof yn&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),_e.DEFMETHOD("def_function",function(e){var n=this.def_variable(e);return this.functions.set(e.name,n),n}),_e.DEFMETHOD("def_variable",function(e){var n;return this.variables.has(e.name)?(n=this.variables.get(e.name)).orig.push(e):(n=new I(this,e),this.variables.set(e.name,n),n.global=!this.parent_scope),e.thedef=n}),_e.DEFMETHOD("next_mangled",function(e){var n=this.enclosed;e:for(;;){var i=Bt(++this.cname);if(S(i)&&!t(i,e.reserved)){for(var r=n.length;--r>=0;){var o=n[r];if(i==(o.mangled_name||o.unmangleable(e)&&o.name))continue e}return i}}}),ye.DEFMETHOD("next_mangled",function(e,n){for(var t=n.orig[0]instanceof kn&&this.name&&this.name.definition(),i=t?t.mangled_name||t.name:null;;){var r=ge.prototype.next_mangled.call(this,e,n);if(!i||i!=r)return r}}),yn.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),Nn.DEFMETHOD("unmangleable",f),yn.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),yn.DEFMETHOD("definition",function(){return this.thedef}),yn.DEFMETHOD("global",function(){return this.definition().global}),ve.DEFMETHOD("_default_mangler_options",function(e){return e=u(e,{eval:!1,ie8:!1,keep_classnames:!1,keep_fnames:!1,reserved:[],toplevel:!1}),Array.isArray(e.reserved)||(e.reserved=[]),h(e.reserved,"arguments"),e}),ve.DEFMETHOD("mangle_names",function(e){function n(n){t(n.name,e.reserved)||r.push(n)}var i=-1,r=[];(e=this._default_mangler_options(e)).cache&&this.globals.each(n);var o=new w(function(t,o){if(t instanceof ue){var a=i;return o(),i=a,!0}if(t instanceof _e)t.variables.each(n);else{if(t instanceof Nn){var u;do{u=Bt(++i)}while(!S(u));return t.mangled_name=u,!0}(!e.ie8&&t instanceof Mn||t instanceof wn)&&e.reserved.indexOf(t.name)<0&&r.push(t.definition())}});this.walk(o),r.forEach(function(n){n.mangle(e)}),e.cache&&(e.cache.cname=this.cname)}),ve.DEFMETHOD("find_unique_prefix",function(e){function n(e){/[0-9]$/.test(e)&&(o[e.replace(/[0-9]+$/,"")]=!0)}function t(t){var i=t.name;if(t.global&&r&&r.has(i))i=r.get(i);else if(!t.unmangleable(e))return;n(i)}var i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",r=e.cache&&e.cache.props,o=Object.create(null);e.reserved.forEach(n),this.globals.each(t),this.walk(new w(function(e){e instanceof _e&&e.variables.each(t),e instanceof Mn&&t(e.definition())}));var a,u=0;do{a=function(e){var n="";do{n+=i[e%i.length],e=Math.floor(e/i.length)}while(e);return n}(u++)}while(o[a]);return a}),ve.DEFMETHOD("expand_names",function(e){function n(n){if(!n.global&&!n.unmangleable(e)&&!t(n.name,e.reserved)){var r=n.redefined();n.name=r?r.name:i+n.id,n.orig.forEach(function(e){e.name=n.name}),n.references.forEach(function(e){e.name=n.name})}}e=this._default_mangler_options(e);var i=this.find_unique_prefix(e);this.globals.each(n),this.walk(new w(function(e){e instanceof _e&&e.variables.each(n),e instanceof Mn&&n(e.definition())}))}),K.DEFMETHOD("tail_node",p),Qe.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),ve.DEFMETHOD("compute_char_frequency",function(e){function n(e){e instanceof Vn?Bt.consider(e.value,-1):e instanceof sn?(n(e.consequent),n(e.alternative)):e instanceof Qe&&n(e.tail_node())}e=this._default_mangler_options(e);try{K.prototype.print=function(t,i){this._print(t,i),this instanceof yn&&!this.unmangleable(e)?Bt.consider(this.name,-1):e.properties&&(this instanceof nn?Bt.consider(this.property,-1):this instanceof tn&&n(this.property))},Bt.consider(this.print_to_string(),1)}finally{K.prototype.print=K.prototype._print}Bt.sort()});var Bt=function(){function e(){r=Object.create(null),o.forEach(function(e){r[e]=0}),a.forEach(function(e){r[e]=0})}function n(e,n){return r[n]-r[e]}function t(e){var n="",t=54;e++;do{n+=i[--e%t],e=Math.floor(e/t),t=64}while(e>0);return n}var i,r,o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_".split(""),a="0123456789".split("");return t.consider=function(e,n){for(var t=e.length;--t>=0;)r[e[t]]+=n},t.sort=function(){i=v(o,n).concat(v(a,n))},t.reset=e,e(),t}(),St=/^$|[;{][\s\n]*$/;!function(){function e(e,n){e.DEFMETHOD("_codegen",n)}function n(e,t){Array.isArray(e)?e.forEach(function(e){n(e,t)}):e.DEFMETHOD("needs_parens",t)}function t(e,n,t,i){var r=e.length-1;d=i,e.forEach(function(e,i){!0!==d||e instanceof ne||e instanceof oe||e instanceof te&&e.body instanceof Vn||(d=!1),e instanceof oe||(t.indent(),e.print(t),i==r&&n||(t.newline(),n&&t.newline())),!0===d&&e instanceof te&&e.body instanceof Vn&&(d=!1)}),d=!1}function i(e,n,i){e.length>0?n.with_block(function(){t(e,!1,n,i)}):n.print("{}")}function r(e,n,t){var i=!1;t&&e.walk(new w(function(e){return!!(i||e instanceof _e)||(e instanceof un&&"in"==e.operator?(i=!0,!0):void 0)})),e.print(n,i)}function o(e,n,t){t.option("quote_keys")?t.print_string(e+""):("number"==typeof e||!t.option("beautify")&&+e+""==e)&&parseFloat(e)>=0?t.print(s(e)):(ut(e)?!t.option("ie8"):O(e))?n&&t.option("keep_quoted_props")?t.print_string(e,n):t.print_name(e):t.print_string(e,n)}function a(e,n){n.option("bracketize")?f(e,n):!e||e instanceof oe?n.force_semicolon():e.print(n)}function u(e,n){return e.args.length>0||n.option("beautify")}function s(e){var n,t=e.toString(10),i=[t.replace(/^0\./,".").replace("e+","e")];return Math.floor(e)===e?(e>=0?i.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):i.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(n=/^(.*?)(0+)$/.exec(e))&&i.push(n[1]+"e"+n[2].length)):(n=/^0?\.(0+)(.*)$/.exec(e))&&i.push(n[2]+"e-"+(n[1].length+n[2].length),t.substr(t.indexOf("."))),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(i)}function f(e,n){!e||e instanceof oe?n.print("{}"):e instanceof re?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function l(e,n){e.DEFMETHOD("add_source_map",function(e){n(this,e)})}function p(e,n){n.add_mapping(e.start)}var d=!1,h=null,m=null;K.DEFMETHOD("print",function(e,n){function t(){i.add_comments(e),i.add_source_map(e),r(i,e)}var i=this,r=i._codegen;i instanceof _e?h=i:!m&&i instanceof ne&&"use asm"==i.value&&(m=h),e.push_node(i),n||i.needs_parens(e)?e.with_parens(t):t(),e.pop_node(),i===m&&(m=null)}),K.DEFMETHOD("_print",K.prototype.print),K.DEFMETHOD("print_to_string",function(e){var n=U(e);return e||(n._readonly=!0),this.print(n),n.get()}),K.DEFMETHOD("add_comments",function(e){if(!e._readonly){var n=this.start;if(n&&!n._comments_dumped){n._comments_dumped=!0;var t=n.comments_before||[];if(this instanceof Be&&this.value&&this.value.walk(new w(function(e){if(e.start&&e.start.comments_before&&(t=t.concat(e.start.comments_before),e.start.comments_before=[]),e instanceof ye||e instanceof ln||e instanceof pn)return!0})),0==e.pos()){t.length>0&&e.option("shebang")&&"comment5"==t[0].type&&(e.print("#!"+t.shift().value+"\n"),e.indent());var i=e.option("preamble");i&&e.print(i.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}t=t.filter(e.comment_filter,this),!e.option("beautify")&&t.length>0&&/comment[134]/.test(t[0].type)&&0!==e.col()&&t[0].nlb&&e.print("\n"),t.forEach(function(t){/comment[134]/.test(t.type)?(e.print("//"+t.value+"\n"),e.indent()):"comment2"==t.type&&(e.print("/*"+t.value+"*/"),n.nlb?(e.print("\n"),e.indent()):e.space())})}}}),n(K,function(){return!1}),n(ye,function(e){if(E(e))return!0;if(e.option("webkit")){if((n=e.parent())instanceof en&&n.expression===this)return!0}if(e.option("wrap_iife")){var n;return(n=e.parent())instanceof Ze&&n.expression===this}return!1}),n(Ee,function(e){var n=e.parent();return n instanceof en&&n.expression===this}),n(bn,function(e){return e.parent()instanceof te}),n(pn,function(e){return E(e)}),n(rn,function(e){var n=e.parent();return n instanceof en&&n.expression===this||n instanceof Ze&&n.expression===this||n instanceof un&&"**"===n.operator&&this instanceof on&&n.left===this&&"++"!==this.operator&&"--"!==this.operator}),n(it,function(e){var n=e.parent();return n instanceof en&&n.expression===this||n instanceof Ze&&n.expression===this||e.option("safari10")&&n instanceof on}),n(Qe,function(e){var n=e.parent();return n instanceof Ze||n instanceof rn||n instanceof un||n instanceof Ge||n instanceof en||n instanceof ln||n instanceof dn||n instanceof sn||n instanceof Ee||n instanceof fn||n instanceof De}),n(un,function(e){var n=e.parent();if(n instanceof Ze&&n.expression===this)return!0;if(n instanceof rn)return!0;if(n instanceof en&&n.expression===this)return!0;if(n instanceof un){var t=n.operator,i=Ct[t],r=this.operator,o=Ct[r];if(i>o||i==o&&this===n.right)return!0}}),n(rt,function(e){var n=e.parent();return n instanceof un&&"="!==n.operator||(n instanceof sn&&n.condition===this||(n instanceof rn||(n instanceof en&&n.expression===this||void 0)))}),n(en,function(e){var n=e.parent();if(n instanceof Ke&&n.expression===this){var t=!1;return this.walk(new w(function(e){return!!(t||e instanceof _e)||(e instanceof Ze?(t=!0,!0):void 0)})),t}}),n(Ze,function(e){var n,t=e.parent();return t instanceof Ke&&t.expression===this||this.expression instanceof ye&&t instanceof en&&t.expression===this&&(n=e.parent(1))instanceof cn&&n.left===t}),n(Ke,function(e){var n=e.parent();if(!u(this,e)&&(n instanceof en||n instanceof Ze&&n.expression===this))return!0}),n(Yn,function(e){var n=e.parent();if(n instanceof en&&n.expression===this){var t=this.getValue();if(t<0||/^0/.test(s(t)))return!0}}),n([cn,sn],function(e){var n=e.parent();return n instanceof rn||(n instanceof un&&!(n instanceof cn)||(n instanceof Ze&&n.expression===this||(n instanceof sn&&n.condition===this||(n instanceof en&&n.expression===this||(this instanceof cn&&this.left instanceof Fe&&!1===this.left.is_array||void 0)))))}),e(ne,function(e,n){n.print_string(e.value,e.quote),n.semicolon()}),e(De,function(e,n){n.print("..."),e.expression.print(n)}),e(Fe,function(e,n){n.print(e.is_array?"[":"{");var t=e.names.length;e.names.forEach(function(e,i){i>0&&n.comma(),e.print(n),i==t-1&&e instanceof Kn&&n.comma()}),n.print(e.is_array?"]":"}")}),e(ee,function(e,n){n.print("debugger"),n.semicolon()}),ae.DEFMETHOD("_do_print_body",function(e){a(this.body,e)}),e(Q,function(e,n){e.body.print(n),n.semicolon()}),e(ve,function(e,n){t(e.body,!0,n,!0),n.print("")}),e(ue,function(e,n){e.label.print(n),n.colon(),e.body.print(n)}),e(te,function(e,n){e.body.print(n),n.semicolon()}),e(re,function(e,n){i(e.body,n)}),e(oe,function(e,n){n.semicolon()}),e(fe,function(e,n){n.print("do"),n.space(),f(e.body,n),n.space(),n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.semicolon()}),e(le,function(e,n){n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e._do_print_body(n)}),e(pe,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init?(e.init instanceof Pe?e.init.print(n):r(e.init,n,!0),n.print(";"),n.space()):n.print(";"),e.condition?(e.condition.print(n),n.print(";"),n.space()):n.print(";"),e.step&&e.step.print(n)}),n.space(),e._do_print_body(n)}),e(de,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init.print(n),n.space(),e instanceof he?n.print("of"):n.print("in"),n.space(),e.object.print(n)}),n.space(),e._do_print_body(n)}),e(me,function(e,n){n.print("with"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e._do_print_body(n)}),ge.DEFMETHOD("_do_print",function(e,n){var t=this;n||(t.async&&(e.print("async"),e.space()),e.print("function"),t.is_generator&&e.star(),t.name&&e.space()),t.name instanceof yn?t.name.print(e):n&&t.name instanceof K&&e.with_square(function(){t.name.print(e)}),e.with_parens(function(){t.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)})}),e.space(),i(t.body,e,!0)}),e(ge,function(e,n){e._do_print(n)}),e(we,function(e,n){e.prefix.print(n),e.template_string.print(n)}),e(xe,function(e,n){var t=n.parent()instanceof we;n.print("`");for(var i=0;i<e.segments.length;i++)e.segments[i]instanceof Ce?t?n.print(e.segments[i].raw):n.print_template_string_chars(e.segments[i].value):(n.print("${"),e.segments[i].print(n),n.print("}"));n.print("`")}),Ee.DEFMETHOD("_do_print",function(e){var n=this,t=e.parent(),r=t instanceof un||t instanceof rn||t instanceof Ze&&n===t.expression;r&&e.print("("),n.async&&(e.print("async"),e.space()),1===n.argnames.length&&n.argnames[0]instanceof yn?n.argnames[0].print(e):e.with_parens(function(){n.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)})}),e.space(),e.print("=>"),e.space(),n.body instanceof K?n.body.print(e):i(n.body,e),r&&e.print(")")}),Be.DEFMETHOD("_do_print",function(e,n){e.print(n),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(Se,function(e,n){e._do_print(n,"return")}),e(Te,function(e,n){e._do_print(n,"throw")}),e(rt,function(e,n){var t=e.is_star?"*":"";n.print("yield"+t),e.expression&&(n.space(),e.expression.print(n))}),e(it,function(e,n){n.print("await"),n.space();var t=e.expression,i=!(t instanceof Ze||t instanceof jn||t instanceof en||t instanceof rn||t instanceof Ln);i&&n.print("("),e.expression.print(n),i&&n.print(")")}),$e.DEFMETHOD("_do_print",function(e,n){e.print(n),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(Oe,function(e,n){e._do_print(n,"break")}),e(Me,function(e,n){e._do_print(n,"continue")}),e(qe,function(e,n){n.print("if"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e.alternative?(!function(e,n){var t=e.body;if(n.option("bracketize")||n.option("ie8")&&t instanceof fe)return f(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof qe){if(!t.alternative)return void f(e.body,n);t=t.alternative}else{if(!(t instanceof ae))break;t=t.body}a(e.body,n)}(e,n),n.space(),n.print("else"),n.space(),e.alternative instanceof qe?e.alternative.print(n):a(e.alternative,n)):e._do_print_body(n)}),e(ze,function(e,n){n.print("switch"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space();var t=e.body.length-1;t<0?n.print("{}"):n.with_block(function(){e.body.forEach(function(e,i){n.indent(!0),e.print(n),i<t&&e.body.length>0&&n.newline()})})}),Ne.DEFMETHOD("_do_print_body",function(e){e.newline(),this.body.forEach(function(n){e.indent(),n.print(e),e.newline()})}),e(je,function(e,n){n.print("default:"),e._do_print_body(n)}),e(He,function(e,n){n.print("case"),n.space(),e.expression.print(n),n.print(":"),e._do_print_body(n)}),e(Ie,function(e,n){n.print("try"),n.space(),i(e.body,n),e.bcatch&&(n.space(),e.bcatch.print(n)),e.bfinally&&(n.space(),e.bfinally.print(n))}),e(Re,function(e,n){n.print("catch"),n.space(),n.with_parens(function(){e.argname.print(n)}),n.space(),i(e.body,n)}),e(Ue,function(e,n){n.print("finally"),n.space(),i(e.body,n)}),Pe.DEFMETHOD("_do_print",function(e,n){e.print(n),e.space(),this.definitions.forEach(function(n,t){t&&e.comma(),n.print(e)});var t=e.parent();(t instanceof pe||t instanceof de)&&t.init===this||e.semicolon()}),e(Ve,function(e,n){e._do_print(n,"let")}),e(Le,function(e,n){e._do_print(n,"var")}),e(Ye,function(e,n){e._do_print(n,"const")}),e(Je,function(e,n){n.print("import"),n.space(),e.imported_name&&e.imported_name.print(n),e.imported_name&&e.imported_names&&(n.print(","),n.space()),e.imported_names&&(1===e.imported_names.length&&"*"===e.imported_names[0].foreign_name.name?e.imported_names[0].print(n):(n.print("{"),e.imported_names.forEach(function(t,i){n.space(),t.print(n),i<e.imported_names.length-1&&n.print(",")}),n.space(),n.print("}"))),(e.imported_name||e.imported_names)&&(n.space(),n.print("from"),n.space()),e.module_name.print(n),n.semicolon()}),e(We,function(e,n){var t=n.parent()instanceof Je,i=e.name.definition();(i&&i.mangled_name||e.name.name)!==e.foreign_name.name?(t?n.print(e.foreign_name.name):e.name.print(n),n.space(),n.print("as"),n.space(),t?e.name.print(n):n.print(e.foreign_name.name)):e.name.print(n)}),e(Xe,function(e,n){if(n.print("export"),n.space(),e.is_default&&(n.print("default"),n.space()),e.exported_names)1===e.exported_names.length&&"*"===e.exported_names[0].name.name?e.exported_names[0].print(n):(n.print("{"),e.exported_names.forEach(function(t,i){n.space(),t.print(n),i<e.exported_names.length-1&&n.print(",")}),n.space(),n.print("}"));else if(e.exported_value)e.exported_value.print(n);else if(e.exported_definition&&(e.exported_definition.print(n),e.exported_definition instanceof Pe))return;e.module_name&&(n.space(),n.print("from"),n.space(),e.module_name.print(n)),n.semicolon()}),e(Ge,function(e,n){if(e.name.print(n),e.value){n.space(),n.print("="),n.space();var t=n.parent(1),i=t instanceof pe||t instanceof de;r(e.value,n,i)}}),e(Ze,function(e,n){e.expression.print(n),e instanceof Ke&&!u(e,n)||((e.expression instanceof Ze||e.expression instanceof ge)&&n.add_mapping(e.start),n.with_parens(function(){e.args.forEach(function(e,t){t&&n.comma(),e.print(n)})}))}),e(Ke,function(e,n){n.print("new"),n.space(),Ze.prototype._codegen(e,n)}),Qe.DEFMETHOD("_do_print",function(e){this.expressions.forEach(function(n,t){t>0&&(e.comma(),e.should_break()&&(e.newline(),e.indent())),n.print(e)})}),e(Qe,function(e,n){e._do_print(n)}),e(nn,function(e,n){var t=e.expression;t.print(n);var i=e.property;n.option("ie8")&&ut(i)?(n.print("["),n.add_mapping(e.end),n.print_string(i),n.print("]")):(t instanceof Yn&&t.getValue()>=0&&(/[xa-f.)]/i.test(n.last())||n.print(".")),n.print("."),n.add_mapping(e.end),n.print_name(i))}),e(tn,function(e,n){e.expression.print(n),n.print("["),e.property.print(n),n.print("]")}),e(on,function(e,n){var t=e.operator;n.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&e.expression instanceof on&&/^[+-]/.test(e.expression.operator))&&n.space(),e.expression.print(n)}),e(an,function(e,n){e.expression.print(n),n.print(e.operator)}),e(un,function(e,n){var t=e.operator;e.left.print(n),">"==t[0]&&e.left instanceof an&&"--"==e.left.operator?n.print(" "):n.space(),n.print(t),("<"==t||"<<"==t)&&e.right instanceof on&&"!"==e.right.operator&&e.right.expression instanceof on&&"--"==e.right.expression.operator?n.print(" "):n.space(),e.right.print(n)}),e(sn,function(e,n){e.condition.print(n),n.space(),n.print("?"),n.space(),e.consequent.print(n),n.space(),n.colon(),e.alternative.print(n)}),e(ln,function(e,n){n.with_square(function(){var t=e.elements,i=t.length;i>0&&n.space(),t.forEach(function(e,t){t&&n.comma(),e.print(n),t===i-1&&e instanceof Kn&&n.comma()}),i>0&&n.space()})}),e(pn,function(e,n){e.properties.length>0?n.with_block(function(){e.properties.forEach(function(e,t){t&&(n.print(","),n.newline()),n.indent(),e.print(n)}),n.newline()}):n.print("{}")}),e(Dn,function(e,n){if(n.print("class"),n.space(),e.name&&(e.name.print(n),n.space()),e.extends){var t=!(e.extends instanceof jn||e.extends instanceof en||e.extends instanceof bn||e.extends instanceof ye);n.print("extends"),t?n.print("("):n.space(),e.extends.print(n),t?n.print(")"):n.space()}e.properties.length>0?n.with_block(function(){e.properties.forEach(function(e,t){t&&n.newline(),n.indent(),e.print(n)}),n.newline()}):n.print("{}")}),e(En,function(e,n){n.print("new.target")}),e(hn,function(e,n){function t(e){var n=e.definition();return n?n.mangled_name||n.name:e.name}var i=n.option("shorthand");i&&e.value instanceof yn&&O(e.key)&&t(e.value)===e.key&&S(e.key)?o(e.key,e.quote,n):i&&e.value instanceof fn&&e.value.left instanceof yn&&O(e.key)&&t(e.value.left)===e.key?(o(e.key,e.quote,n),n.space(),n.print("="),n.space(),e.value.right.print(n)):(e.key instanceof K?n.with_square(function(){e.key.print(n)}):o(e.key,e.quote,n),n.colon(),e.value.print(n))}),dn.DEFMETHOD("_print_getter_setter",function(e,n){var t=this;t.static&&(n.print("static"),n.space()),e&&(n.print(e),n.space()),t.key instanceof Sn?o(t.key.name,t.quote,n):n.with_square(function(){t.key.print(n)}),t.value._do_print(n,!0)}),e(mn,function(e,n){e._print_getter_setter("set",n)}),e(_n,function(e,n){e._print_getter_setter("get",n)}),e(vn,function(e,n){e._print_getter_setter(e.is_generator?"*":e.async&&"async",n)}),yn.DEFMETHOD("_do_print",function(e){var n=this.definition();e.print_name(n?n.mangled_name||n.name:this.name)}),e(yn,function(e,n){e._do_print(n)}),e(Kn,c),e(Un,function(e,n){n.print("this")}),e(Pn,function(e,n){n.print("super")}),e(Ln,function(e,n){n.print(e.getValue())}),e(Vn,function(e,n){n.print_string(e.getValue(),e.quote,d)}),e(Yn,function(e,n){m&&e.start&&null!=e.start.raw?n.print(e.start.raw):n.print(s(e.getValue()))}),e(Wn,function(e,n){var t=e.getValue(),i=t.toString();t.raw_source&&(i="/"+t.raw_source+i.slice(i.lastIndexOf("/"))),i=n.to_utf8(i),n.print(i);var r=n.parent();r instanceof un&&/^in/.test(r.operator)&&r.left===e&&n.print(" ")}),l(K,c),l(ne,p),l(ee,p),l(yn,p),l(ke,p),l(ae,p),l(ue,c),l(ge,p),l(ze,p),l(Ne,p),l(re,p),l(ve,c),l(Ke,p),l(Ie,p),l(Re,p),l(Ue,p),l(Pe,p),l(Ln,p),l(mn,function(e,n){n.add_mapping(e.start,e.key.name)}),l(_n,function(e,n){n.add_mapping(e.start,e.key.name)}),l(dn,function(e,n){n.add_mapping(e.start,e.key)})}(),s(P.prototype=new H,{option:function(e){return this.options[e]},exposed:function(e){if(e.export)return!0;if(e.global)for(var n=0,t=e.orig.length;n<t;n++)if(!this.toplevel[e.orig[n]instanceof Bn?"funcs":"vars"])return!0;return!1},in_boolean_context:function(){if(!this.option("booleans"))return!1;for(var e,n=this.self(),t=0;e=this.parent(t);t++){if(e instanceof te||e instanceof sn&&e.condition===n||e instanceof ce&&e.condition===n||e instanceof pe&&e.condition===n||e instanceof qe&&e.condition===n||e instanceof on&&"!"==e.operator&&e.expression===n)return!0;if(!(e instanceof un&&("&&"==e.operator||"||"==e.operator)||e instanceof sn||e.tail_node()===n))return!1;n=e}},compress:function(e){this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i={ie8:this.option("ie8")},r=0;r<n;r++)if(e.figure_out_scope(i),(r>0||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),n>1){var o=0;if(e.walk(new w(function(){o++})),this.info("pass "+r+": last_count: "+t+", count: "+o),o>=t)break;t=o}return this.option("expression")&&e.process_expression(!1),e},info:function(){"verbose"==this.options.warnings&&K.warn.apply(K,arguments)},warn:function(e,n){if(this.options.warnings){var t=m(e,n);t in this.warnings_produced||(this.warnings_produced[t]=!0,K.warn.apply(K,arguments))}},clear_warnings:function(){this.warnings_produced={}},before:function(e,n,t){if(e._squeezed)return e;var i=!1;e instanceof _e&&(e=(e=e.hoist_properties(this)).hoist_declarations(this),i=!0),n(e,this),n(e,this);var r=e.optimize(this);return i&&r instanceof _e&&(r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(){function e(e,n){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;if(e.has_directive("use asm"))return this;var t=n(this,e);return t._optimized=!0,t})}function n(e){return e instanceof Ee||e instanceof ye}function r(e){if(e instanceof Un)return!0;if(e instanceof jn)return e.definition().orig[0]instanceof Tn;if(e instanceof en){if((e=e.expression)instanceof jn){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||!(e instanceof Wn)&&(e instanceof Ln||r(e))}return!1}function o(e,n){if(!(e instanceof jn))return!1;for(var t=e.definition().orig,i=t.length;--i>=0;)if(t[i]instanceof n)return!0}function a(e,n){for(var t,i=0;(t=e.parent(i++))&&!(t instanceof _e);)if(t instanceof Re){t=t.argname.definition().scope;break}return t.find_variable(n)}function u(e,n,t){return t||(t={}),n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function s(e,n){return 1==n.length?n[0]:u(Qe,e,{expressions:n.reduce(A,[])})}function h(e,n){switch(typeof e){case"string":return u(Vn,n,{value:e});case"number":return isNaN(e)?u(Gn,n):isFinite(e)?1/e<0?u(on,n,{operator:"-",expression:u(Yn,n,{value:-e})}):u(Yn,n,{value:e}):e<0?u(on,n,{operator:"-",expression:u(Qn,n)}):u(Qn,n);case"boolean":return u(e?tt:nt,n);case"undefined":return u(Zn,n);default:if(null===e)return u(Xn,n,{value:null});if(e instanceof RegExp)return u(Wn,n,{value:e});throw new Error(m("Can't handle constant of type: {type}",{type:typeof e}))}}function v(e,n,t){return e instanceof on&&"delete"==e.operator||e instanceof Ze&&e.expression===n&&(t instanceof en||t instanceof jn&&"eval"==t.name)?s(n,[u(Yn,n,{value:0}),t]):t}function A(e,n){return n instanceof Qe?e.push.apply(e,n.expressions):e.push(n),e}function x(e){if(null===e)return[];if(e instanceof re)return e.body;if(e instanceof oe)return[];if(e instanceof Q)return[e];throw new Error("Can't convert thing to statement array")}function C(e){return null===e||(e instanceof oe||e instanceof re&&0==e.body.length)}function k(e){return!(e instanceof gn||e instanceof Ae||e instanceof Ve||e instanceof Ye||e instanceof Xe||e instanceof Je)}function B(e){return e instanceof ze?e:(e instanceof pe||e instanceof de||e instanceof ce)&&e.body instanceof re?e.body:e}function S(e){return e instanceof Ze&&!(e instanceof Ke)&&(e.expression instanceof ye||S(e.expression))}function T(e){return e instanceof jn&&e.definition().undeclared}function $(e){return e instanceof Qn||e instanceof Gn||e instanceof Zn}function q(e,i){function a(e,i){function a(e,n,t){var i=!1,r=!(e instanceof Ee);return n.walk(new w(function(n,o){if(i)return!0;if(n instanceof jn&&e.variables.has(n.name)){var a=n.definition().scope;if(a!==l)for(;a=a.parent_scope;)if(a===l)return!0;return i=!0}if((t||r)&&n instanceof Un)return i=!0;if(n instanceof _e&&!(n instanceof Ee)){var u=r;return r=!1,o(),r=u,!0}})),i}function s(e){e instanceof cn&&!e.left.has_side_effects(i)||e instanceof rn&&("++"==e.operator||"--"==e.operator)?h.push(e):e instanceof Qe?e.expressions.forEach(s):!(e instanceof Pe)||!i.option("unused")&&e instanceof Ye?e instanceof te?s(e.body):e instanceof pe&&e.init&&s(e.init):e.definitions.forEach(function(e){e.value&&h.push(e)})}function c(e){if(!(e instanceof Ge&&e.name instanceof An)){var n=e[e instanceof cn?"left":"expression"];return!o(n,xn)&&n}var r=e.name.definition();if(t(e.name,r.orig)){var a=r.orig.length-r.eliminated,s=r.references.length-r.replaced;return a>1&&!(e.name instanceof kn)||(s>1?function(e){var n=e.value;if(n instanceof jn&&"arguments"!=n.name){var t=n.definition();if(!t.undeclared)return y=t}}(e):!i.exposed(r))?u(jn,e.name,e.name):void 0}}function f(e){return e[e instanceof cn?"right":"value"]}var l=i.find_parent(_e).get_defun_scope();if(l.uses_eval||l.uses_with)return e;for(var d,h=[],m=e.length,_=new H(function(e,n){if(S)return e;if(B){var t=_.parent();if(e instanceof cn&&"="!=e.operator&&E.equivalent_to(e.left)||e instanceof it||e instanceof Ze&&E instanceof en&&E.equivalent_to(e.expression)||e instanceof ee||e instanceof Fe||e instanceof se&&!(e instanceof pe)||e instanceof jn&&!e.is_declared(i)||e instanceof Ie||e instanceof me||t instanceof pe&&e!==t.init)return S=!0,e;if(O&&!(e instanceof An)&&E.equivalent_to(e)){if(I(e,t))return y&&T++,e;if(p=S=!0,T++,i.info("Collapsing {name} [{file}:{line},{col}]",{name:e.print_to_string(),file:e.start.file,line:e.start.line,col:e.start.col}),b instanceof an)return u(on,b,b);if(b instanceof Ge){if(y)return S=!1,e;var r=b.name.definition(),o=b.value;return r.references.length-r.replaced!=1||i.exposed(r)?u(cn,b,{operator:"=",left:u(jn,b.name,b.name),right:o}):(r.replaced++,k&&$(o)?o.transform(i):v(t,e,o))}return b.write_only=!1,b}var a;return e instanceof Ze||e instanceof Be||e instanceof en&&(C||e.expression.may_throw_on_access(i))||e instanceof jn&&(A[e.name]||C&&!function(e){return 1==e.orig.length&&e.orig[0]instanceof Bn||e.scope.get_defun_scope()===l&&e.references.every(function(e){return e.scope.get_defun_scope()===l})}(e.definition()))||(a=function(e){return e instanceof Ge?e.value&&e.name:I(e.left,e)}(e))&&(a instanceof en||a.name in A)||(C||!F)&&(t instanceof un&&ae(t.operator)||t instanceof He||t instanceof sn||t instanceof qe)?(e instanceof _e||n(e,_),S=!0,e):e instanceof je||e instanceof _e?e:void 0}if(e===b)return B=!0,e}),D=new H(function(e){if(S)return e;if(B)return e instanceof jn&&e.name==x.name?(--T||(S=!0),I(e,D.parent())?e:(x.replaced++,y.replaced--,b.value)):e instanceof je||e instanceof _e?e:void 0;if(e===b)return B=!0,e});--m>=0;)for(0==m&&i.option("unused")&&function(){var e,r=i.self();if(n(r)&&!r.name&&!r.uses_arguments&&!r.uses_eval&&(e=i.parent())instanceof Ze&&e.expression===r&&g(e.args,function(e){return!(e instanceof De)})){var o=i.has_directive("use strict");o&&!t(o,r.body)&&(o=!1);var s=r.argnames.length;d=e.args.slice(s);for(var c=Object.create(null),f=s;--f>=0;){var l=r.argnames[f],p=e.args[f];if(d.unshift(u(Ge,l,{name:l,value:p})),!(l.name in c))if(c[l.name]=!0,l instanceof De){var m=e.args.slice(f);g(m,function(e){return!a(r,e,o)})&&(h.unshift(u(Ge,l,{name:l.expression,value:u(ln,e,{elements:m})})),h[0].__name=l)}else p?a(r,p,o)&&(p=null):p=u(Zn,l).transform(i),p&&h.unshift(u(Ge,l,{name:l,value:p}))}}}(),s(e[m]);h.length>0;){var b=h.pop(),y=null,E=c(b);if(E&&!r(E)&&!E.has_side_effects(i)){var A=function(e){var n=Object.create(null);if(e instanceof rn)return n;var t=new w(function(e,i){for(var r=e;r instanceof en;)r=r.expression;(r instanceof jn||r instanceof Un)&&(n[r.name]=n[r.name]||I(e,t.parent()))});return f(e).walk(t),n}(b);E instanceof jn&&(A[E.name]=!1);var F=y;if(!F&&E instanceof jn){var x=E.definition();F=x.references.length-x.replaced==1}var C=function(e){return!(e instanceof rn)&&f(e).has_side_effects(i)}(b),k=b.name instanceof kn,B=k,S=!1,T=0,O=!d||!B;if(!O){for(var M=i.self().argnames.lastIndexOf(b.name)+1;!S&&M<d.length;M++)d[M].transform(_);O=!0}for(var q=m;!S&&q<e.length;q++)e[q].transform(_);if(y){x=b.name.definition();if(S&&x.references.length-x.replaced>T)T=!1;else{S=!1,B=k;for(q=m;!S&&q<e.length;q++)e[q].transform(D)}}T&&!function(n){if(n.name instanceof kn){var t=i.parent(),r=i.self().argnames,o=r.indexOf(n.name);if(o<0)t.args.length=Math.min(t.args.length,r.length-1);else{var a=t.args;a[o]&&(a[o]=u(Yn,a[o],{value:0}))}return!0}var s=!1;return e[m].transform(new H(function(e,t,i){return s?e:e===n||e.body===n?(s=!0,e instanceof Ge?(e.value=null,e):i?G.skip:null):void 0},function(e){if(e instanceof Qe)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}))}(b)&&e.splice(m,1)}}}function c(e){for(var n=[],t=0;t<e.length;){var i=e[t];i instanceof re&&g(i.body,k)?(p=!0,c(i.body),[].splice.apply(e,[t,1].concat(i.body)),t+=i.body.length):i instanceof oe?(p=!0,e.splice(t,1)):i instanceof ne?n.indexOf(i.value)<0?(t++,n.push(i.value)):(p=!0,e.splice(t,1)):t++}}function f(e,n){function t(t){if(!t)return!1;for(var i=c+1,r=e.length;i<r;i++){var a=e[i];if(a instanceof Ye||a instanceof Ve)return!1}var u=t instanceof $e?n.loopcontrol_target(t):null;return t instanceof Se&&s&&function(e){return!e||e instanceof on&&"void"==e.operator}(t.value)||t instanceof Me&&o===B(u)||t instanceof Oe&&u instanceof re&&o===u}function i(){var n=e.slice(c+1);return e.length=c+1,n.filter(function(n){return!(n instanceof Ae)||(e.push(n),!1)})}function r(e,n){var t=x(e).slice(0,-1);return n.value&&t.push(u(te,n.value,{body:n.value.expression})),t}for(var o=n.self(),a=function(e){for(var n=0,t=e.length;--t>=0;){var i=e[t];if(i instanceof qe&&i.body instanceof Se&&++n>1)return!0}return!1}(e),s=o instanceof ge,c=e.length;--c>=0;){var f=e[c],l=e[c+1];if(s&&!l&&f instanceof Se){if(!f.value){p=!0,e.length--;continue}if(f.value instanceof on&&"void"==f.value.operator){p=!0,e[c]=u(te,f,{body:f.value.expression});continue}}if(f instanceof qe){if(t(h=V(f.body))){h.label&&_(h.label.thedef.references,h),p=!0,(f=f.clone()).condition=f.condition.negate(n);var d=r(f.body,h);f.body=u(re,f,{body:x(f.alternative).concat(i())}),f.alternative=u(re,f,{body:d}),e[c]=f.transform(n);continue}var h;if(t(h=V(f.alternative))){h.label&&_(h.label.thedef.references,h),p=!0,(f=f.clone()).body=u(re,f.body,{body:x(f.body).concat(i())});d=r(f.alternative,h);f.alternative=u(re,f.alternative,{body:d}),e[c]=f.transform(n);continue}}if(f instanceof qe&&f.body instanceof Se){var m=f.body.value;if(!m&&!f.alternative&&(s&&!l||l instanceof Se&&!l.value)){p=!0,e[c]=u(te,f.condition,{body:f.condition});continue}if(m&&!f.alternative&&l instanceof Se&&l.value){p=!0,(f=f.clone()).alternative=l,e.splice(c,2,f.transform(n));continue}if(a&&s&&m&&!f.alternative&&(!l||l instanceof Se)){p=!0,(f=f.clone()).alternative=l||u(Se,f,{value:null}),e.splice(c,l?2:1,f.transform(n));continue}var v=e[c-1];if(n.option("sequences")&&s&&!f.alternative&&v instanceof qe&&v.body instanceof Se&&c+2==e.length&&l instanceof te){p=!0,(f=f.clone()).alternative=u(re,l,{body:[l,u(Se,l,{value:null})]}),e.splice(c,2,f.transform(n));continue}}}}function l(e,n){function t(){if(i.length){var n=s(i[0],i);e[r++]=u(te,n,{body:n}),i=[]}}if(!(e.length<2)){for(var i=[],r=0,o=0,a=e.length;o<a;o++){var c=e[o];if(c instanceof te){i.length>=n.sequences_limit&&t();var f=c.body;i.length>0&&(f=f.drop_side_effect_free(n)),f&&A(i,f)}else t(),e[r++]=c}t(),e.length=r,function(e,n){function t(e){r--;var t=i.body;return s(t,[t,e]).transform(n)}for(var i,r=0,o=0,a=e.length;o<a;o++){var c=e[o];if(i)if(c instanceof pe&&!(c.init instanceof Pe)){var f=!1;i.body.walk(new w(function(e){return!!(f||e instanceof _e)||(e instanceof un&&"in"==e.operator?(f=!0,!0):void 0)})),f||(c.init?c.init=t(c.init):(c.init=i.body,r--))}else c instanceof qe?c.condition=t(c.condition):c instanceof me?c.expression=t(c.expression):c instanceof Be&&c.value?c.value=t(c.value):c instanceof Be?c.value=t(u(Zn,c).transform(n)):c instanceof ze&&(c.expression=t(c.expression));e[r++]=c,i=c instanceof te?c:null}e.length=r}(e,n),p=e.length!=a}}var p,d=10;do{p=!1,c(e),i.option("dead_code")&&function(e,n){for(var t,i=n.self(),r=0,o=0,a=e.length;r<a;r++){var u=e[r];if(u instanceof $e){var s=n.loopcontrol_target(u);u instanceof Oe&&!(s instanceof se)&&B(s)===i||u instanceof Me&&B(s)===i?u.label&&_(u.label.thedef.references,u):e[o++]=u}else e[o++]=u;if(V(u)){t=e.slice(r+1);break}}e.length=o,p=o!=a,t&&t.forEach(function(t){z(n,t,e)})}(e,i),i.option("if_return")&&f(e,i),i.sequences_limit>0&&l(e,i),i.option("join_vars")&&function(e,n){for(var t=0,i=-1,r=e.length;t<r;t++){var o=e[t],a=e[i];o instanceof Pe&&a&&a.TYPE==o.TYPE?(a.definitions=a.definitions.concat(o.definitions),p=!0):o instanceof pe&&a instanceof Le&&(!o.init||o.init.TYPE==a.TYPE)?(p=!0,o.init?o.init.definitions=a.definitions.concat(o.init.definitions):o.init=a,e[i]=o):e[++i]=o}e.length=i+1}(e),i.option("collapse_vars")&&a(e,i)}while(p&&d-- >0)}function z(e,n,t){n instanceof Ae||e.warn("Dropping unreachable code [{file}:{line},{col}]",n.start),n.walk(new w(function(i){return i instanceof Le?(e.warn("Declarations in unreachable code! [{file}:{line},{col}]",i.start),i.remove_initializers(),t.push(i),!0):i instanceof Ae&&(i===n||!e.has_directive("use strict"))?(t.push(i===n?i:u(Le,i,{definitions:[u(Ge,i,{name:u(Fn,i.name,i.name),value:null})]})),!0):i instanceof _e||void 0}))}function N(e,n){return e.is_undefined||e instanceof Zn||e instanceof on&&"void"==e.operator&&!e.expression.has_side_effects(n)}function I(e,n){return n instanceof rn&&he(n.operator)?n.expression:n instanceof cn&&n.left===e?e:void 0}function R(e,n){return e.print_to_string().length>n.print_to_string().length?n:e}function L(e,n,t){return(E(e)?function(e,n){return R(u(te,e,{body:e}),u(te,n,{body:n})).body}:R)(n,t)}function V(e){return e&&e.aborts()}function Y(e,n){function t(t){t=x(t),e.body instanceof re?(e.body=e.body.clone(),e.body.body=t.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=u(re,e.body,{body:t}).transform(n),Y(e,n)}var i=e.body instanceof re?e.body.body[0]:e.body;i instanceof qe&&(i.body instanceof Oe&&n.loopcontrol_target(i.body)===n.self()?(e.condition?e.condition=u(un,e.condition,{left:e.condition,operator:"&&",right:i.condition.negate(n)}):e.condition=i.condition.negate(n),t(i.alternative)):i.alternative instanceof Oe&&n.loopcontrol_target(i.alternative)===n.self()&&(e.condition?e.condition=u(un,e.condition,{left:e.condition,operator:"&&",right:i.condition}):e.condition=i.condition,t(i.body)))}function W(e,n){return e instanceof jn||e.TYPE===n.TYPE}function J(e,n){return n.in_boolean_context()?L(n,e,s(e,[e,u(tt,e)]).optimize(n)):e}function X(e,n){if(!n.option("computed_props"))return e;if(!(e.key instanceof Ln))return e;if(e.key instanceof Vn||e.key instanceof Yn){if("constructor"==e.key.value&&n.parent()instanceof Dn)return e;e.key=e instanceof hn?e.key.value:u(Sn,e.key,{name:e.key.value})}return e}e(K,function(e,n){return e}),K.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),_e.DEFMETHOD("process_expression",function(e,n){var t=this,i=new H(function(r){if(e&&r instanceof te)return u(Se,r,{value:r.body});if(!e&&r instanceof Se){if(n){var o=r.value&&r.value.drop_side_effect_free(n,!0);return o?u(te,r,{body:o}):u(oe,r)}return u(te,r,{body:r.value||u(on,r,{operator:"void",expression:u(Yn,r,{value:0})})})}if(r instanceof Dn||r instanceof ge&&r!==t)return r;if(r instanceof ie){var a=r.body.length-1;a>=0&&(r.body[a]=r.body[a].transform(i))}return r instanceof qe&&(r.body=r.body.transform(i),r.alternative&&(r.alternative=r.alternative.transform(i))),r instanceof me&&(r.body=r.body.transform(i)),r});t.transform(i)}),ve.DEFMETHOD("reset_opt_flags",function(e){function t(e,n){_[e.id]=n}function i(e){if(_[e.id]){if(null==e.fixed){var n=e.orig[0];if(n instanceof kn||"arguments"==n.name)return!1;e.fixed=u(Zn,n)}return!0}return e.fixed instanceof Ae}function r(e,n){return!!y(_,e.id)&&(!!i(e)&&(!1!==e.fixed&&(!(null!=e.fixed&&(!n||e.references.length>0))&&!e.orig.some(function(e){return e instanceof xn||e instanceof Bn||e instanceof Tn}))))}function o(){_=Object.create(_)}function a(){_=Object.getPrototypeOf(_)}function s(n){n.direct_access=!1,n.escaped=!1,n.scope.uses_eval||n.scope.uses_with?n.fixed=!1:n.orig[0]instanceof xn||!e.exposed(n)?n.fixed=void 0:n.fixed=!1,n.references=[],n.should_replace=void 0,n.single_use=void 0}function c(e){return m&&!e.scope.uses_eval&&!e.scope.uses_with&&1==e.references.length&&g[e.id]===D}function f(e,n){if(n instanceof Ln&&(n=n.getValue()),n instanceof K)return null;var t;if(e instanceof ln){var i=e.elements;if("length"==n)return h(i.length,e);"number"==typeof n&&n in i&&(t=i[n])}else if(e instanceof pn)for(var r=e.properties,o=r.length;--o>=0;){if(!(r[o]instanceof hn))return;t||r[o].key!==n||(t=r[o].value)}return t instanceof jn&&t.fixed_value()||t}function l(e,n,t,i){var r=b.parent(t);if(I(e,r)||!(i||!(r instanceof Ze)||r.expression!==e||n instanceof Ee||n instanceof Dn||n instanceof ye&&(r instanceof Ke||!n.contains_this())))return!0;if(r instanceof ln)return l(r,r,t+1);if(r instanceof hn&&e===r.value){var o=b.parent(t+1);return l(o,o,t+2)}return r instanceof en&&r.expression===e?!i&&l(r,f(n,r.property),t+1):void 0}function p(e,n,t,i,r){var o=b.parent(r);if(i){if(i.is_constant())return;if(i instanceof bn)return;if(r>0&&i.is_constant_expression(n))return}if(o instanceof cn&&"="==o.operator&&t===o.right||o instanceof Ze&&t!==o.expression||o instanceof Be&&t===o.value&&t.scope!==e.scope||o instanceof Ge&&t===o.value||o instanceof rt&&t===o.value&&t.scope!==e.scope)e.escaped=!0;else{if(o instanceof ln||o instanceof it||o instanceof sn&&t!==o.condition||o instanceof De||o instanceof Qe&&t===o.tail_node())p(e,n,o,o,r+1);else if(o instanceof hn&&t===o.value){var a=b.parent(r+1);p(e,n,a,a,r+2)}else if(o instanceof en&&t===o.expression&&(i=f(i,o.property),p(e,n,o,i,r+1),i))return;0==r&&(e.direct_access=!0)}}var d=e.option("reduce_vars"),m=e.option("unused"),_=Object.create(null),v=new w(function(e){if(e instanceof yn){var n=e.definition();n&&(e instanceof jn&&n.references.push(e),n.fixed=!1)}}),D=null,g=Object.create(null),b=new w(function(f,h){if(f._squeezed=!1,f._optimized=!1,d){if(f instanceof ve&&f.globals.each(s),f instanceof _e&&f.variables.each(s),f.block_scope&&f.block_scope.variables.each(s),f instanceof jn){(y=f.definition()).references.push(f);var m;void 0!==y.fixed&&i(y)&&"m"!=y.single_use?y.fixed&&((m=f.fixed_value())&&c(y)&&!e.exposed(y)?y.single_use=m instanceof ge||m instanceof Dn||y.scope===f.scope&&m.is_constant_expression():y.single_use=!1,l(f,m,0,function(e){return!!e&&(e.is_constant()||e instanceof ge||e instanceof Un)}(m))&&(y.single_use?y.single_use="m":y.fixed=!1)):y.fixed=!1,p(y,f.scope,f,m,0)}if(f instanceof Mn&&(f.definition().fixed=!1),f instanceof Ge)if(f.name instanceof Fe)f.name.walk(v);else{if(void 0===(y=f.name.definition()).fixed||r(y,f.value))return f.value?(y.fixed=function(){return f.value},g[y.id]=D,t(y,!1),h()):y.fixed=null,t(y,!0),!0;f.value&&(y.fixed=!1)}if(f instanceof cn&&"="==f.operator)if(f.left instanceof Fe)f.left.walk(v);else if(f.left instanceof jn){if(r(y=f.left.definition(),f.right))return y.references.push(f.left),y.fixed=function(){return f.right},t(y,!1),f.right.walk(b),t(y,!0),!0}if(f instanceof gn||f instanceof Ae){f.inlined=!1;var y=f.name.definition();e.exposed(y)||i(y)?y.fixed=!1:(y.fixed=f,g[y.id]=D,t(y,!0),y.single_use=c(y));var E=_;return _=Object.create(null),h(),_=E,!0}if(f instanceof bn)return f.inlined=!1,o(),h(),a(),!0;if(n(f)){f.inlined=!1,o();var A;return!f.name&&(A=b.parent())instanceof Ze&&A.expression===f&&f.argnames.forEach(function(e,n){if(e.definition){var i=e.definition();f.uses_arguments||void 0!==i.fixed?i.fixed=!1:(i.fixed=function(){return A.args[n]||u(Zn,A)},g[i.id]=D,t(i,!0))}}),h(),a(),!0}if(f instanceof be)return o(),h(),a(),!0;if(f instanceof un&&ae(f.operator))return f.left.walk(b),o(),f.right.walk(b),a(),!0;if(f instanceof sn)return f.condition.walk(b),o(),f.consequent.walk(b),a(),o(),f.alternative.walk(b),a(),!0;if(f instanceof qe)return f.condition.walk(b),o(),f.body.walk(b),a(),f.alternative&&(o(),f.alternative.walk(b),a()),!0;if(f instanceof ce){var w=D;return D=f,o(),f.condition.walk(b),f.body.walk(b),a(),D=w,!0}if(f instanceof ue)return o(),f.body.walk(b),a(),!0;if(f instanceof pe){f.init&&f.init.walk(b);w=D;return D=f,f.condition&&(o(),f.condition.walk(b),a()),o(),f.body.walk(b),a(),f.step&&(o(),f.step.walk(b),a()),D=w,!0}if(f instanceof de){f.init.walk(v),f.object.walk(b);w=D;return D=f,o(),f.body.walk(b),a(),D=w,!0}if(f instanceof Ie)return o(),F(f,b),a(),f.bcatch&&(o(),f.bcatch.walk(b),a()),f.bfinally&&f.bfinally.walk(b),!0;if(f instanceof Ne)return o(),h(),a(),!0}});this.walk(b)}),yn.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return!e||e instanceof K?e:e()}),jn.DEFMETHOD("is_immutable",function(){var e=this.definition().orig;return 1==e.length&&e[0]instanceof Tn});var Z=D("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");jn.DEFMETHOD("is_declared",function(e){return!this.definition().undeclared||e.option("unsafe")&&Z(this.name)}),function(e){function n(e){return/strict/.test(e.option("pure_getters"))}K.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),e(K,n),e(Xn,l),e(Zn,l),e(Ln,f),e(ln,f),e(pn,function(e){if(!n(e))return!1;for(var t=this.properties.length;--t>=0;)if(this.properties[t]._dot_throw(e))return!0;return!1}),e(dn,f),e(_n,l),e(De,function(e){return this.expression._dot_throw(e)}),e(ye,f),e(Ee,f),e(an,f),e(on,function(){return"void"==this.operator}),e(un,function(e){switch(this.operator){case"&&":return this.left._dot_throw(e);case"||":return this.left._dot_throw(e)&&this.right._dot_throw(e);default:return!1}}),e(cn,function(e){return"="==this.operator&&this.right._dot_throw(e)}),e(sn,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),e(Qe,function(e){return this.tail_node()._dot_throw(e)}),e(jn,function(e){if(this.is_undefined)return!0;if(!n(e))return!1;if(T(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var t=this.fixed_value();return!t||t._dot_throw(e)})}(function(e,n){e.DEFMETHOD("_dot_throw",n)}),function(e){var n=["!","delete"],i=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];e(K,f),e(on,function(){return t(this.operator,n)}),e(un,function(){return t(this.operator,i)||ae(this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),e(sn,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),e(cn,function(){return"="==this.operator&&this.right.is_boolean()}),e(Qe,function(){return this.tail_node().is_boolean()}),e(tt,l),e(nt,l)}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(K,f),e(Yn,l);var n=D("+ - ~ ++ --");e(rn,function(){return n(this.operator)});var t=D("- * / % & | ^ << >> >>>");e(un,function(e){return t(this.operator)||"+"==this.operator&&this.left.is_number(e)&&this.right.is_number(e)}),e(cn,function(e){return t(this.operator.slice(0,-1))||"="==this.operator&&this.right.is_number(e)}),e(Qe,function(e){return this.tail_node().is_number(e)}),e(sn,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(K,f),e(Vn,l),e(xe,function(){return 1===this.segments.length}),e(on,function(){return"typeof"==this.operator}),e(un,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),e(cn,function(e){return("="==this.operator||"+="==this.operator)&&this.right.is_string(e)}),e(Qe,function(e){return this.tail_node().is_string(e)}),e(sn,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)})}(function(e,n){e.DEFMETHOD("is_string",n)});var ae=D("&& ||"),he=D("delete ++ --");!function(e){function n(e,t){if(e instanceof K)return u(e.CTOR,t,e);if(Array.isArray(e))return u(ln,t,{elements:e.map(function(e){return n(e,t)})});if(e&&"object"==typeof e){var i=[];for(var r in e)y(e,r)&&i.push(u(hn,t,{key:r,value:n(e[r],t)}));return u(pn,t,{properties:i})}return h(e,t)}K.DEFMETHOD("resolve_defines",function(e){if(e.option("global_defs")){var n=this._find_defs(e,"");if(n){var t,i=this,r=0;do{t=i,i=e.parent(r++)}while(i instanceof en&&i.expression===t);if(!I(t,i))return n;e.warn("global_defs "+this.print_to_string()+" redefined [{file}:{line},{col}]",this.start)}}}),e(K,c),e(nn,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),e(jn,function(e,t){if(this.global()){var i,r=e.option("global_defs");if(r&&y(r,i=this.name+t)){var o=n(r[i],this),a=e.find_parent(ve);return o.walk(new w(function(e){e instanceof jn&&(e.scope=a,e.thedef=a.def_global(e))})),o}}})}(function(e,n){e.DEFMETHOD("_find_defs",n)}),function(e){function n(e,n){if(!n)throw new Error("Compressor must be passed");return e._eval(n)}function t(e){for(var n in e)e[n]=D(e[n])}K.DEFMETHOD("evaluate",function(e){if(!e.option("evaluate"))return this;var n=this._eval(e);return!n||n instanceof RegExp||"object"!=typeof n?n:this});var i=D("! ~ - + void");K.DEFMETHOD("is_constant",function(){return this instanceof Ln?!(this instanceof Wn):this instanceof on&&this.expression instanceof Ln&&i(this.operator)}),e(Q,function(){throw new Error(m("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(ge,p),e(Dn,p),e(K,p),e(Ln,function(){return this.getValue()}),e(xe,function(){return 1!==this.segments.length?this:this.segments[0].value}),e(ln,function(e){if(e.option("unsafe")){for(var t=[],i=0,r=this.elements.length;i<r;i++){var o=this.elements[i];if(!(o instanceof ye)){var a=n(o,e);if(o===a)return this;t.push(a)}}return t}return this}),e(pn,function(e){if(e.option("unsafe")){for(var t={},i=0,r=this.properties.length;i<r;i++){var o=this.properties[i];if(o instanceof De)return this;var a=o.key;if(a instanceof yn)a=a.name;else if(a instanceof K&&(a=n(a,e))===o.key)return this;if("function"==typeof Object.prototype[a])return this;if(!(o.value instanceof ye)&&(t[a]=n(o.value,e),t[a]===o.value))return this}return t}return this}),e(on,function(e){var t=this.expression;if(e.option("typeofs")&&"typeof"==this.operator&&(t instanceof ge||t instanceof jn&&t.fixed_value()instanceof ge))return"function";if((t=n(t,e))===this.expression)return this;switch(this.operator){case"!":return!t;case"typeof":return t instanceof RegExp?this:typeof t;case"void":return;case"~":return~t;case"-":return-t;case"+":return+t}return this}),e(un,function(e){var t=n(this.left,e);if(t===this.left)return this;var i=n(this.right,e);if(i===this.right)return this;var r;switch(this.operator){case"&&":r=t&&i;break;case"||":r=t||i;break;case"|":r=t|i;break;case"&":r=t&i;break;case"^":r=t^i;break;case"+":r=t+i;break;case"*":r=t*i;break;case"**":r=Math.pow(t,i);break;case"/":r=t/i;break;case"%":r=t%i;break;case"-":r=t-i;break;case"<<":r=t<<i;break;case">>":r=t>>i;break;case">>>":r=t>>>i;break;case"==":r=t==i;break;case"===":r=t===i;break;case"!=":r=t!=i;break;case"!==":r=t!==i;break;case"<":r=t<i;break;case"<=":r=t<=i;break;case">":r=t>i;break;case">=":r=t>=i;break;default:return this}return isNaN(r)&&e.find_parent(me)?this:r}),e(sn,function(e){var t=n(this.condition,e);if(t===this.condition)return this;var i=t?this.consequent:this.alternative,r=n(i,e);return r===i?this:r}),e(jn,function(e){var t=this.fixed_value();if(!t)return this;this._eval=p;var i=n(t,e);return i===t?(delete this._eval,this):(y(t,"_eval")||(t._eval=function(){return i}),i&&"object"==typeof i&&this.definition().escaped?(delete this._eval,this):(this._eval=t._eval,i))});var r={Array:Array,Math:Math,Number:Number,String:String},o={Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]};t(o),e(en,function(e){if(e.option("unsafe")){var t=this.property;if(t instanceof K&&(t=n(t,e))===this.property)return this;var i,a=this.expression;if(T(a)){if(!(o[a.name]||f)(t))return this;i=r[a.name]}else if(!(i=n(a,e))||i===a||!y(i,t))return this;return i[t]}return this});var a=["constructor","toString","valueOf"],u={Array:["indexOf","join","lastIndexOf","slice"].concat(a),Boolean:a,Number:["toExponential","toFixed","toPrecision"].concat(a),RegExp:["test"].concat(a),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","trim"].concat(a)};t(u);var s={Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],String:["fromCharCode"]};t(s),e(Ze,function(e){var t=this.expression;if(e.option("unsafe")&&t instanceof en){var i=t.property;if(i instanceof K&&(i=n(i,e))===t.property)return this;var o,a=t.expression;if(T(a)){if(!(s[a.name]||f)(i))return this;o=r[a.name]}else if((o=n(a,e))===a||!(o&&u[o.constructor.name]||f)(i))return this;for(var c=[],l=0,p=this.args.length;l<p;l++){var d=this.args[l],h=n(d,e);if(d===h)return this;c.push(h)}return o[i].apply(o,c)}return this}),e(Ke,p)}(function(e,n){e.DEFMETHOD("_eval",n)}),function(e){function n(e){return u(on,e,{operator:"!",expression:e})}function t(e,t,i){var r=n(e);if(i){var o=u(te,t,{body:t});return R(r,o)===o?t:r}return R(r,t)}e(K,function(){return n(this)}),e(Q,function(){throw new Error("Cannot negate a statement")}),e(ye,function(){return n(this)}),e(Ee,function(){return n(this)}),e(on,function(){return"!"==this.operator?this.expression:n(this)}),e(Qe,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),s(this,n)}),e(sn,function(e,n){var i=this.clone();return i.consequent=i.consequent.negate(e),i.alternative=i.alternative.negate(e),t(this,i,n)}),e(un,function(e,i){var r=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return r.operator=">",r;case"<":return r.operator=">=",r;case">=":return r.operator="<",r;case">":return r.operator="<=",r}switch(o){case"==":return r.operator="!=",r;case"!=":return r.operator="==",r;case"===":return r.operator="!==",r;case"!==":return r.operator="===",r;case"&&":return r.operator="||",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i);case"||":return r.operator="&&",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i)}return n(this)})}(function(e,n){e.DEFMETHOD("negate",function(e,t){return n.call(this,e,t)})}),Ze.DEFMETHOD("has_pure_annotation",function(e){if(!e.option("side_effects"))return!1;if(void 0!==this.pure)return this.pure;var n,t,r=!1;return this.start&&(n=this.start.comments_before)&&n.length&&(t=i(function(e){return/[@#]__PURE__/.test(e.value)},n))&&(r=t),this.pure=r});var Te=D("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");Ze.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(T(n)&&Te(n.name))return!0}return this.has_pure_annotation(e)||!e.pure_funcs(this)}),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(e[t].has_side_effects(n))return!0;return!1}e(K,l),e(oe,f),e(Ln,f),e(Un,f),e(Ze,function(e){if(!this.is_expr_pure(e))return!0;for(var n=this.args.length;--n>=0;)if(this.args[n].has_side_effects(e))return!0;return!1}),e(ie,function(e){return n(this.body,e)}),e(ze,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(He,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(Ie,function(e){return n(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),e(qe,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),e(ue,function(e){return this.body.has_side_effects(e)}),e(te,function(e){return this.body.has_side_effects(e)}),e(Ae,l),e(ye,f),e(Ee,f),e(Dn,f),e(gn,l),e(un,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(cn,l),e(sn,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(rn,function(e){return he(this.operator)||this.expression.has_side_effects(e)}),e(jn,function(e){return!this.is_declared(e)}),e(An,f),e(pn,function(e){return n(this.properties,e)}),e(dn,function(e){return!!(this.key instanceof hn&&this.key.has_side_effects(e))||this.value.has_side_effects(e)}),e(ln,function(e){return n(this.elements,e)}),e(nn,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),e(tn,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),e(Qe,function(e){return this.expressions.some(function(n,t){return n.has_side_effects(e)})}),e(Ce,f),e(xe,function(e){return n(this.segments,e)})}(function(e,n){e.DEFMETHOD("has_side_effects",n)}),function(e){function n(e){for(var n=e.length;--n>=0;)if(!e[n].is_constant_expression())return!1;return!0}function i(e){var n=this,i=!0;return n.walk(new w(function(r){if(!i)return!0;if(r instanceof jn){if(n.inlined)return i=!1,!0;var o=r.definition();if(t(o,n.enclosed)&&!n.variables.has(o.name)){if(e){var a=e.find_variable(r);if(o.undeclared?!a:a===o)return i="f",!0}i=!1}return!0}return r instanceof Un&&n instanceof Ee?(i=!1,!0):void 0})),i}e(K,f),e(Ln,l),e(Dn,i),e(ge,i),e(rn,function(){return this.expression.is_constant_expression()}),e(un,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()}),e(ln,function(){return n(this.elements)}),e(pn,function(){return n(this.properties)}),e(dn,function(){return!(this.key instanceof K)&&this.value.is_constant_expression()})}(function(e,n){e.DEFMETHOD("is_constant_expression",n)}),function(e){function n(){var e=this.body.length;return e>0&&V(this.body[e-1])}e(Q,d),e(ke,p),e(Je,function(){return null}),e(re,n),e(Ne,n),e(qe,function(){return this.alternative&&V(this.body)&&V(this.alternative)&&this})}(function(e,n){e.DEFMETHOD("aborts",n)}),e(ne,function(e,n){return n.has_directive(e.value)!==e?u(oe,e):e}),e(ee,function(e,n){return n.option("drop_debugger")?u(oe,e):e}),e(ue,function(e,n){return e.body instanceof Oe&&n.loopcontrol_target(e.body)===e.body?u(oe,e):0==e.label.references.length?e.body:e}),e(ie,function(e,n){return q(e.body,n),e}),e(re,function(e,n){switch(q(e.body,n),e.body.length){case 1:if(!n.has_directive("use strict")&&n.parent()instanceof qe||k(e.body[0]))return e.body[0];break;case 0:return u(oe,e)}return e}),_e.DEFMETHOD("drop_unused",function(e){function n(e,n){var i;if((i=a(e))instanceof jn&&!o(e.left,wn)&&t.variables.get(i.name)===i.definition())return e instanceof cn&&e.right.walk(D),!0;if(e instanceof jn){var r=e.definition();return r.id in l||(l[r.id]=!0,c.push(r)),!0}if(e instanceof _e){var u=m;return m=e,n(),m=u,!0}}if(e.option("unused")&&!e.has_directive("use asm")){var t=this;if(!t.uses_eval&&!t.uses_with){var i=!(t instanceof ve)||e.toplevel.funcs,r=!(t instanceof ve)||e.toplevel.vars,a=/keep_assign/.test(e.option("unused"))?f:function(e){return e instanceof cn&&(e.write_only||"="==e.operator)?e.left:e instanceof rn&&e.write_only?e.expression:void 0},c=[],l=Object.create(null);t instanceof ve&&e.top_retain&&t.variables.each(function(n){!e.top_retain(n)||n.id in l||(l[n.id]=!0,c.push(n))});var p=new b,d=new b,h=null,m=this,D=new w(function(o,a){if(o!==t){if(o instanceof Ae||o instanceof gn){if((s=D.parent()instanceof Xe)||!i&&m===t){var u=o.name.definition();!u.global||u.id in l||(l[u.id]=!0,c.push(u))}return d.add(o.name.name,o),!0}if(o instanceof kn&&m===t&&p.add(o.definition().id,o),o instanceof Pe&&m===t){var s=D.parent()instanceof Xe;return o.definitions.forEach(function(n){if(n.name instanceof Fn&&p.add(n.name.definition().id,n),!s&&r||n.name.walk(new w(function(e){if(e instanceof An){var n=e.definition();!s&&!n.global||n.id in l||(l[n.id]=!0,c.push(n))}})),n.value){if(n.name instanceof Fe){var t=h;h=n.value,n.walk(D),h=t}else d.add(n.name.name,n.value);n.value.has_side_effects(e)&&n.value.walk(D)}}),!0}return o.destructuring&&h&&d.add(o.name,h),n(o,a)}});t.walk(D),D=new w(n);for(var y=0;y<c.length;++y)c[y].orig.forEach(function(e){var n=d.get(e.name);n&&n.forEach(function(e){e.walk(D)})});var E=new H(function(n,o,c){function f(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}var d=E.parent();if(r){if((y=a(n))instanceof jn&&!((y=y.definition()).id in l)&&(r||!y.global))return n instanceof cn?v(d,n,n.right.transform(E)):u(Yn,n,{value:0})}if(m===t){if(n.name&&(!e.option("keep_classnames")&&n instanceof bn||!e.option("keep_fnames")&&n instanceof ye)){(A=n.name.definition()).id in l&&!(A.orig.length>1)||(n.name=null)}if(n instanceof ge&&!(n instanceof be))for(var h=!e.option("keep_fargs"),D=n.argnames,b=D.length;--b>=0;){var y;(y=D[b])instanceof De&&(y=y.expression),y instanceof fn&&(y=y.left),y instanceof Fe||y.definition().id in l?h=!1:(y.__unused=!0,h&&(D.pop(),e[y.unreferenced()?"warn":"info"]("Dropping unused function argument {name} [{file}:{line},{col}]",f(y))))}if((n instanceof Ae||n instanceof gn)&&n!==t){var A;if(!((A=n.name.definition()).id in l||!i&&A.global))return e[n.name.unreferenced()?"warn":"info"]("Dropping unused function {name} [{file}:{line},{col}]",f(n.name)),A.eliminated++,u(oe,n)}if(n instanceof Pe&&!(d instanceof de&&d.init===n)){var F=!(d instanceof ve||n instanceof Le),w=[],x=[],B=[],S=[];switch(n.definitions.forEach(function(t){if(t.value&&(t.value=t.value.transform(E)),t.name instanceof Fe)return B.push(t);var i=t.name.definition();if(F&&i.global)return B.push(t);if(!r&&!F||i.id in l){if(t.name instanceof Fn){var o=p.get(i.id);if(o.length>1&&(!t.value||i.orig.indexOf(t.name)>i.eliminated))return e.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",f(t.name)),t.value&&S.push(u(cn,t,{operator:"=",left:u(jn,t.name,t.name),right:t.value})),_(o,t),void i.eliminated++}t.value?(S.length>0&&(B.length>0?(S.push(t.value),t.value=s(t.value,S)):w.push(u(te,n,{body:s(n,S)})),S=[]),B.push(t)):x.push(t)}else if(i.orig[0]instanceof Mn){(a=t.value&&t.value.drop_side_effect_free(e))&&S.push(a),t.value=null,x.push(t)}else{var a;(a=t.value&&t.value.drop_side_effect_free(e))?(e.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",f(t.name)),S.push(a)):e[t.name.unreferenced()?"warn":"info"]("Dropping unused variable {name} [{file}:{line},{col}]",f(t.name)),i.eliminated++}}),(x.length>0||B.length>0)&&(n.definitions=x.concat(B),w.push(n)),S.length>0&&w.push(u(te,n,{body:s(n,S)})),w.length){case 0:return c?G.skip:u(oe,n);case 1:return w[0];default:return c?G.splice(w):u(re,n,{body:w})}}if(n instanceof pe){o(n,this);return n.init instanceof re&&(T=n.init,n.init=T.body.pop(),T.body.push(n)),n.init instanceof te?n.init=n.init.body:C(n.init)&&(n.init=null),T?c?G.splice(T.body):T:n}if(n instanceof ue&&n.body instanceof pe){if(o(n,this),n.body instanceof re){var T=n.body;return n.body=T.body.pop(),T.body.push(n),c?G.splice(T.body):T}return n}if(n instanceof re&&(o(n,this),c&&g(n.body,k)))return G.splice(n.body);if(n instanceof _e){var $=m;return m=n,o(n,this),m=$,n}}});t.transform(E)}}}),_e.DEFMETHOD("hoist_declarations",function(e){var n=this;if(e.has_directive("use asm"))return n;if(!Array.isArray(n.body))return n;var t=e.option("hoist_funs"),r=e.option("hoist_vars");if(t||r){var o=[],a=[],c=new b,f=0,l=0;n.walk(new w(function(e){return e instanceof _e&&e!==n||(e instanceof Le?(++l,!0):void 0)})),r=r&&l>1;var p=new H(function(i){if(i!==n){if(i instanceof ne)return o.push(i),u(oe,i);if(t&&i instanceof Ae&&!(p.parent()instanceof Xe)&&p.parent()===n)return a.push(i),u(oe,i);if(r&&i instanceof Le){i.definitions.forEach(function(e){e.name instanceof Fe||(c.set(e.name.name,e),++f)});var s=i.to_assignments(e),l=p.parent();if(l instanceof de&&l.init===i){if(null==s){var d=i.definitions[0].name;return u(jn,d,d)}return s}return l instanceof pe&&l.init===i?s:s?u(te,i,{body:s}):u(oe,i)}if(i instanceof _e)return i}});if(n=n.transform(p),f>0){var d=[];if(c.each(function(e,t){n instanceof ge&&i(function(n){return n.name==e.name.name},n.args_as_names())?c.del(t):((e=e.clone()).value=null,d.push(e),c.set(t,e))}),d.length>0){for(var h=0;h<n.body.length;){if(n.body[h]instanceof te){var m,v,D=n.body[h].body;if(D instanceof cn&&"="==D.operator&&(m=D.left)instanceof yn&&c.has(m.name)){if((g=c.get(m.name)).value)break;g.value=D.right,_(d,g),d.push(g),n.body.splice(h,1);continue}if(D instanceof Qe&&(v=D.expressions[0])instanceof cn&&"="==v.operator&&(m=v.left)instanceof yn&&c.has(m.name)){var g;if((g=c.get(m.name)).value)break;g.value=v.right,_(d,g),d.push(g),n.body[h].body=s(D,D.expressions.slice(1));continue}}if(n.body[h]instanceof oe)n.body.splice(h,1);else{if(!(n.body[h]instanceof re))break;var y=[h,1].concat(n.body[h].body);n.body.splice.apply(n.body,y)}}d=u(Le,n,{definitions:d}),a.push(d)}}n.body=o.concat(a,n.body)}return n}),_e.DEFMETHOD("make_var_name",function(e){var n=this.var_names;n||(this.var_names=n=Object.create(null),this.enclosed.forEach(function(e){n[e.name]=!0}),this.variables.each(function(e,t){n[t]=!0}));for(var t=e=e.replace(/[^a-z_$]+/gi,"_"),i=0;n[t];i++)t=e+"$"+i;return n[t]=!0,t}),_e.DEFMETHOD("hoist_properties",function(e){var n=this;if(!e.option("hoist_props")||e.has_directive("use asm"))return n;var t=n instanceof ve&&e.top_retain||f,i=Object.create(null),r=new H(function(e,o){if(e instanceof Pe&&r.parent()instanceof Xe)return e;if(e instanceof Ge){var a;if((l=e.name).scope===n&&!(p=l.definition()).escaped&&!p.single_use&&!p.direct_access&&!t(p)&&(a=l.fixed_value())===e.value&&a instanceof pn){o(e,this);var s=new b,c=[];return a.properties.forEach(function(t){c.push(u(Ge,e,{name:function(e){var t=u(l.CTOR,l,{name:n.make_var_name(l.name+"_"+e),scope:n}),i=n.def_variable(t);return s.set(e,i),n.enclosed.push(i),t}(t.key),value:t.value}))}),i[p.id]=s,G.splice(c)}}if(e instanceof en&&e.expression instanceof jn){if(s=i[e.expression.definition().id]){var f=e.property;f instanceof K&&(f=f.getValue());var l,p=s.get(f);return(l=u(jn,e,{name:p.name,scope:e.expression.scope,thedef:p})).reference({}),l}}});return n.transform(r)}),function(e){function t(e,n,t){var i=e.length;if(!i)return null;for(var r=[],o=!1,a=0;a<i;a++){var u=e[a].drop_side_effect_free(n,t);o|=u!==e[a],u&&(r.push(u),t=!1)}return o?r.length?r:null:e}e(K,p),e(Ln,d),e(Un,d),e(Ze,function(e,i){if(!this.is_expr_pure(e)){if(n(this.expression)&&(!this.expression.name||!this.expression.name.definition().references.length)){var r=this.clone();return r.expression.process_expression(!1,e),r}return this}this.pure&&(e.warn("Dropping __PURE__ call [{file}:{line},{col}]",this.start),this.pure.value=this.pure.value.replace(/[@#]__PURE__/g," "));var o=t(this.args,e,i);return o&&s(this,o)}),e(be,d),e(ye,d),e(Ee,d),e(bn,d),e(un,function(e,n){var t=this.right.drop_side_effect_free(e);if(!t)return this.left.drop_side_effect_free(e,n);if(ae(this.operator)){if(t===this.right)return this;var i=this.clone();return i.right=t,i}var r=this.left.drop_side_effect_free(e,n);return r?s(this,[r,t]):this.right.drop_side_effect_free(e,n)}),e(cn,function(e){return this.write_only=!this.left.has_side_effects(e),this}),e(sn,function(e){var n=this.consequent.drop_side_effect_free(e),t=this.alternative.drop_side_effect_free(e);if(n===this.consequent&&t===this.alternative)return this;if(!n)return t?u(un,this,{operator:"||",left:this.condition,right:t}):this.condition.drop_side_effect_free(e);if(!t)return u(un,this,{operator:"&&",left:this.condition,right:n});var i=this.clone();return i.consequent=n,i.alternative=t,i}),e(rn,function(e,n){if(he(this.operator))return this.write_only=!this.expression.has_side_effects(e),this;if("typeof"==this.operator&&this.expression instanceof jn)return null;var t=this.expression.drop_side_effect_free(e,n);return n&&this instanceof on&&S(t)?t===this.expression&&1===this.operator.length?this:u(on,this,{operator:1===this.operator.length?this.operator:"!",expression:t}):t}),e(jn,function(e){return this.is_declared(e)?null:this}),e(pn,function(e,n){var i=t(this.properties,e,n);return i&&s(this,i)}),e(dn,function(e,n){return this.value.drop_side_effect_free(e,n)}),e(ln,function(e,n){var i=t(this.elements,e,n);return i&&s(this,i)}),e(nn,function(e,n){return this.expression.may_throw_on_access(e)?this:this.expression.drop_side_effect_free(e,n)}),e(tn,function(e,n){if(this.expression.may_throw_on_access(e))return this;var t=this.expression.drop_side_effect_free(e,n);if(!t)return this.property.drop_side_effect_free(e,n);var i=this.property.drop_side_effect_free(e);return i?s(this,[t,i]):t}),e(Qe,function(e){var n=this.tail_node(),t=n.drop_side_effect_free(e);if(t===n)return this;var i=this.expressions.slice(0,-1);return t&&i.push(t),s(this,i)}),e(De,function(e,n){return this.expression.drop_side_effect_free(e,n)}),e(Ce,d),e(xe,function(e){var n=t(this.segments,e,E);return n&&s(this,n)})}(function(e,n){e.DEFMETHOD("drop_side_effect_free",n)}),e(te,function(e,n){if(n.option("side_effects")){var t=e.body,i=t.drop_side_effect_free(n,!0);if(!i)return n.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),u(oe,e);if(i!==t)return u(te,e,{body:i})}return e}),e(le,function(e,n){return n.option("loops")?u(pe,e,e).optimize(n):e}),e(fe,function(e,n){if(!n.option("loops"))return e;var t=e.condition.tail_node().evaluate(n);if(!(t instanceof K)){if(t)return u(pe,e,{body:u(re,e.body,{body:[e.body,u(te,e.condition,{body:e.condition})]})}).optimize(n);var i=!1,r=new w(function(n){return!!(n instanceof _e||i)||(n instanceof $e&&r.loopcontrol_target(n)===e?i=!0:void 0)}),o=n.parent();if((o instanceof ue?o:e).walk(r),!i)return u(re,e.body,{body:[e.body,u(te,e.condition,{body:e.condition})]}).optimize(n)}return e}),e(pe,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&e.init&&(e.init=e.init.drop_side_effect_free(n)),e.condition){var t=e.condition.evaluate(n);if(!(t instanceof K))if(t)e.condition=null;else if(!n.option("dead_code")){var i=e.condition;e.condition=h(t,e.condition),e.condition=R(e.condition.transform(n),i)}if(n.option("dead_code")&&(t instanceof K&&(t=e.condition.tail_node().evaluate(n)),!t)){var r=[];return z(n,e.body,r),e.init instanceof Q?r.push(e.init):e.init&&r.push(u(te,e.init,{body:e.init})),r.push(u(te,e.condition,{body:e.condition})),u(re,e,{body:r}).optimize(n)}}return Y(e,n),e}),e(qe,function(e,n){if(C(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;var t=e.condition.evaluate(n);if(!(n.option("dead_code")||t instanceof K)){var i=e.condition;e.condition=h(t,i),e.condition=R(e.condition.transform(n),i)}if(n.option("dead_code")){if(t instanceof K&&(t=e.condition.tail_node().evaluate(n)),!t){n.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var r=[];return z(n,e.body,r),r.push(u(te,e.condition,{body:e.condition})),e.alternative&&r.push(e.alternative),u(re,e,{body:r}).optimize(n)}if(!(t instanceof K)){n.warn("Condition always true [{file}:{line},{col}]",e.condition.start);r=[];return e.alternative&&z(n,e.alternative,r),r.push(u(te,e.condition,{body:e.condition})),r.push(e.body),u(re,e,{body:r}).optimize(n)}}var o=e.condition.negate(n),a=e.condition.print_to_string().length,s=o.print_to_string().length,c=s<a;if(e.alternative&&c){c=!1,e.condition=o;var f=e.body;e.body=e.alternative||u(oe,e),e.alternative=f}if(C(e.body)&&C(e.alternative))return u(te,e.condition,{body:e.condition.clone()}).optimize(n);if(e.body instanceof te&&e.alternative instanceof te)return u(te,e,{body:u(sn,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).optimize(n);if(C(e.alternative)&&e.body instanceof te)return a===s&&!c&&e.condition instanceof un&&"||"==e.condition.operator&&(c=!0),c?u(te,e,{body:u(un,e,{operator:"||",left:o,right:e.body.body})}).optimize(n):u(te,e,{body:u(un,e,{operator:"&&",left:e.condition,right:e.body.body})}).optimize(n);if(e.body instanceof oe&&e.alternative instanceof te)return u(te,e,{body:u(un,e,{operator:"||",left:e.condition,right:e.alternative.body})}).optimize(n);if(e.body instanceof Be&&e.alternative instanceof Be&&e.body.TYPE==e.alternative.TYPE)return u(e.body.CTOR,e,{value:u(sn,e,{condition:e.condition,consequent:e.body.value||u(Zn,e.body),alternative:e.alternative.value||u(Zn,e.alternative)}).transform(n)}).optimize(n);if(e.body instanceof qe&&!e.body.alternative&&!e.alternative&&(e=u(qe,e,{condition:u(un,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),V(e.body)&&e.alternative){var l=e.alternative;return e.alternative=null,u(re,e,{body:[e,l]}).optimize(n)}if(V(e.alternative)){r=e.body;return e.body=e.alternative,e.condition=c?o:e.condition.negate(n),e.alternative=null,u(re,e,{body:[e,r]}).optimize(n)}return e}),e(ze,function(e,n){function t(e,t){t&&!V(t)?t.body=t.body.concat(e.body):z(n,e,c)}if(!n.option("switches"))return e;var i,r=e.expression.evaluate(n);if(!(r instanceof K)){var o=e.expression;e.expression=h(r,o),e.expression=R(e.expression.transform(n),o)}if(!n.option("dead_code"))return e;r instanceof K&&(r=e.expression.tail_node().evaluate(n));for(var a,s,c=[],f=[],l=0,p=e.body.length;l<p&&!s;l++){if((i=e.body[l])instanceof je)a?t(i,f[f.length-1]):a=i;else if(!(r instanceof K)){if(!((g=i.expression.evaluate(n))instanceof K)&&g!==r){t(i,f[f.length-1]);continue}if(g instanceof K&&(g=i.expression.tail_node().evaluate(n)),g===r&&(s=i,a)){var d=f.indexOf(a);f.splice(d,1),t(a,f[d-1]),a=null}}if(V(i)){var m=f[f.length-1];V(m)&&m.body.length==i.body.length&&u(re,m,m).equivalent_to(u(re,i,i))&&(m.body=[])}f.push(i)}for(;l<p;)t(e.body[l++],f[f.length-1]);for(f.length>0&&(f[0].body=c.concat(f[0].body)),e.body=f;i=f[f.length-1];){var _=i.body[i.body.length-1];if(_ instanceof Oe&&n.loopcontrol_target(_)===e&&i.body.pop(),i.body.length||i instanceof He&&(a||i.expression.has_side_effects(n)))break;f.pop()===a&&(a=null)}if(0==f.length)return u(re,e,{body:c.concat(u(te,e.expression,{body:e.expression}))}).optimize(n);if(1==f.length&&(f[0]===s||f[0]===a)){var v=!1,D=new w(function(n){if(v||n instanceof ge||n instanceof te)return!0;n instanceof Oe&&D.loopcontrol_target(n)===e&&(v=!0)});if(e.walk(D),!v){var g,b=f[0].body.slice();return(g=f[0].expression)&&b.unshift(u(te,g,{body:g})),b.unshift(u(te,e.expression,{body:e.expression})),u(re,e,{body:b}).optimize(n)}}return e}),e(Ie,function(e,n){if(q(e.body,n),e.bcatch&&e.bfinally&&g(e.bfinally.body,C)&&(e.bfinally=null),g(e.body,C)){var t=[];return e.bcatch&&z(n,e.bcatch,t),e.bfinally&&(t=t.concat(e.bfinally.body)),u(re,e,{body:t}).optimize(n)}return e}),Pe.DEFMETHOD("remove_initializers",function(){var e=[];this.definitions.forEach(function(n){n.name instanceof An?(n.value=null,e.push(n)):n.name.walk(new w(function(t){t instanceof An&&e.push(u(Ge,n,{name:t,value:null}))}))}),this.definitions=e}),Pe.DEFMETHOD("to_assignments",function(e){var n=e.option("reduce_vars"),t=this.definitions.reduce(function(e,t){if(!t.value||t.name instanceof Fe){if(t.value){var i=u(Ge,t,{name:t.name,value:t.value}),r=u(Le,t,{definitions:[i]});e.push(r)}}else{var o=u(jn,t.name,t.name);e.push(u(cn,t,{operator:"=",left:o,right:t.value})),n&&(o.definition().fixed=!1)}return t=t.name.definition(),t.eliminated++,t.replaced--,e},[]);return 0==t.length?null:s(this,t)}),e(Pe,function(e,n){return 0==e.definitions.length?u(oe,e):e}),e(Je,function(e,n){return e}),e(Ze,function(e,t){var i=e.expression,r=i,o=g(e.args,function(e){return!(e instanceof De)});if(t.option("reduce_vars")&&r instanceof jn&&(r=r.fixed_value()),t.option("unused")&&o&&n(r)&&!r.uses_arguments&&!r.uses_eval){for(var a=0,c=0,f=0,l=e.args.length;f<l;f++){if(r.argnames[f]instanceof De){if(r.argnames[f].expression.__unused)for(;f<l;){(b=e.args[f++].drop_side_effect_free(t))&&(e.args[a++]=b)}else for(;f<l;)e.args[a++]=e.args[f++];c=a;break}var p=f>=r.argnames.length;if(p||r.argnames[f].__unused){if(b=e.args[f].drop_side_effect_free(t))e.args[a++]=b;else if(!p){e.args[a++]=u(Yn,e.args[f],{value:0});continue}}else e.args[a++]=e.args[f];c=a}e.args.length=c}if(t.option("unsafe"))if(T(i))switch(i.name){case"Array":if(1!=e.args.length)return u(ln,e,{elements:e.args}).optimize(t);break;case"Object":if(0==e.args.length)return u(pn,e,{properties:[]});break;case"String":if(0==e.args.length)return u(Vn,e,{value:""});if(e.args.length<=1)return u(un,e,{left:e.args[0],operator:"+",right:u(Vn,e,{value:""})}).optimize(t);break;case"Number":if(0==e.args.length)return u(Yn,e,{value:0});if(1==e.args.length)return u(on,e,{expression:e.args[0],operator:"+"}).optimize(t);case"Boolean":if(0==e.args.length)return u(nt,e);if(1==e.args.length)return u(on,e,{expression:u(on,e,{expression:e.args[0],operator:"!"}),operator:"!"}).optimize(t);break;case"Symbol":return e.args=[],e}else if(i instanceof nn)switch(i.property){case"toString":if(0==e.args.length)return u(un,e,{left:u(Vn,e,{value:""}),operator:"+",right:i.expression}).optimize(t);break;case"join":if(i.expression instanceof ln)e:{var d;if(!(e.args.length>0&&(d=e.args[0].evaluate(t))===e.args[0])){var m=[],_=[];for(f=0,l=i.expression.elements.length;f<l;f++){var v=i.expression.elements[f];if(v instanceof De)break e;(O=v.evaluate(t))!==v?_.push(O):(_.length>0&&(m.push(u(Vn,e,{value:_.join(d)})),_.length=0),m.push(v))}if(_.length>0&&m.push(u(Vn,e,{value:_.join(d)})),0==m.length)return u(Vn,e,{value:""});if(1==m.length)return m[0].is_string(t)?m[0]:u(un,m[0],{operator:"+",left:u(Vn,e,{value:""}),right:m[0]});if(""==d){var D;return D=m[0].is_string(t)||m[1].is_string(t)?m.shift():u(Vn,e,{value:""}),m.reduce(function(e,n){return u(un,n,{operator:"+",left:e,right:n})},D).optimize(t)}var b;return(b=e.clone()).expression=b.expression.clone(),b.expression.expression=b.expression.expression.clone(),b.expression.expression.elements=m,L(t,e,b)}}break;case"charAt":if(i.expression.is_string(t)){var y=e.args[0],E=y?y.evaluate(t):0;if(E!==y)return u(tn,i,{expression:i.expression,property:h(0|E,y||i)}).optimize(t)}}if(t.option("unsafe_Func")&&T(i)&&"Function"==i.name){if(0==e.args.length)return u(ye,e,{argnames:[],body:[]}).optimize(t);if(g(e.args,function(e){return e instanceof Vn}))try{var A=j(B="n(function("+e.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+e.args[e.args.length-1].value+"})"),F={ie8:t.option("ie8")};A.figure_out_scope(F);var x=new P(t.options);(A=A.transform(x)).figure_out_scope(F),Bt.reset(),A.compute_char_frequency(F),A.mangle_names(F);var k;A.walk(new w(function(e){return!!k||(n(e)?(k=e,!0):void 0)})),k.body instanceof K&&(k.body=[u(Se,k.body,{value:k.body})]);var B=U();return re.prototype._codegen.call(k,k,B),e.args=[u(Vn,e,{value:k.argnames.map(function(e){return e.print_to_string()}).join(",")}),u(Vn,e.args[e.args.length-1],{value:B.get().replace(/^\{|\}$/g,"")})],e}catch(n){if(!(n instanceof M))throw n;t.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),t.warn(n.toString())}}var $=n(r)&&r.body;if($ instanceof K?$=u(Se,$,{value:$}):$&&($=$[0]),t.option("inline")&&$ instanceof Se){if(!(O=$.value)||O.is_constant_expression()){return s(e,e.args.concat(O||u(Zn,e))).optimize(t)}}if(n(r)&&!r.is_generator&&!r.async){if(t.option("inline")&&i===r&&o&&!r.name&&!r.uses_arguments&&!r.uses_eval&&(r.body instanceof K||1==r.body.length)&&!r.contains_this()&&g(r.argnames,function(e){return e instanceof De?e.expression.__unused:e.__unused})&&!e.has_pure_annotation(t)){var O;if($ instanceof Se?O=$.value:$ instanceof te&&(O=u(on,$,{operator:"void",expression:$.body})),O){return s(e,e.args.concat(O)).optimize(t)}}if(t.option("side_effects")&&!(r.body instanceof K)&&g(r.body,C)){return s(e,e.args.concat(u(Zn,e))).optimize(t)}}if(t.option("drop_console")&&i instanceof en){for(var q=i.expression;q.expression;)q=q.expression;if(T(q)&&"console"==q.name)return u(Zn,e).optimize(t)}if(t.option("negate_iife")&&t.parent()instanceof te&&S(e))return e.negate(t,!0);var z=e.evaluate(t);return z!==e?(z=h(z,e).optimize(t),L(t,z,e)):e}),e(Ke,function(e,n){if(n.option("unsafe")){var t=e.expression;if(T(t))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return u(Ze,e,e).transform(n)}}return e}),e(Qe,function(e,n){if(!n.option("side_effects"))return e;var t=[];!function(){var i=E(n),r=e.expressions.length-1;e.expressions.forEach(function(e,o){o<r&&(e=e.drop_side_effect_free(n,i)),e&&(A(t,e),i=!1)})}();var i=t.length-1;return function(){for(;i>0&&N(t[i],n);)i--;i<t.length-1&&(t[i]=u(on,e,{operator:"void",expression:t[i]}),t.length=i+1)}(),i>0&&n.option("cascade")&&function(){for(var e=0,a=1;a<=i;a++){var s=t[e],c=t[a];if(!(s=s instanceof cn&&!s.left.has_side_effects(n)?s.left:s instanceof rn&&("++"==s.operator||"--"==s.operator)?s.expression:null)||r(s)||s.has_side_effects(n)||o(s,xn))t[++e]=c;else{var f,l=null;for(t[a]=c=c.clone();;){if(c.equivalent_to(s)){var p=t[e];p instanceof an?p=u(on,p,{operator:p.operator,expression:s}):p.write_only=!1,l?(l[f]=p,t[e]=t[a]):t[e]=p;break}if(c instanceof un&&!(c instanceof cn))if(c.left.is_constant()){if(ae(c.operator)){t[++e]=t[a];break}f="right"}else f="left";else if(c instanceof Ze&&!(s instanceof en&&c.expression.equivalent_to(s))||c instanceof en||c instanceof rn&&!he(c.operator))f="expression";else{if(!(c instanceof sn)){t[++e]=t[a];break}f="condition"}l=c,c=c[f]=c[f].clone()}}}i=e,t.length=i+1}(),0==i?((e=v(n.parent(),n.self(),t[0]))instanceof Qe||(e=e.optimize(n)),e):(e.expressions=t,e)}),rn.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof Qe){var n=this.expression.expressions.slice(),t=this.clone();return t.expression=n.pop(),n.push(t),s(this,n).optimize(e)}return this}),e(an,function(e,n){return e.lift_sequences(n)}),e(on,function(e,n){var t=e.expression;if("delete"==e.operator&&!(t instanceof jn||t instanceof en||$(t)))return t instanceof Qe?((t=t.expressions.slice()).push(u(tt,e)),s(e,t).optimize(n)):s(e,[t,u(tt,e)]).optimize(n);var i=e.lift_sequences(n);if(i!==e)return i;if(n.option("side_effects")&&"void"==e.operator)return(t=t.drop_side_effect_free(n))?(e.expression=t,e):u(Zn,e).optimize(n);if(n.in_boolean_context())switch(e.operator){case"!":if(t instanceof on&&"!"==t.operator)return t.expression;t instanceof un&&(e=L(n,e,t.negate(n,E(n))));break;case"typeof":return n.warn("Boolean expression always true [{file}:{line},{col}]",e.start),(t instanceof jn?u(tt,e):s(e,[t,u(tt,e)])).optimize(n)}if("-"==e.operator&&t instanceof Qn&&(t=t.transform(n)),t instanceof un&&("+"==e.operator||"-"==e.operator)&&("*"==t.operator||"/"==t.operator||"%"==t.operator))return u(un,e,{operator:t.operator,left:u(on,t.left,{operator:e.operator,expression:t.left}),right:t.right});if("-"!=e.operator||!(t instanceof Yn||t instanceof Qn)){var r=e.evaluate(n);if(r!==e)return r=h(r,e).optimize(n),L(n,r,e)}return e}),un.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")){if(this.left instanceof Qe){var n=this.left.expressions.slice();return(o=this.clone()).left=n.pop(),n.push(o),s(this,n).optimize(e)}if(this.right instanceof Qe&&!this.left.has_side_effects(e)){for(var t="="==this.operator&&this.left instanceof jn,i=(n=this.right.expressions).length-1,r=0;r<i&&(t||!n[r].has_side_effects(e));r++);if(r==i){n=n.slice();return(o=this.clone()).right=n.pop(),n.push(o),s(this,n).optimize(e)}if(r>0){var o;return(o=this.clone()).right=s(this.right,n.slice(r)),(n=n.slice(0,r)).push(o),s(this,n).optimize(e)}}}return this});var Ue=D("== === != !== * & | ^");e(un,function(e,n){function t(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)}function i(n){if(t()){n&&(e.operator=n);var i=e.left;e.left=e.right,e.right=i}}if(Ue(e.operator)&&e.right.is_constant()&&!e.left.is_constant()&&(e.left instanceof un&&Ct[e.left.operator]>=Ct[e.operator]||i()),e=e.lift_sequences(n),n.option("comparisons"))switch(e.operator){case"===":case"!==":(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_number(n)&&e.right.is_number(n)||e.left.is_boolean()&&e.right.is_boolean()||e.left.equivalent_to(e.right))&&(e.operator=e.operator.substr(0,2));case"==":case"!=":if(n.option("typeofs")&&e.left instanceof Vn&&"undefined"==e.left.value&&e.right instanceof on&&"typeof"==e.right.operator){var r=e.right.expression;(r instanceof jn?!r.is_declared(n):r instanceof en&&n.option("ie8"))||(e.right=r,e.left=u(Zn,e.left).optimize(n),2==e.operator.length&&(e.operator+="="))}else if(e.left instanceof jn&&e.right instanceof jn&&e.left.definition()===e.right.definition()&&function(e){return e instanceof ln||e instanceof ge||e instanceof pn||e instanceof Dn}(e.left.fixed_value()))return u("="==e.operator[0]?tt:nt,e)}if("+"==e.operator&&n.in_boolean_context()){var o=e.left.evaluate(n),a=e.right.evaluate(n);if(o&&"string"==typeof o)return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),s(e,[e.right,u(tt,e)]).optimize(n);if(a&&"string"==typeof a)return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),s(e,[e.left,u(tt,e)]).optimize(n)}if(n.option("comparisons")&&e.is_boolean()){if(!(n.parent()instanceof un)||n.parent()instanceof cn){var c=u(on,e,{operator:"!",expression:e.negate(n,E(n))});e=L(n,e,c)}if(n.option("unsafe_comps"))switch(e.operator){case"<":i(">");break;case"<=":i(">=")}}if("+"==e.operator){if(e.right instanceof Vn&&""==e.right.getValue()&&e.left.is_string(n))return e.left;if(e.left instanceof Vn&&""==e.left.getValue()&&e.right.is_string(n))return e.right;if(e.left instanceof un&&"+"==e.left.operator&&e.left.left instanceof Vn&&""==e.left.left.getValue()&&e.right.is_string(n))return e.left=e.left.right,e.transform(n)}if(n.option("evaluate")){switch(e.operator){case"&&":if(!(o=!!e.left.truthy||!e.left.falsy&&e.left.evaluate(n)))return n.warn("Condition left of && always false [{file}:{line},{col}]",e.start),v(n.parent(),n.self(),e.left).optimize(n);if(!(o instanceof K))return n.warn("Condition left of && always true [{file}:{line},{col}]",e.start),s(e,[e.left,e.right]).optimize(n);if(a=e.right.evaluate(n)){if(!(a instanceof K)){if("&&"==(f=n.parent()).operator&&f.left===n.self()||n.in_boolean_context())return n.warn("Dropping side-effect-free && [{file}:{line},{col}]",e.start),e.left.optimize(n)}}else{if(n.in_boolean_context())return n.warn("Boolean && always false [{file}:{line},{col}]",e.start),s(e,[e.left,u(nt,e)]).optimize(n);e.falsy=!0}if("||"==e.left.operator){if(!(l=e.left.right.evaluate(n)))return u(sn,e,{condition:e.left.left,consequent:e.right,alternative:e.left.right}).optimize(n)}break;case"||":if(!(o=!!e.left.truthy||!e.left.falsy&&e.left.evaluate(n)))return n.warn("Condition left of || always false [{file}:{line},{col}]",e.start),s(e,[e.left,e.right]).optimize(n);if(!(o instanceof K))return n.warn("Condition left of || always true [{file}:{line},{col}]",e.start),v(n.parent(),n.self(),e.left).optimize(n);if(a=e.right.evaluate(n)){if(!(a instanceof K)){if(n.in_boolean_context())return n.warn("Boolean || always true [{file}:{line},{col}]",e.start),s(e,[e.left,u(tt,e)]).optimize(n);e.truthy=!0}}else{var f;if("||"==(f=n.parent()).operator&&f.left===n.self()||n.in_boolean_context())return n.warn("Dropping side-effect-free || [{file}:{line},{col}]",e.start),e.left.optimize(n)}if("&&"==e.left.operator){var l;if((l=e.left.right.evaluate(n))&&!(l instanceof K))return u(sn,e,{condition:e.left.left,consequent:e.left.right,alternative:e.right}).optimize(n)}}var p=!0;switch(e.operator){case"+":if(e.left instanceof Ln&&e.right instanceof un&&"+"==e.right.operator&&e.right.left instanceof Ln&&e.right.is_string(n)&&(e=u(un,e,{operator:"+",left:u(Vn,e.left,{value:""+e.left.getValue()+e.right.left.getValue(),start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof Ln&&e.left instanceof un&&"+"==e.left.operator&&e.left.right instanceof Ln&&e.left.is_string(n)&&(e=u(un,e,{operator:"+",left:e.left.left,right:u(Vn,e.right,{value:""+e.left.right.getValue()+e.right.getValue(),start:e.left.right.start,end:e.right.end})})),e.left instanceof un&&"+"==e.left.operator&&e.left.is_string(n)&&e.left.right instanceof Ln&&e.right instanceof un&&"+"==e.right.operator&&e.right.left instanceof Ln&&e.right.is_string(n)&&(e=u(un,e,{operator:"+",left:u(un,e.left,{operator:"+",left:e.left.left,right:u(Vn,e.left.right,{value:""+e.left.right.getValue()+e.right.left.getValue(),start:e.left.right.start,end:e.right.left.end})}),right:e.right.right})),e.right instanceof on&&"-"==e.right.operator&&e.left.is_number(n)){e=u(un,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof on&&"-"==e.left.operator&&t()&&e.right.is_number(n)){e=u(un,e,{operator:"-",left:e.right,right:e.left.expression});break}case"*":p=n.option("unsafe_math");case"&":case"|":case"^":if(e.left.is_number(n)&&e.right.is_number(n)&&t()&&!(e.left instanceof un&&e.left.operator!=e.operator&&Ct[e.left.operator]>=Ct[e.operator])){var d=u(un,e,{operator:e.operator,left:e.right,right:e.left});e=e.right instanceof Ln&&!(e.left instanceof Ln)?L(n,d,e):L(n,e,d)}p&&e.is_number(n)&&(e.right instanceof un&&e.right.operator==e.operator&&(e=u(un,e,{operator:e.operator,left:u(un,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof Ln&&e.left instanceof un&&e.left.operator==e.operator&&(e.left.left instanceof Ln?e=u(un,e,{operator:e.operator,left:u(un,e.left,{operator:e.operator,left:e.left.left,right:e.right,start:e.left.left.start,end:e.right.end}),right:e.left.right}):e.left.right instanceof Ln&&(e=u(un,e,{operator:e.operator,left:u(un,e.left,{operator:e.operator,left:e.left.right,right:e.right,start:e.left.right.start,end:e.right.end}),right:e.left.left}))),e.left instanceof un&&e.left.operator==e.operator&&e.left.right instanceof Ln&&e.right instanceof un&&e.right.operator==e.operator&&e.right.left instanceof Ln&&(e=u(un,e,{operator:e.operator,left:u(un,e.left,{operator:e.operator,left:u(un,e.left.left,{operator:e.operator,left:e.left.right,right:e.right.left,start:e.left.right.start,end:e.right.left.end}),right:e.left.left}),right:e.right.right})))}}if(e.right instanceof un&&e.right.operator==e.operator&&(ae(e.operator)||"+"==e.operator&&(e.right.left.is_string(n)||e.left.is_string(n)&&e.right.right.is_string(n))))return e.left=u(un,e.left,{operator:e.operator,left:e.left,right:e.right.left}),e.right=e.right.right,e.transform(n);var m=e.evaluate(n);return m!==e?(m=h(m,e).optimize(n),L(n,m,e)):e}),e(Hn,function(e,n){return e}),e(jn,function(e,t){var i=e.resolve_defines(t);if(i)return i.optimize(t);if(!t.option("ie8")&&T(e)&&(!e.scope.uses_with||!t.find_parent(me)))switch(e.name){case"undefined":return u(Zn,e).optimize(t);case"NaN":return u(Gn,e).optimize(t);case"Infinity":return u(Qn,e).optimize(t)}if(t.option("reduce_vars")&&I(e,t.parent())!==e){var r=e.definition(),o=e.fixed_value();if(o instanceof gn&&(r.fixed=o=u(bn,o,o)),o instanceof Ae&&(r.fixed=o=u(ye,o,o)),r.single_use&&(n(o)||o instanceof bn))if(r.scope!==e.scope&&(!t.option("reduce_funcs")&&n(o)||r.escaped||o.inlined))r.single_use=!1;else if(function(e,n){for(var t,i=0;t=e.parent(i);i++)if(t instanceof ge){var r=t.name;if(r&&r.definition()===n)break}return t}(t,r))r.single_use=!1;else if((r.scope!==e.scope||r.orig[0]instanceof kn)&&(r.single_use=o.is_constant_expression(e.scope),"f"==r.single_use)){var a=e.scope;do{(a instanceof Ae||n(a))&&(a.inlined=!0)}while(a=a.parent_scope)}if(r.single_use&&o){var s=o.optimize(t);return s===o?o.clone(!0):s}if(o&&void 0===r.should_replace){var c;if(o instanceof Un)r.orig[0]instanceof kn||!g(r.references,r.scope.is_block_scope()?function(e){return r.scope===e.scope}:function(e){return r.scope===e.scope.get_defun_scope()})||(c=o);else{var f=o.evaluate(t);f===o||!t.option("unsafe_regexp")&&f instanceof RegExp||(c=h(f,o))}if(c){var l,p=c.optimize(t).print_to_string().length;!function(e){var n;return e.walk(new w(function(e){if(e instanceof jn&&(n=!0),n)return!0})),n}(o)?(p=Math.min(p,o.print_to_string().length),l=function(){var e=R(c.optimize(t),o);return e===c||e===o?e.clone(!0):e}):l=function(){var e=c.optimize(t);return e===c?e.clone(!0):e};var d=r.name.length,m=0;t.option("unused")&&!t.exposed(r)&&(m=(d+2+p)/r.references.length),r.should_replace=p<=d+m&&l}else r.should_replace=!1}if(r.should_replace)return r.should_replace()}return e}),e(Zn,function(e,n){if(n.option("unsafe")){var t=a(n,"undefined");if(t){var i=u(jn,e,{name:"undefined",scope:t.scope,thedef:t});return i.is_undefined=!0,i}}var r=I(n.self(),n.parent());return r&&W(r,e)?e:u(on,e,{operator:"void",expression:u(Yn,e,{value:0})})}),e(Qn,function(e,n){var t=I(n.self(),n.parent());return t&&W(t,e)?e:!n.option("keep_infinity")||t&&!W(t,e)||a(n,"Infinity")?u(un,e,{operator:"/",left:u(Yn,e,{value:1}),right:u(Yn,e,{value:0})}):e}),e(Gn,function(e,n){var t=I(n.self(),n.parent());return t&&!W(t,e)||a(n,"NaN")?u(un,e,{operator:"/",left:u(Yn,e,{value:0}),right:u(Yn,e,{value:0})}):e});var We=["+","-","/","*","%",">>","<<",">>>","|","^","&"],mn=["*","|","^","&"];e(cn,function(e,n){return"="==(e=e.lift_sequences(n)).operator&&e.left instanceof jn&&e.right instanceof un&&(e.right.left instanceof jn&&e.right.left.name==e.left.name&&t(e.right.operator,We)?(e.operator=e.right.operator+"=",e.right=e.right.right):e.right.right instanceof jn&&e.right.right.name==e.left.name&&t(e.right.operator,mn)&&!e.right.left.has_side_effects(n)&&(e.operator=e.right.operator+"=",e.right=e.right.left)),e}),e(fn,function(e,n){if(!n.option("evaluate"))return e;var t=e.right.evaluate(n);return void 0===t?e=e.left:t!==e.right&&(t=h(t,e.right),e.right=R(t,e.right)),e}),e(sn,function(e,n){function t(e){return e.is_boolean()?e:u(on,e,{operator:"!",expression:e.negate(n)})}function i(e){return e instanceof tt||m&&e instanceof Ln&&e.getValue()||e instanceof on&&"!"==e.operator&&e.expression instanceof Ln&&!e.expression.getValue()}function r(e){return e instanceof nt||m&&e instanceof Ln&&!e.getValue()||e instanceof on&&"!"==e.operator&&e.expression instanceof Ln&&e.expression.getValue()}if(!n.option("conditionals"))return e;if(e.condition instanceof Qe){var o=e.condition.expressions.slice();return e.condition=o.pop(),o.push(e),s(e,o)}var a=e.condition.evaluate(n);if(a!==e.condition)return a?(n.warn("Condition always true [{file}:{line},{col}]",e.start),v(n.parent(),n.self(),e.consequent)):(n.warn("Condition always false [{file}:{line},{col}]",e.start),v(n.parent(),n.self(),e.alternative));var c=a.negate(n,E(n));L(n,a,c)===c&&(e=u(sn,e,{condition:c,consequent:e.alternative,alternative:e.consequent}));var f=e.condition,l=e.consequent,p=e.alternative;if(f instanceof jn&&l instanceof jn&&f.definition()===l.definition())return u(un,e,{operator:"||",left:f,right:p});if(l instanceof cn&&p instanceof cn&&l.operator==p.operator&&l.left.equivalent_to(p.left)&&(!e.condition.has_side_effects(n)||"="==l.operator&&!l.left.has_side_effects(n)))return u(cn,e,{operator:l.operator,left:l.left,right:u(sn,e,{condition:e.condition,consequent:l.right,alternative:p.right})});var d;if(l instanceof Ze&&p.TYPE===l.TYPE&&l.args.length>0&&l.args.length==p.args.length&&l.expression.equivalent_to(p.expression)&&!e.condition.has_side_effects(n)&&!l.expression.has_side_effects(n)&&"number"==typeof(d=function(){for(var e=l.args,n=p.args,t=0,i=e.length;t<i;t++){if(e[t]instanceof De)return;if(!e[t].equivalent_to(n[t])){if(n[t]instanceof De)return;for(var r=t+1;r<i;r++){if(e[r]instanceof De)return;if(!e[r].equivalent_to(n[r]))return}return t}}}())){var h=l.clone();return h.args[d]=u(sn,e,{condition:e.condition,consequent:l.args[d],alternative:p.args[d]}),h}if(l instanceof sn&&l.alternative.equivalent_to(p))return u(sn,e,{condition:u(un,e,{left:e.condition,operator:"&&",right:l.condition}),consequent:l.consequent,alternative:p});if(l.equivalent_to(p))return s(e,[e.condition,l]).optimize(n);var m=n.in_boolean_context();return i(e.consequent)?r(e.alternative)?t(e.condition):u(un,e,{operator:"||",left:t(e.condition),right:e.alternative}):r(e.consequent)?i(e.alternative)?t(e.condition.negate(n)):u(un,e,{operator:"&&",left:t(e.condition.negate(n)),right:e.alternative}):i(e.alternative)?u(un,e,{operator:"||",left:t(e.condition.negate(n)),right:e.consequent}):r(e.alternative)?u(un,e,{operator:"&&",left:t(e.condition),right:e.consequent}):e}),e(et,function(e,n){if(n.in_boolean_context())return u(Yn,e,{value:+e.value});if(n.option("booleans")){var t=n.parent();return t instanceof un&&("=="==t.operator||"!="==t.operator)?(n.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:t.operator,value:e.value,file:t.start.file,line:t.start.line,col:t.start.col}),u(Yn,e,{value:+e.value})):u(on,e,{operator:"!",expression:u(Yn,e,{value:1-e.value})})}return e}),e(tn,function(e,n){var t=e.expression,i=e.property;if(n.option("properties")){var r=i.evaluate(n);if(r!==i){if("string"==typeof r)if("undefined"==r)r=void 0;else{(_=parseFloat(r)).toString()==r&&(r=_)}i=e.property=R(i,h(r,i).transform(n));var o=""+r;if(O(o)&&o.length<=i.print_to_string().length+1)return u(nn,e,{expression:t,property:o}).optimize(n)}}if(I(e,n.parent()))return e;if(r!==i){var a=e.flatten_object(o,n);a&&(t=e.expression=a.expression,i=e.property=a.property)}if(n.option("properties")&&n.option("side_effects")&&i instanceof Yn&&t instanceof ln){var c=i.getValue(),f=t.elements;e:if(c in f){for(var l=!0,p=[],d=f.length;--d>c;){(_=f[d].drop_side_effect_free(n))&&(p.unshift(_),l&&_.has_side_effects(n)&&(l=!1))}var m=f[c];if(m instanceof De)break e;for(m=m instanceof Kn?u(Zn,m):m,l||p.unshift(m);--d>=0;){var _;if((_=f[d])instanceof De)break e;(_=_.drop_side_effect_free(n))?p.unshift(_):c--}return l?(p.push(m),s(e,p).optimize(n)):u(tn,e,{expression:u(ln,t,{elements:p}),property:u(Yn,i,{value:c})})}}var v=e.evaluate(n);return v!==e?(v=h(v,e).optimize(n),L(n,v,e)):e}),ge.DEFMETHOD("contains_this",function(){var e,n=this;return n.walk(new w(function(t){return!!e||(t instanceof Un?e=!0:t!==n&&t instanceof _e&&!(t instanceof Ee)||void 0)})),e}),en.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")){var t=n.option("unsafe_arrows")&&n.option("ecma")>=6,i=this.expression;if(i instanceof pn)for(var r=i.properties,o=r.length;--o>=0;){var a=r[o];if(""+(a instanceof vn?a.key.name:a.key)==e){if(!g(r,function(e){return e instanceof hn||t&&e instanceof vn&&!e.is_generator}))break;var c=a.value;if((c instanceof be||c instanceof ye)&&!(n.parent()instanceof Ke)&&c.contains_this())break;return u(tn,this,{expression:u(ln,i,{elements:r.map(function(e){var n=e.value;n instanceof be&&(n=u(ye,n,n));var t=e.key;return t instanceof K&&!(t instanceof Sn)?s(e,[t,n]):n})}),property:u(Yn,this,{value:o})})}}}}),e(nn,function(e,n){var t=e.resolve_defines(n);if(t)return t.optimize(n);if(n.option("unsafe_proto")&&e.expression instanceof nn&&"prototype"==e.expression.property){var i=e.expression.expression;if(T(i))switch(i.name){case"Array":e.expression=u(ln,e.expression,{elements:[]});break;case"Object":e.expression=u(pn,e.expression,{properties:[]});break;case"String":e.expression=u(Vn,e.expression,{value:""})}}if(I(e,n.parent()))return e;var r=e.flatten_object(e.property,n);if(r)return r.optimize(n);var o=e.evaluate(n);return o!==e?(o=h(o,e).optimize(n),L(n,o,e)):e}),e(ln,J),e(pn,J),e(Wn,J),e(Se,function(e,n){return e.value&&N(e.value,n)&&(e.value=null),e}),e(Ee,function(e,n){if(e.body instanceof K||q(e.body,n),n.option("arrows")&&1==e.body.length&&e.body[0]instanceof Se){var t=e.body[0].value;e.body=t||[]}return e}),e(ye,function(e,n){if(q(e.body,n),n.option("unsafe_arrows")&&n.option("ecma")>=6&&!e.name&&!e.is_generator&&!e.uses_arguments&&!e.uses_eval){var t=!1;if(e.walk(new w(function(e){return!!t||(e instanceof Un?(t=!0,!0):void 0)})),!t)return u(Ee,e,e).optimize(n)}return e}),e(Dn,function(e,n){return e}),e(rt,function(e,n){return e.expression&&!e.is_star&&N(e.expression,n)&&(e.expression=null),e}),e(Ge,function(e,n){var t=n.option("global_defs");return t&&y(t,e.name.name)&&n.warn("global_defs "+e.name.name+" redefined [{file}:{line},{col}]",e.start),e}),e(xe,function(e,n){if(!n.option("evaluate")||n.parent()instanceof we)return e;for(var t=[],i=0;i<e.segments.length;i++){var r=e.segments[i];if(r instanceof K){var o=r.evaluate(n);if(o!==r&&(o+"").length<=r.print_to_string().length+"${}".length){t[t.length-1].value=t[t.length-1].value+o+e.segments[++i].value;continue}}t.push(r)}return e.segments=t,1==t.length?u(Vn,e,t[0]):e}),e(we,function(e,n){return e}),e(dn,X),e(vn,function(e,n){if(X(e,n),n.option("arrows")&&n.parent()instanceof pn&&1==e.value.body.length&&e.value.body[0]instanceof Se&&e.value.body[0].value&&!e.value.contains_this()){var t=u(Ee,e.value,e.value);return t.async=e.async,t.is_generator=e.is_generator,u(hn,e,{key:e.key instanceof Sn?e.key.name:e.key,value:t,quote:e.quote})}return e}),e(hn,function(e,n){X(e,n);var t=n.option("unsafe_methods");if(t&&n.option("ecma")>=6&&(!(t instanceof RegExp)||t.test(e.key+""))){var i=e.key,r=e.value;if((r instanceof Ee&&Array.isArray(r.body)&&!r.contains_this()||r instanceof ye)&&!r.name)return u(vn,e,{async:r.async,is_generator:r.is_generator,key:i instanceof K?i:u(Sn,e,{name:i}),value:u(be,r,r),quote:e.quote})}return e})}(),function(){function n(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function t(e){var t=e.loc,i=t&&t.start,r=e.range;return new Z({file:t&&t.source,line:i&&i.line,col:i&&i.column,pos:r?r[0]:e.start,endline:i&&i.line,endcol:i&&i.column,endpos:r?r[0]:e.start,raw:n(e)})}function i(e){var t=e.loc,i=t&&t.end,r=e.range;return new Z({file:t&&t.source,line:i&&i.line,col:i&&i.column,pos:r?r[1]:e.end,endline:i&&i.line,endcol:i&&i.column,endpos:r?r[1]:e.end,raw:n(e)})}function r(n,r,f){var p="function From_Moz_"+n+"(M){\n";p+="return new U2."+r.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var d="function To_Moz_"+n+"(M){\n";d+="return {\ntype: "+JSON.stringify(n),f&&f.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(p+=",\n"+r+": ",d+=",\n"+t+": ",i){case"@":p+="M."+t+".map(from_moz)",d+="M."+r+".map(to_moz)";break;case">":p+="from_moz(M."+t+")",d+="to_moz(M."+r+")";break;case"=":p+="M."+t,d+="M."+r;break;case"%":p+="from_moz(M."+t+").body",d+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),p+="\n})\n}",d+="\n}\n}",p=new Function("U2","my_start_token","my_end_token","from_moz","return("+p+")")(e,t,i,o),d=new Function("to_moz","to_moz_block","to_moz_scope","return("+d+")")(u,s,c),l[n]=p,a(r,d)}function o(e){p.push(e);var n=null!=e?l[e.type](e):null;return p.pop(),n}function a(e,n){e.DEFMETHOD("to_mozilla_ast",function(){return function(e,n,t){var i=e.start,r=e.end;return null!=i.pos&&null!=r.endpos&&(n.range=[i.pos,r.endpos]),i.line&&(n.loc={start:{line:i.line,column:i.col},end:r.endline?{line:r.endline,column:r.endcol}:null},i.file&&(n.loc.source=i.file)),n}(this,n(this))})}function u(e){return null!=e?e.to_mozilla_ast():null}function s(e){return{type:"BlockStatement",body:e.body.map(u)}}function c(e,n){var t=n.body.map(u);return n.body[0]instanceof te&&n.body[0].body instanceof Vn&&t.unshift(u(new oe(n.body[0]))),{type:e,body:t}}var f=function(e){for(var n=!0,t=0;t<e.length;t++)n&&e[t]instanceof Q&&e[t].body instanceof Vn?e[t]=new ne({start:e[t].start,end:e[t].end,value:e[t].body.value}):!n||e[t]instanceof Q&&e[t].body instanceof Vn||(n=!1);return e},l={Program:function(e){return new ve({start:t(e),end:i(e),body:f(e.body.map(o))})},FunctionDeclaration:function(e){return new Ae({start:t(e),end:i(e),name:o(e.id),argnames:e.params.map(o),body:f(o(e.body).body)})},FunctionExpression:function(e){return new ye({start:t(e),end:i(e),name:o(e.id),argnames:e.params.map(o),body:f(o(e.body).body)})},ExpressionStatement:function(e){return new te({start:t(e),end:i(e),body:o(e.expression)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(n.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new Ie({start:t(e),end:i(e),body:o(e.block).body,bcatch:o(n[0]),bfinally:e.finalizer?new Ue(o(e.finalizer)):null})},Property:function(e){var n=e.key,r={start:t(n),end:i(e.value),key:"Identifier"==n.type?n.name:n.value,value:o(e.value)};return"init"==e.kind?new hn(r):(r.key=new Sn({name:r.key}),r.value=new be(r.value),"get"==e.kind?new _n(r):"set"==e.kind?new mn(r):void 0)},ArrayExpression:function(e){return new ln({start:t(e),end:i(e),elements:e.elements.map(function(e){return null===e?new Kn:o(e)})})},ObjectExpression:function(e){return new pn({start:t(e),end:i(e),properties:e.properties.map(function(e){return e.type="Property",o(e)})})},SequenceExpression:function(e){return new Qe({start:t(e),end:i(e),expressions:e.expressions.map(o)})},MemberExpression:function(e){return new(e.computed?tn:nn)({start:t(e),end:i(e),property:e.computed?o(e.property):e.property.name,expression:o(e.object)})},SwitchCase:function(e){return new(e.test?He:je)({start:t(e),end:i(e),expression:o(e.test),body:e.consequent.map(o)})},VariableDeclaration:function(e){return new("const"===e.kind?Ye:Le)({start:t(e),end:i(e),definitions:e.declarations.map(o)})},Literal:function(e){var n=e.value,r={start:t(e),end:i(e)};if(null===n)return new Xn(r);switch(typeof n){case"string":return r.value=n,new Vn(r);case"number":return r.value=n,new Yn(r);case"boolean":return new(n?tt:nt)(r);default:var o=e.regex;return o&&o.pattern?r.value=new RegExp(o.pattern,o.flags).toString():r.value=e.regex&&e.raw?e.raw:n,new Wn(r)}},Identifier:function(e){var n=p[p.length-2];return new("LabeledStatement"==n.type?Nn:"VariableDeclarator"==n.type&&n.id===e?"const"==n.kind?xn:Fn:"FunctionExpression"==n.type?n.id===e?Tn:kn:"FunctionDeclaration"==n.type?n.id===e?Bn:kn:"CatchClause"==n.type?Mn:"BreakStatement"==n.type||"ContinueStatement"==n.type?Rn:jn)({start:t(e),end:i(e),name:e.name})}};l.UpdateExpression=l.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?on:an)({start:t(e),end:i(e),operator:e.operator,expression:o(e.argument)})},r("EmptyStatement",oe),r("BlockStatement",re,"body@body"),r("IfStatement",qe,"test>condition, consequent>body, alternate>alternative"),r("LabeledStatement",ue,"label>label, body>body"),r("BreakStatement",Oe,"label>label"),r("ContinueStatement",Me,"label>label"),r("WithStatement",me,"object>expression, body>body"),r("SwitchStatement",ze,"discriminant>expression, cases@body"),r("ReturnStatement",Se,"argument>value"),r("ThrowStatement",Te,"argument>value"),r("WhileStatement",le,"test>condition, body>body"),r("DoWhileStatement",fe,"test>condition, body>body"),r("ForStatement",pe,"init>init, test>condition, update>step, body>body"),r("ForInStatement",de,"left>init, right>object, body>body"),r("DebuggerStatement",ee),r("VariableDeclarator",Ge,"id>name, init>value"),r("CatchClause",Re,"param>argname, body%body"),r("ThisExpression",Un),r("BinaryExpression",un,"operator=operator, left>left, right>right"),r("LogicalExpression",un,"operator=operator, left>left, right>right"),r("AssignmentExpression",cn,"operator=operator, left>left, right>right"),r("ConditionalExpression",sn,"test>condition, consequent>consequent, alternate>alternative"),r("NewExpression",Ke,"callee>expression, arguments@args"),r("CallExpression",Ze,"callee>expression, arguments@args"),a(ve,function(e){return c("Program",e)}),a(Ae,function(e){return{type:"FunctionDeclaration",id:u(e.name),params:e.argnames.map(u),body:c("BlockStatement",e)}}),a(ye,function(e){return{type:"FunctionExpression",id:u(e.name),params:e.argnames.map(u),body:c("BlockStatement",e)}}),a(ne,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),a(te,function(e){return{type:"ExpressionStatement",expression:u(e.body)}}),a(Ne,function(e){return{type:"SwitchCase",test:u(e.expression),consequent:e.body.map(u)}}),a(Ie,function(e){return{type:"TryStatement",block:s(e),handler:u(e.bcatch),guardedHandlers:[],finalizer:u(e.bfinally)}}),a(Re,function(e){return{type:"CatchClause",param:u(e.argname),guard:null,body:s(e)}}),a(Pe,function(e){return{type:"VariableDeclaration",kind:e instanceof Ye?"const":"var",declarations:e.definitions.map(u)}}),a(Qe,function(e){return{type:"SequenceExpression",expressions:e.expressions.map(u)}}),a(en,function(e){var n=e instanceof tn;return{type:"MemberExpression",object:u(e.expression),computed:n,property:n?u(e.property):{type:"Identifier",name:e.property}}}),a(rn,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof on,argument:u(e.expression)}}),a(un,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:u(e.left),operator:e.operator,right:u(e.right)}}),a(ln,function(e){return{type:"ArrayExpression",elements:e.elements.map(u)}}),a(pn,function(e){return{type:"ObjectExpression",properties:e.properties.map(u)}}),a(dn,function(e){var n,t={type:"Literal",value:e.key instanceof Sn?e.key.name:e.key};return e instanceof hn?n="init":e instanceof _n?n="get":e instanceof mn&&(n="set"),{type:"Property",kind:n,key:t,value:u(e.value)}}),a(yn,function(e){var n=e.definition();return{type:"Identifier",name:n?n.mangled_name||n.name:e.name}}),a(Wn,function(e){var n=e.value;return{type:"Literal",value:n,raw:n.toString(),regex:{pattern:n.source,flags:n.toString().match(/[gimuy]*$/)[0]}}}),a(Ln,function(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}),a(Jn,function(e){return{type:"Identifier",name:String(e.value)}}),et.DEFMETHOD("to_mozilla_ast",Ln.prototype.to_mozilla_ast),Xn.DEFMETHOD("to_mozilla_ast",Ln.prototype.to_mozilla_ast),Kn.DEFMETHOD("to_mozilla_ast",function(){return null}),ie.DEFMETHOD("to_mozilla_ast",re.prototype.to_mozilla_ast),ge.DEFMETHOD("to_mozilla_ast",ye.prototype.to_mozilla_ast);var p=null;K.from_mozilla_ast=function(e){var n=p;p=[];var t=o(e);return p=n,t}}();var Tt="undefined"==typeof atob?function(e){return new Buffer(e,"base64").toString()}:atob,$t="undefined"==typeof btoa?function(e){return new Buffer(e).toString("base64")}:btoa;e.Dictionary=b,e.TreeWalker=w,e.TreeTransformer=H,e.minify=function(e,n){var t=K.warn_function;try{var i=(n=u(n,{compress:{},ecma:void 0,ie8:!1,keep_classnames:void 0,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,safari10:!1,sourceMap:!1,timings:!1,toplevel:!1,warnings:!1,wrap:!1},!0)).timings&&{start:Date.now()};void 0===n.keep_classnames&&(n.keep_classnames=n.keep_fnames),void 0===n.rename&&(n.rename=n.compress&&n.mangle),W("ecma",n,["parse","compress","output"]),W("ie8",n,["compress","mangle","output"]),W("keep_classnames",n,["compress","mangle"]),W("keep_fnames",n,["compress","mangle"]),W("safari10",n,["mangle","output"]),W("toplevel",n,["compress","mangle"]),W("warnings",n,["compress"]);var r;n.mangle&&(n.mangle=u(n.mangle,{cache:n.nameCache&&(n.nameCache.vars||{}),eval:!1,ie8:!1,keep_classnames:!1,keep_fnames:!1,properties:!1,reserved:[],safari10:!1,toplevel:!1},!0),n.mangle.properties&&("object"!=typeof n.mangle.properties&&(n.mangle.properties={}),n.mangle.properties.keep_quoted&&(r=n.mangle.properties.reserved,Array.isArray(r)||(r=[]),n.mangle.properties.reserved=r),!n.nameCache||"cache"in n.mangle.properties||(n.mangle.properties.cache=n.nameCache.props||{})),J(n.mangle.cache),J(n.mangle.properties.cache)),n.sourceMap&&(n.sourceMap=u(n.sourceMap,{content:null,filename:null,includeSources:!1,root:null,url:null},!0));var o=[];n.warnings&&!K.warn_function&&(K.warn_function=function(e){o.push(e)}),i&&(i.parse=Date.now());var a;if(e instanceof ve)a=e;else{"string"==typeof e&&(e=[e]),n.parse=n.parse||{},n.parse.toplevel=null;for(var s in e)if(y(e,s)&&(n.parse.filename=s,n.parse.toplevel=j(e[s],n.parse),n.sourceMap&&"inline"==n.sourceMap.content)){if(Object.keys(e).length>1)throw new Error("inline source map only works with singular input");n.sourceMap.content=Y(e[s])}a=n.parse.toplevel}r&&function(e,n){function t(e){h(n,e)}e.walk(new w(function(e){e instanceof hn&&e.quote?t(e.key):e instanceof dn&&e.quote?t(e.key.name):e instanceof tn&&L(e.property,t)}))}(a,r),n.wrap&&(a=a.wrap_commonjs(n.wrap)),i&&(i.rename=Date.now()),n.rename&&(a.figure_out_scope(n.mangle),a.expand_names(n.mangle)),i&&(i.compress=Date.now()),n.compress&&(a=new P(n.compress).compress(a)),i&&(i.scope=Date.now()),n.mangle&&a.figure_out_scope(n.mangle),i&&(i.mangle=Date.now()),n.mangle&&(Bt.reset(),a.compute_char_frequency(n.mangle),a.mangle_names(n.mangle)),i&&(i.properties=Date.now()),n.mangle&&n.mangle.properties&&(a=V(a,n.mangle.properties)),i&&(i.output=Date.now());var c={};if(n.output.ast&&(c.ast=a),!y(n.output,"code")||n.output.code){if(n.sourceMap&&("string"==typeof n.sourceMap.content&&(n.sourceMap.content=JSON.parse(n.sourceMap.content)),n.output.source_map=function(e){e=u(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var n=new MOZ_SourceMap.SourceMapGenerator({file:e.file,sourceRoot:e.root}),t=e.orig&&new MOZ_SourceMap.SourceMapConsumer(e.orig);return t&&Array.isArray(e.orig.sources)&&t._sources.toArray().forEach(function(e){var i=t.sourceContentFor(e,!0);i&&n.setSourceContent(e,i)}),{add:function(i,r,o,a,u,s){if(t){var c=t.originalPositionFor({line:a,column:u});if(null===c.source)return;i=c.source,a=c.line,u=c.column,s=c.name||s}n.addMapping({generated:{line:r+e.dest_line_diff,column:o},original:{line:a+e.orig_line_diff,column:u},source:i,name:s})},get:function(){return n},toString:function(){return JSON.stringify(n.toJSON())}}}({file:n.sourceMap.filename,orig:n.sourceMap.content,root:n.sourceMap.root}),n.sourceMap.includeSources)){if(e instanceof ve)throw new Error("original source content unavailable");for(var s in e)y(e,s)&&n.output.source_map.get().setSourceContent(s,e[s])}delete n.output.ast,delete n.output.code;var f=U(n.output);a.print(f),c.code=f.get(),n.sourceMap&&(c.map=n.output.source_map.toString(),"inline"==n.sourceMap.url?c.code+="\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+$t(c.map):n.sourceMap.url&&(c.code+="\n//# sourceMappingURL="+n.sourceMap.url))}return n.nameCache&&n.mangle&&(n.mangle.cache&&(n.nameCache.vars=X(n.mangle.cache)),n.mangle.properties&&n.mangle.properties.cache&&(n.nameCache.props=X(n.mangle.properties.cache))),i&&(i.end=Date.now(),c.timings={parse:.001*(i.rename-i.parse),rename:.001*(i.compress-i.rename),compress:.001*(i.scope-i.compress),scope:.001*(i.mangle-i.scope),mangle:.001*(i.properties-i.mangle),properties:.001*(i.output-i.properties),output:.001*(i.end-i.output),total:.001*(i.end-i.start)}),o.length&&(c.warnings=o),c}catch(e){return{error:e}}finally{K.warn_function=t}},e._push_uniq=h}("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS)}).call(exports,__webpack_require__(27),__webpack_require__(42).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(global){var base64=__webpack_require__(43);var ieee754=__webpack_require__(44);var isArray=__webpack_require__(45);exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength=kMaxLength();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(that===null){that=new Buffer(length)}that.length=length}return that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(arg,encodingOrOffset,length)}if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if(typeof value==="string"){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be a number')}else if(size<0){throw new RangeError('"size" argument must not be negative')}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0}}return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding')}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length){that=that.slice(0,actual)}return that}function fromArrayLike(that,array){var length=array.length<0?0:checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(byteOffset===undefined&&length===undefined){array=new Uint8Array(array)}else if(length===undefined){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that}obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){string=""+string}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(isNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code}}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}}).call(exports,__webpack_require__(27))},function(module,exports,__webpack_require__){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function placeHoldersCount(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return b64[len-2]==="="?2:b64[len-1]==="="?1:0}function byteLength(b64){return b64.length*3/4-placeHoldersCount(b64)}function toByteArray(b64){var i,l,tmp,placeHolders,arr;var len=b64.length;placeHolders=placeHoldersCount(b64);arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0;i<l;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&255;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.compile=compile;var _sweet=__webpack_require__(47);var _storeLoader=__webpack_require__(48);var _storeLoader2=_interopRequireDefault(_storeLoader);var _store=__webpack_require__(26);var _store2=_interopRequireDefault(_store);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class BrowserStoreLoader extends _storeLoader2.default{constructor(baseDir,store){super(baseDir,store,true)}fetch({name:name,address:address}){if(this.store.has(address.path)){return this.store.get(address.path)}throw new Error(`The module ${name} is not in the debug store: addr.path is ${address.path}`)}freshStore(){return new _store2.default({})}eval(source,store){return(0,eval)(source)}}function compile(source,helpers){let s=new Map;s.set("main.js",source);s.set("sweet.js/helpers.js",helpers);s.set("sweet.js/helpers",helpers);let loader=new BrowserStoreLoader(".",s);return(0,_sweet.compile)("main.js",loader)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parse=parse;exports.compile=compile;var _babelCore=__webpack_require__(28);function compileModule(entryPath,loader,refererName){return loader.compile(entryPath,{refererName:refererName,enforceLangPragma:false,isEntrypoint:true})}function parse(entryPath,loader,options){let refererName;if(options!=null){refererName=options.refererName}return compileModule(entryPath,loader,refererName).parse()}function compile(entryPath,loader,options){let refererName,noBabel=true;if(options!=null){refererName=options.refererName;noBabel=options.noBabel}let code=compileModule(entryPath,loader,refererName).codegen();if(noBabel){return{code:code}}return(0,_babelCore.transform)(code,{babelrc:true})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _sweetLoader=__webpack_require__(49);var _sweetLoader2=_interopRequireDefault(_sweetLoader);var _vm=__webpack_require__(81);var _vm2=_interopRequireDefault(_vm);var _store=__webpack_require__(26);var _store2=_interopRequireDefault(_store);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=class extends _sweetLoader2.default{constructor(baseDir,store,noBabel=false){super(baseDir,{noBabel:noBabel});this.store=store}fetch({name:name,address:address}){if(this.store.has(address.path)){return this.store.get(address.path)}throw new Error(`The module ${name} is not in the debug store: addr.path is ${address.path}`)}freshStore(){return new _store2.default(_vm2.default.createContext())}eval(source,store){return _vm2.default.runInContext(source,store.getBackingObject())}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.phaseInModulePathRegexp=undefined;var _tokenReader=__webpack_require__(29);var _tokenReader2=_interopRequireDefault(_tokenReader);var _scope=__webpack_require__(12);var _env=__webpack_require__(16);var _env2=_interopRequireDefault(_env);var _immutable=__webpack_require__(1);var _compiler=__webpack_require__(36);var _compiler2=_interopRequireDefault(_compiler);var _syntax=__webpack_require__(4);var _bindingMap=__webpack_require__(35);var _bindingMap2=_interopRequireDefault(_bindingMap);var _sweetSpec=__webpack_require__(2);var _sweetSpec2=_interopRequireDefault(_sweetSpec);var _sweetModule=__webpack_require__(17);var _sweetModule2=_interopRequireDefault(_sweetModule);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _scopeReducer=__webpack_require__(10);var _scopeReducer2=_interopRequireDefault(_scopeReducer);var _macroContext=__webpack_require__(38);var _babelCore=__webpack_require__(28);var _store=__webpack_require__(26);var _store2=_interopRequireDefault(_store);var _multimap=__webpack_require__(39);var _multimap2=_interopRequireDefault(_multimap);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const phaseInModulePathRegexp=exports.phaseInModulePathRegexp=/(.*):(\d+)\s*$/;class SweetLoader{constructor(baseDir,options={}){this.sourceCache=new Map;this.compiledCache=new Map;this.baseDir=baseDir;this.logging=options.logging||false;let bindings=new _bindingMap2.default;let templateMap=new Map;let tempIdent=0;this.context={phase:0,bindings:bindings,templateMap:templateMap,getTemplateIdentifier:()=>++tempIdent,loader:this,invokedRegistry:new _multimap2.default,transform:c=>{if(options.noBabel){return{code:c}}return(0,_babelCore.transform)(c,{babelrc:true})}}}normalize(name,refererName,refererAddress){if(!phaseInModulePathRegexp.test(name)){return`${name}:0`}return name}locate({name:name,metadata:metadata}){let match=name.match(phaseInModulePathRegexp);if(match&&match.length>=3){return{path:match[1],phase:parseInt(match[2],10)}}throw new Error(`Module ${name} is missing phase information`)}fetch({name:name,address:address,metadata:metadata}){throw new Error("No default fetch defined")}translate({name:name,address:address,source:source,metadata:metadata}){let src=this.compiledCache.get(address.path);if(src!=null){return src}let compiledModule=this.compileSource(source,address.path,metadata);this.compiledCache.set(address.path,compiledModule);return compiledModule}instantiate({name:name,address:address,source:source,metadata:metadata}){throw new Error("Not implemented yet")}eval(source){return(0,eval)(source)}load(entryPath){let metadata={};let name=this.normalize(entryPath);let address=this.locate({name:name,metadata:metadata});let source=this.fetch({name:name,address:address,metadata:metadata});source=this.translate({name:name,address:address,source:source,metadata:metadata});return this.instantiate({name:name,address:address,source:source,metadata:metadata})}compile(entryPath,{refererName:refererName,enforceLangPragma:enforceLangPragma,isEntrypoint:isEntrypoint}){let metadata={isEntrypoint:isEntrypoint,enforceLangPragma:enforceLangPragma,entryPath:entryPath};let name=this.normalize(entryPath,refererName);let address=this.locate({name:name,metadata:metadata});let source=this.fetch({name:name,address:address,metadata:metadata});return this.translate({name:name,address:address,source:source,metadata:metadata})}get(entryPath,entryPhase,refererName){return this.compile(`${entryPath}:${entryPhase}`,{refererName:refererName,enforceLangPragma:true,isEntrypoint:false})}read(source){return(0,_macroContext.wrapInTerms)((0,_tokenReader2.default)(source))}freshStore(){return new _store2.default({})}compileSource(source,path,metadata){let directive=getLangDirective(source);if(directive==null&&metadata.enforceLangPragma){if(this.logging)console.log(`skipping module ${metadata.entryPath}`);return new _sweetModule2.default(path,_immutable.List.of())}let stxl=this.read(source);let outScope=(0,_scope.freshScope)("outsideEdge");let inScope=(0,_scope.freshScope)("insideEdge0");let compiler=new _compiler2.default(0,new _env2.default,this.freshStore(),_.merge(this.context,{currentScope:[outScope,inScope],cwd:path,isEntrypoint:metadata.isEntrypoint}));return new _sweetModule2.default(path,compiler.compile(stxl.map(s=>s.reduce(new _scopeReducer2.default([{scope:outScope,phase:_syntax.ALL_PHASES,flip:false},{scope:inScope,phase:0,flip:false}],this.context.bindings)))))}}exports.default=SweetLoader;const langDirectiveRegexp=/\s*('lang .*')/;function getLangDirective(source){let match=source.match(langDirectiveRegexp);if(match){return match[1]}return null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setCurrentReadtable=setCurrentReadtable;exports.getCurrentReadtable=getCurrentReadtable;var _charStream=__webpack_require__(30);var _readtable=__webpack_require__(31);const defaultDispatchKey="#";let dispatching=false;let currentReadtable=_readtable.EmptyReadtable.extend({key:defaultDispatchKey,mode:"non-terminating",action:function readDispatchChar(stream,...rest){stream.readString();dispatching=true;return this.read(stream,...rest,defaultDispatchKey)}});class Reader{read(stream,...rest){let key=stream.peek();if(!(0,_charStream.isEOS)(key)){const entry=currentReadtable.getMapping(key);const action=dispatching?(dispatching=false,entry.dispatchAction):entry.action;return action.call(this,stream,...rest)}throw Error("Unexpected end of input")}}exports.default=Reader;function setCurrentReadtable(readtable){currentReadtable=readtable}function getCurrentReadtable(){return currentReadtable}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _immutable=__webpack_require__(1);var _readtable=__webpack_require__(5);var _readIdentifier=__webpack_require__(52);var _readIdentifier2=_interopRequireDefault(_readIdentifier);var _readNumeric=__webpack_require__(64);var _readNumeric2=_interopRequireDefault(_readNumeric);var _readString=__webpack_require__(65);var _readString2=_interopRequireDefault(_readString);var _readTemplate=__webpack_require__(66);var _readTemplate2=_interopRequireDefault(_readTemplate);var _readRegexp=__webpack_require__(67);var _readRegexp2=_interopRequireDefault(_readRegexp);var _readComment=__webpack_require__(68);var _readComment2=_interopRequireDefault(_readComment);var _readDispatch=__webpack_require__(69);var _tokens=__webpack_require__(3);var _utils=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function eatWhitespace(stream){stream.readString();return _tokens.EmptyToken}const punctuatorTable=Object.keys(_tokens.punctuatorTable).reduce(_utils.insertSequence,{});function readPunctuator(stream){const len=(0,_utils.retrieveSequenceLength)(punctuatorTable,stream,0);if(len>0){return new _tokens.PunctuatorToken({value:stream.readString(len)})}throw Error("Unknown punctuator")}const punctuatorEntries=Object.keys(punctuatorTable).map(p=>({key:p,mode:"terminating",action:readPunctuator}));const whiteSpaceTable=[32,9,11,12,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];const whiteSpaceEntries=whiteSpaceTable.map(w=>({key:w,mode:"terminating",action:eatWhitespace}));const lineTerminatorTable=[10,13,8232,8233];const lineTerminatorEntries=lineTerminatorTable.map(lt=>({key:lt,mode:"terminating",action:function readLineTerminator(stream){this.incrementLine();return eatWhitespace(stream)}}));const digits=["0","1","2","3","4","5","6","7","8","9"];const numericEntries=digits.map(d=>({key:d,mode:"non-terminating",action:_readNumeric2.default}));const quotes=["'",'"'];const stringEntries=quotes.map(q=>({key:q,mode:"terminating",action:_readString2.default}));const identifierEntry={mode:"non-terminating",action:_readIdentifier2.default};const templateEntry={key:"`",mode:"terminating",action:_readTemplate2.default};const primitiveReadtable=(0,_readtable.getCurrentReadtable)().extend(...[identifierEntry,...whiteSpaceEntries,templateEntry,...punctuatorEntries,...lineTerminatorEntries,...numericEntries,...stringEntries]);const dotEntry={key:".",mode:"terminating",action:function readDot(stream,...rest){const nxt=stream.peek(1).charCodeAt(0);if((0,_utils.isDecimalDigit)(nxt)){return(0,_readNumeric2.default)(stream,...rest)}return readPunctuator.call(this,stream)}};const keywordTable=Object.keys(_tokens.keywordTable).reduce(_utils.insertSequence,{});const keywordEntries=Object.keys(keywordTable).map(k=>({key:k,mode:"non-terminating",action:function readKeyword(stream){const len=(0,_utils.retrieveSequenceLength)(keywordTable,stream,0);if(len>0&&!(0,_utils.isIdentifierPart)(stream.peek(len).charCodeAt(0))){return new _tokens.KeywordToken({value:stream.readString(len)})}return _readIdentifier2.default.call(this,stream)}}));const delimiterPairs=[["[","]"],["(",")"]];function readDelimiters(closing,stream,prefix,b){const currentReadtable=(0,_readtable.getCurrentReadtable)();(0,_readtable.setCurrentReadtable)(primitiveReadtable);let results=_immutable.List.of(this.readToken(stream,(0,_immutable.List)(),b));(0,_readtable.setCurrentReadtable)(currentReadtable);return this.readUntil(closing,stream,results,b)}const delimiterEntries=delimiterPairs.map(p=>({key:p[0],mode:"terminating",action:function readDefaultDelimiters(stream,prefix,b){return readDelimiters.call(this,p[1],stream,prefix,true)}}));const bracesEntry={key:"{",mode:"terminating",action:function readBraces(stream,prefix,b){const line=this.locationInfo.line;const innerB=(0,_utils.isExprPrefix)(line,b,prefix);return readDelimiters.call(this,"}",stream,prefix,innerB)}};function readClosingDelimiter(opening,closing,stream,prefix,b){if(prefix.first().value!==opening){throw Error("Unmatched delimiter:",closing)}return readPunctuator.call(this,stream)}const unmatchedDelimiterEntries=[["{","}"],["[","]"],["(",")"]].map(p=>({key:p[1],mode:"terminating",action:function readClosingDelimiters(stream,prefix,b){return readClosingDelimiter.call(this,...p,stream,prefix,b)}}));const divEntry={key:"/",mode:"terminating",action:function readDiv(stream,prefix,b){let nxt=stream.peek(1);if(nxt==="/"||nxt==="*"){const result=_readComment2.default.call(this,stream);return result}if((0,_utils.isRegexPrefix)(b,prefix)){return _readRegexp2.default.call(this,stream,prefix,b)}return readPunctuator.call(this,stream)}};const dispatchBacktickEntry={key:"`",mode:"dispatch",action:_readDispatch.readSyntaxTemplate};const defaultDispatchEntry={mode:"dispatch",action:function readDefaultDispatch(...args){this.readToken(...args);return _tokens.EmptyToken}};const dispatchWhiteSpaceEntries=whiteSpaceTable.concat(lineTerminatorTable).map(w=>({key:w,mode:"dispatch",action:function readDispatchWhitespace(stream,prefix,allowExprs,dispatchKey){this.readToken(stream,prefix,allowExprs);return new _tokens.IdentifierToken({value:dispatchKey})}}));const atEntry={key:"@",mode:"terminating",action:function readAt(stream,prefix){const nxt=stream.peek(1),nxtCode=nxt.charCodeAt(0);if((0,_readtable.isEOS)(nxt)||(0,_utils.isWhiteSpace)(nxtCode)||(0,_utils.isLineTerminator)(nxtCode)){return new _tokens.IdentifierToken({value:stream.readString()})}throw new SyntaxError("Invalid or unexpected token")}};const defaultReadtable=primitiveReadtable.extend(...[dotEntry,...delimiterEntries,...unmatchedDelimiterEntries,bracesEntry,divEntry,...keywordEntries,defaultDispatchEntry,dispatchBacktickEntry,...dispatchWhiteSpaceEntries,atEntry]);exports.default=defaultReadtable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=readIdentifier;var _utils=__webpack_require__(6);var _readtable=__webpack_require__(5);var _tokens=__webpack_require__(3);let terminates;const startsEscape=code=>{if(code===92)return true;return 55296<=code&&code<=56319};function readIdentifier(stream){terminates=(0,_utils.isTerminating)((0,_readtable.getCurrentReadtable)());let char=stream.peek();let code=char.charCodeAt(0);let check=_utils.isIdentifierStart;if(!check(code)&&!startsEscape(code)){throw this.createError("Invalid or unexpected token")}let idx=0;while(!terminates(char)&&!(0,_readtable.isEOS)(char)){if(startsEscape(code)){return new _tokens.IdentifierToken({value:getEscapedIdentifier.call(this,stream)})}if(!check(code)){return new _tokens.IdentifierToken({value:stream.readString(idx)})}char=stream.peek(++idx);code=char.charCodeAt(0);check=_utils.isIdentifierPart}return new _tokens.IdentifierToken({value:stream.readString(idx)})}function getEscapedIdentifier(stream){const sPeek=stream.peek.bind(stream);let id="";let check=_utils.isIdentifierStart;let char=sPeek();let code=char.charCodeAt(0);while(!terminates(char)&&!(0,_readtable.isEOS)(char)){let streamRead=false;if(char==="\\"){let nxt=sPeek(1);if((0,_readtable.isEOS)(nxt)){throw this.createILLEGAL(char)}if(nxt!=="u"){throw this.createILLEGAL(char)}code=(0,_utils.scanUnicode)(stream,2);streamRead=true;if(code<0){throw this.createILLEGAL(char)}}else if(55296<=code&&code<=56319){if((0,_readtable.isEOS)(char)){throw this.createILLEGAL(char)}let lowSurrogateCode=sPeek(1).charCodeAt(0);if(56320>lowSurrogateCode||lowSurrogateCode>57343){throw this.createILLEGAL(char)}stream.readString(2);code=decodeUtf16(code,lowSurrogateCode);streamRead=true}if(!check(code)){if(id.length<1){throw this.createILLEGAL(char)}return id}if(!streamRead)stream.readString();id+=String.fromCodePoint(code);char=sPeek();code=char.charCodeAt(0);check=_utils.isIdentifierPart}return id}function decodeUtf16(lead,trail){return(lead-55296)*1024+(trail-56320)+65536}},function(module,exports){(function(){"use strict";function isExpression(node){if(node==null){return false}switch(node.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return true}return false}function isIterationStatement(node){if(node==null){return false}switch(node.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return true}return false}function isStatement(node){if(node==null){return false}switch(node.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return true}return false}function isSourceElement(node){return isStatement(node)||node!=null&&node.type==="FunctionDeclaration"}function trailingStatement(node){switch(node.type){case"IfStatement":if(node.alternate!=null){return node.alternate}return node.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return node.body}return null}function isProblematicIfStatement(node){var current;if(node.type!=="IfStatement"){return false}if(node.alternate==null){return false}current=node.consequent;do{if(current.type==="IfStatement"){if(current.alternate==null){return true}}current=trailingStatement(current)}while(current);return false}module.exports={isExpression:isExpression,isStatement:isStatement,isIterationStatement:isIterationStatement,isSourceElement:isSourceElement,isProblematicIfStatement:isProblematicIfStatement,trailingStatement:trailingStatement}})()},function(module,exports,__webpack_require__){(function(){"use strict";var code=__webpack_require__(32);function isStrictModeReservedWordES6(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return true;default:return false}}function isKeywordES5(id,strict){if(!strict&&id==="yield"){return false}return isKeywordES6(id,strict)}function isKeywordES6(id,strict){if(strict&&isStrictModeReservedWordES6(id)){return true}switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function isReservedWordES5(id,strict){return id==="null"||id==="true"||id==="false"||isKeywordES5(id,strict)}function isReservedWordES6(id,strict){return id==="null"||id==="true"||id==="false"||isKeywordES6(id,strict)}function isRestrictedWord(id){return id==="eval"||id==="arguments"}function isIdentifierNameES5(id){var i,iz,ch;if(id.length===0){return false}ch=id.charCodeAt(0);if(!code.isIdentifierStartES5(ch)){return false}for(i=1,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(!code.isIdentifierPartES5(ch)){return false}}return true}function decodeUtf16(lead,trail){return(lead-55296)*1024+(trail-56320)+65536}function isIdentifierNameES6(id){var i,iz,ch,lowCh,check;if(id.length===0){return false}check=code.isIdentifierStartES6;for(i=0,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(55296<=ch&&ch<=56319){++i;if(i>=iz){return false}lowCh=id.charCodeAt(i);if(!(56320<=lowCh&&lowCh<=57343)){return false}ch=decodeUtf16(ch,lowCh)}if(!check(ch)){return false}check=code.isIdentifierPartES6}return true}function isIdentifierES5(id,strict){return isIdentifierNameES5(id)&&!isReservedWordES5(id,strict)}function isIdentifierES6(id,strict){return isIdentifierNameES6(id)&&!isReservedWordES6(id,strict)}module.exports={isKeywordES5:isKeywordES5,isKeywordES6:isKeywordES6,isReservedWordES5:isReservedWordES5,isReservedWordES6:isReservedWordES6,isRestrictedWord:isRestrictedWord,isIdentifierNameES5:isIdentifierNameES5,isIdentifierNameES6:isIdentifierNameES6,isIdentifierES5:isIdentifierES5,isIdentifierES6:isIdentifierES6}})()},function(module,exports,__webpack_require__){var R=__webpack_require__(0);var util=__webpack_require__(15);function Either(left,right){switch(arguments.length){case 0:throw new TypeError("no arguments to Either");case 1:return function(right){return right==null?Either.Left(left):Either.Right(right)};default:return right==null?Either.Left(left):Either.Right(right)}}Either.prototype["@@type"]="ramda-fantasy/Either";Either.prototype.map=util.returnThis;Either.of=Either.prototype.of=function(value){return Either.Right(value)};Either.prototype.chain=util.returnThis;Either.equals=Either.prototype.equals=util.getEquals(Either);Either.either=R.curry(function either(leftFn,rightFn,e){if(e instanceof _Left){return leftFn(e.value)}else if(e instanceof _Right){return rightFn(e.value)}else{throw new TypeError("invalid type given to Either.either")}});Either.isLeft=function(x){return x.isLeft};Either.isRight=function(x){return x.isRight};function _Right(x){this.value=x}util.extend(_Right,Either);_Right.prototype.isRight=true;_Right.prototype.isLeft=false;_Right.prototype.map=function(fn){return new _Right(fn(this.value))};_Right.prototype.ap=function(that){return that.map(this.value)};_Right.prototype.chain=function(f){return f(this.value)};_Right.prototype.bimap=function(_,f){return new _Right(f(this.value))};_Right.prototype.extend=function(f){return new _Right(f(this))};_Right.prototype.toString=function(){return"Either.Right("+R.toString(this.value)+")"};Either.Right=function(value){return new _Right(value)};function _Left(x){this.value=x}util.extend(_Left,Either);_Left.prototype.isLeft=true;_Left.prototype.isRight=false;_Left.prototype.ap=util.returnThis;_Left.prototype.bimap=function(f){return new _Left(f(this.value))};_Left.prototype.extend=util.returnThis;_Left.prototype.toString=function(){return"Either.Left("+R.toString(this.value)+")"};Either.Left=function(value){return new _Left(value)};module.exports=Either},function(module,exports,__webpack_require__){var R=__webpack_require__(0);function jail(handler,f){return function(a){try{return f(a)}catch(err){handler(err)}}}function Future(f){if(!(this instanceof Future)){return new Future(f)}this._fork=f}Future.prototype["@@type"]="ramda-fantasy/Future";Future.prototype.fork=function(reject,resolve){this._fork(reject,jail(reject,resolve))};Future.prototype.map=function(f){return this.chain(function(a){return Future.of(f(a))})};Future.prototype.ap=function(m){var self=this;return new Future(function(rej,res){var applyFn,val;var doReject=R.once(rej);var resolveIfDone=jail(doReject,function(){if(applyFn!=null&&val!=null){return res(applyFn(val))}});self._fork(doReject,function(fn){applyFn=fn;resolveIfDone()});m._fork(doReject,function(v){val=v;resolveIfDone()})})};Future.of=function(x){return new Future(function(_,resolve){return resolve(x)})};Future.prototype.of=Future.of;Future.prototype.chain=function(f){return new Future(function(reject,resolve){return this._fork(function(a){return reject(a)},jail(reject,function(b){return f(b)._fork(reject,resolve)}))}.bind(this))};Future.prototype.chainReject=function(f){return new Future(function(reject,resolve){return this._fork(jail(reject,function(a){return f(a)._fork(reject,resolve)}),function(b){return resolve(b)})}.bind(this))};Future.prototype.bimap=function(errFn,successFn){var self=this;return new Future(function(reject,resolve){self._fork(jail(reject,function(err){reject(errFn(err))}),jail(reject,function(val){resolve(successFn(val))}))})};Future.reject=function(val){return new Future(function(reject){reject(val)})};Future.prototype.toString=function(){return"Future("+R.toString(this._fork)+")"};Future.cache=function(f){var status="IDLE";var listeners=[];var cachedValue;var handleCompletion=R.curry(function(newStatus,cb,val){status=newStatus;cachedValue=val;cb(val);R.forEach(function(listener){listener[status](cachedValue)},listeners)});function addListeners(reject,resolve){listeners.push({REJECTED:reject,RESOLVED:resolve})}function doResolve(reject,resolve){status="PENDING";return f._fork(handleCompletion("REJECTED",reject),handleCompletion("RESOLVED",resolve))}return new Future(function(reject,resolve){switch(status){case"IDLE":doResolve(reject,resolve);break;case"PENDING":addListeners(reject,resolve);break;case"REJECTED":reject(cachedValue);break;case"RESOLVED":resolve(cachedValue);break}})};module.exports=Future},function(module,exports,__webpack_require__){var R=__webpack_require__(0);var util=__webpack_require__(15);function Identity(x){if(!(this instanceof Identity)){return new Identity(x)}this.value=x}Identity.prototype["@@type"]="ramda-fantasy/Identity";Identity.of=function(x){return new Identity(x)};Identity.prototype.of=Identity.of;Identity.prototype.map=function(f){return new Identity(f(this.value))};Identity.prototype.ap=function(app){return app.map(this.value)};Identity.prototype.chain=function(fn){return fn(this.value)};Identity.prototype.get=function(){return this.value};Identity.prototype.equals=util.getEquals(Identity);Identity.prototype.toString=function(){return"Identity("+R.toString(this.value)+")"};module.exports=Identity},function(module,exports,__webpack_require__){var R=__webpack_require__(0);module.exports=IO;var compose=R.compose;function IO(fn){if(!(this instanceof IO)){return new IO(fn)}this.fn=fn}IO.prototype["@@type"]="ramda-fantasy/IO";IO.prototype.chain=function(f){var io=this;return new IO(function(){var next=f(io.fn.apply(io,arguments));return next.fn.apply(next,arguments)})};IO.prototype.map=function(f){var io=this;return new IO(compose(f,io.fn))};IO.prototype.ap=function(thatIo){return this.chain(function(f){return thatIo.map(f)})};IO.runIO=function(io){return io.runIO.apply(io,[].slice.call(arguments,1))};IO.prototype.runIO=function(){return this.fn.apply(this,arguments)};IO.prototype.of=function(x){return new IO(function(){return x})};IO.of=IO.prototype.of;IO.prototype.toString=function(){return"IO("+R.toString(this.fn)+")"}},function(module,exports,__webpack_require__){var R=__webpack_require__(0);module.exports=R.curryN(3,function lift2(f,a1,a2){return a1.map(f).ap(a2)})},function(module,exports,__webpack_require__){var R=__webpack_require__(0);module.exports=R.curryN(4,function lift3(f,a1,a2,a3){return a1.map(f).ap(a2).ap(a3)})},function(module,exports,__webpack_require__){var R=__webpack_require__(0);var util=__webpack_require__(15);function Maybe(x){return x==null?_nothing:Maybe.Just(x)}Maybe.prototype["@@type"]="ramda-fantasy/Maybe";function Just(x){this.value=x}util.extend(Just,Maybe);Just.prototype.isJust=true;Just.prototype.isNothing=false;function Nothing(){}util.extend(Nothing,Maybe);Nothing.prototype.isNothing=true;Nothing.prototype.isJust=false;var _nothing=new Nothing;Maybe.Nothing=function(){return _nothing};Maybe.Just=function(x){return new Just(x)};Maybe.of=Maybe.Just;Maybe.prototype.of=Maybe.Just;Maybe.isJust=function(x){return x.isJust};Maybe.isNothing=function(x){return x.isNothing};Maybe.maybe=R.curry(function(nothingVal,justFn,m){return m.reduce(function(_,x){return justFn(x)},nothingVal)});Just.prototype.map=function(f){return this.of(f(this.value))};Nothing.prototype.map=util.returnThis;Just.prototype.ap=function(m){return m.map(this.value)};Nothing.prototype.ap=util.returnThis;Just.prototype.chain=util.baseMap;Nothing.prototype.chain=util.returnThis;Just.prototype.datatype=Just;Nothing.prototype.datatype=Nothing;Just.prototype.equals=util.getEquals(Just);Nothing.prototype.equals=function(that){return that===_nothing};Maybe.prototype.isNothing=function(){return this===_nothing};Maybe.prototype.isJust=function(){return this instanceof Just};Just.prototype.getOrElse=function(){return this.value};Nothing.prototype.getOrElse=function(a){return a};Just.prototype.reduce=function(f,x){return f(x,this.value)};Nothing.prototype.reduce=function(f,x){return x};Just.prototype.toString=function(){return"Maybe.Just("+R.toString(this.value)+")"};Nothing.prototype.toString=function(){return"Maybe.Nothing()"};module.exports=Maybe},function(module,exports,__webpack_require__){var R=__webpack_require__(0);function Tuple(x,y){switch(arguments.length){case 0:throw new TypeError("no arguments to Tuple");case 1:return function(y){return new _Tuple(x,y)};default:return new _Tuple(x,y)}}function _Tuple(x,y){this[0]=x;this[1]=y;this.length=2}function ensureConcat(xs){xs.forEach(function(x){if(typeof x.concat!="function"){throw new TypeError(R.toString(x)+" must be a semigroup to perform this operation")}})}Tuple.fst=function(x){return x[0]};Tuple.snd=function(x){return x[1]};_Tuple.prototype["@@type"]="ramda-fantasy/Tuple";_Tuple.prototype.concat=function(x){ensureConcat([this[0],this[1]]);return Tuple(this[0].concat(x[0]),this[1].concat(x[1]))};_Tuple.prototype.map=function(f){return Tuple(this[0],f(this[1]))};_Tuple.prototype.ap=function(m){ensureConcat([this[0]]);return Tuple(this[0].concat(m[0]),this[1](m[1]))};_Tuple.prototype.equals=function(that){return that instanceof _Tuple&&R.equals(this[0],that[0])&&R.equals(this[1],that[1])};_Tuple.prototype.toString=function(){return"Tuple("+R.toString(this[0])+", "+R.toString(this[1])+")"};module.exports=Tuple},function(module,exports,__webpack_require__){var R=__webpack_require__(0);function Reader(run){if(!(this instanceof Reader)){return new Reader(run)}this.run=run}Reader.run=function(reader){return reader.run.apply(reader,[].slice.call(arguments,1))};Reader.prototype["@@type"]="ramda-fantasy/Reader";Reader.prototype.chain=function(f){var reader=this;return new Reader(function(r){return f(reader.run(r)).run(r)})};Reader.prototype.ap=function(a){return this.chain(function(f){return a.map(f)})};Reader.prototype.map=function(f){return this.chain(function(a){return Reader.of(f(a))})};Reader.prototype.of=function(a){return new Reader(function(){return a})};Reader.of=Reader.prototype.of;Reader.ask=Reader(R.identity);Reader.prototype.toString=function(){return"Reader("+R.toString(this.run)+")"};Reader.T=function(M){var ReaderT=function ReaderT(run){if(!(this instanceof ReaderT)){return new ReaderT(run)}this.run=run};ReaderT.lift=R.compose(ReaderT,R.always);ReaderT.ask=ReaderT(M.of);ReaderT.prototype.of=ReaderT.of=function(a){return ReaderT(function(){return M.of(a)})};ReaderT.prototype.chain=function(f){var readerT=this;return ReaderT(function(e){var m=readerT.run(e);return m.chain(function(a){return f(a).run(e)})})};ReaderT.prototype.map=function(f){return this.chain(function(a){return ReaderT.of(f(a))})};ReaderT.prototype.ap=function(a){var readerT=this;return ReaderT(function(e){return readerT.run(e).ap(a.run(e))})};ReaderT.prototype.equals=function(that){return this===that||this.run===that.run||R.equals(this.run().get(),that.run().get())};ReaderT.prototype.toString=function(){return"ReaderT["+M.name+"]("+R.toString(this.run)+")"};return ReaderT};module.exports=Reader},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=readNumericLiteral;var _readtable=__webpack_require__(5);var _esutils=__webpack_require__(7);var _utils=__webpack_require__(6);var _tokens=__webpack_require__(3);const{isIdentifierPartES6:isIdentifierPart,isIdentifierStartES6:isIdentifierStart}=_esutils.code;let terminates;function readNumericLiteral(stream){terminates=(0,_utils.isTerminating)((0,_readtable.getCurrentReadtable)());let idx=0,char=stream.peek();if(char==="0"){char=stream.peek(++idx);if(!(0,_readtable.isEOS)(char)){char=char.toLowerCase();switch(char){case"x":return readHexLiteral.call(this,stream);case"b":return readBinaryLiteral.call(this,stream);case"o":return readOctalLiteral.call(this,stream);default:if(isDecimalChar(char)){return readLegacyOctalLiteral.call(this,stream)}}}else{return new _tokens.NumericToken({value:+stream.readString()})}}else if(char!=="."){while(!terminates(char)&&isDecimalChar(char)){char=stream.peek(++idx)}if((0,_readtable.isEOS)(char)){return new _tokens.NumericToken({value:+stream.readString(idx)})}}idx=addDecimalLiteralSuffixLength.call(this,stream,idx);char=stream.peek(idx);if(!(0,_readtable.isEOS)(char)&&!terminates(char)&&isIdentifierStart(char)){throw this.createILLEGAL(char)}return new _tokens.NumericToken({value:+stream.readString(idx)})}function addDecimalLiteralSuffixLength(stream,idx){let char=stream.peek(idx);if(char==="."){char=stream.peek(++idx);if((0,_readtable.isEOS)(char))return idx;while(isDecimalChar(char)){char=stream.peek(++idx);if(terminates(char)||(0,_readtable.isEOS)(char))return idx}}if(char.toLowerCase()==="e"){char=stream.peek(++idx);if((0,_readtable.isEOS)(char))throw this.createILLEGAL(char);if(char==="+"||char==="-"){char=stream.peek(++idx);if((0,_readtable.isEOS)(char))throw this.createILLEGAL(char)}while(isDecimalChar(char)){char=stream.peek(++idx);if(terminates(char)||(0,_readtable.isEOS)(char))break}}return idx}function readLegacyOctalLiteral(stream){let idx=0,isOctal=true,char=stream.peek();while(!terminates(char)&&!(0,_readtable.isEOS)(char)){if("0"<=char&&char<="7"){idx++}else if(char==="8"||char==="9"){isOctal=false;idx++}else if(isIdentifierPart(char.charCodeAt(0))){throw this.createILLEGAL(char)}else{break}char=stream.peek(idx)}if(!isOctal)return new _tokens.NumericToken({value:parseNumeric(stream,idx,10),octal:true,noctal:!isOctal});return new _tokens.NumericToken({value:parseNumeric(stream,idx,8),octal:true,noctal:!isOctal})}function readOctalLiteral(stream){let start,idx=start=2,char=stream.peek(idx);while(!terminates(char)&&!(0,_readtable.isEOS)(char)){if("0"<=char&&char<="7"){char=stream.peek(++idx)}else if(isIdentifierPart(char.charCodeAt(0))){throw this.createILLEGAL(char)}else{break}}if(idx===start){throw this.createILLEGAL(char)}return new _tokens.NumericToken({value:parseNumeric(stream,idx,8,start)})}function readBinaryLiteral(stream){let start,idx=start=2;let char=stream.peek(idx);while(!terminates(char)&&!(0,_readtable.isEOS)(char)){if(char!=="0"&&char!=="1"){break}char=stream.peek(idx);idx++}if(idx===start){throw this.createILLEGAL(char)}if(!(0,_readtable.isEOS)(char)&&!terminates(char)&&(isIdentifierStart(char)||isDecimalChar(char))){throw this.createILLEGAL(char)}return new _tokens.NumericToken({value:parseNumeric(stream,idx,2,start)})}function readHexLiteral(stream){let start,idx=start=2,char=stream.peek(idx);while(!terminates(char)){let hex=(0,_utils.getHexValue)(char);if(hex===-1){break}char=stream.peek(++idx)}if(idx===start){throw this.createILLEGAL(char)}if(!(0,_readtable.isEOS)(char)&&!terminates(char)&&isIdentifierStart(char)){throw this.createILLEGAL(char)}return new _tokens.NumericToken({value:parseNumeric(stream,idx,16,start)})}function parseNumeric(stream,len,radix,start=0){stream.readString(start);return parseInt(stream.readString(len-start),radix)}function isDecimalChar(char){return"0"<=char&&char<="9"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=readStringLiteral;var _utils=__webpack_require__(6);var _readtable=__webpack_require__(5);var _tokens=__webpack_require__(3);function readStringLiteral(stream){let str="",octal=null,idx=0,quote=stream.readString(),char=stream.peek(),lineStart;while(!(0,_readtable.isEOS)(char)){if(char===quote){stream.readString(++idx);if(lineStart!=null)this.locationInfo.column+=idx-lineStart;return new _tokens.StringToken({str:str,octal:octal})}else if(char==="\\"){[str,idx,octal,lineStart]=_utils.readStringEscape.call(this,str,stream,idx,octal)}else if((0,_utils.isLineTerminator)(char.charCodeAt(0))){throw this.createILLEGAL(char)}else{++idx;str+=char}char=stream.peek(idx)}throw this.createILLEGAL(char)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=readTemplateLiteral;var _immutable=__webpack_require__(1);var _readtable=__webpack_require__(5);var _utils=__webpack_require__(6);var _tokenReader=__webpack_require__(29);var _tokens=__webpack_require__(3);function readTemplateLiteral(stream,prefix){let element,items=[];stream.readString();do{element=readTemplateElement.call(this,stream);items.push(element);if(element.interp){element=this.readToken(stream,(0,_immutable.List)(),false);items.push(element)}}while(!element.tail);return new _tokens.TemplateToken({items:(0,_immutable.List)(items)})}function readTemplateElement(stream){let char=stream.peek(),idx=0,value="",octal=null;const startLocation=Object.assign({},this.locationInfo,stream.sourceInfo);while(!(0,_readtable.isEOS)(char)){switch(char){case"`":{stream.readString(idx);const slice=(0,_tokenReader.getSlice)(stream,startLocation);stream.readString();return new _tokens.TemplateElementToken({tail:true,interp:false,value:value,slice:slice})}case"$":{if(stream.peek(idx+1)==="{"){stream.readString(idx);const slice=(0,_tokenReader.getSlice)(stream,startLocation);stream.readString();return new _tokens.TemplateElementToken({tail:false,interp:true,value:value,slice:slice})}break}case"\\":{let newVal;[newVal,idx,octal]=_utils.readStringEscape.call(this,"",stream,idx,octal);if(octal!=null)throw this.createILLEGAL(octal);value+=newVal;--idx;break}default:{value+=char}}char=stream.peek(++idx)}throw this.createILLEGAL(char)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=readRegExp;var _readtable=__webpack_require__(5);var _tokens=__webpack_require__(3);var _utils=__webpack_require__(6);function readRegExp(stream){let value=stream.readString(),char=stream.peek(),idx=0,classMarker=false,terminated=false;const UNTERMINATED_REGEXP_MSG="Invalid regular expression: missing /";while(!(0,_readtable.isEOS)(char)){if(char==="\\"){value+=char;++idx;char=stream.peek(idx);if((0,_utils.isLineTerminator)(char.charCodeAt(0))){throw this.createError(UNTERMINATED_REGEXP_MSG)}value+=char;++idx}else if((0,_utils.isLineTerminator)(char.charCodeAt(0))){throw this.createError(UNTERMINATED_REGEXP_MSG)}else{if(classMarker){if(char==="]"){classMarker=false}}else{if(char==="/"){terminated=true;value+=char;++idx;char=stream.peek(idx);break}else if(char==="["){classMarker=true}}value+=char;++idx}char=stream.peek(idx)}if(!terminated){throw this.createError(UNTERMINATED_REGEXP_MSG)}while(!(0,_readtable.isEOS)(char)){if(char==="\\"){throw this.createError("Invalid regular expression flags")}if(!(0,_utils.isIdentifierPart)(char.charCodeAt(0))){break}value+=char;++idx;char=stream.peek(idx)}stream.readString(idx);return new _tokens.RegExpToken({value:value})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=readComment;var _readtable=__webpack_require__(5);var _utils=__webpack_require__(6);var _tokens=__webpack_require__(3);function readComment(stream){let char=stream.peek();while(!(0,_readtable.isEOS)(char)){let chCode=char.charCodeAt(0);if(chCode===47){const nxt=stream.peek(1);if((0,_readtable.isEOS)(nxt)){break}chCode=nxt.charCodeAt(0);if(chCode===47){_utils.skipSingleLineComment.call(this,stream)}else if(chCode===42){skipMultiLineComment.call(this,stream)}else{break}}else{break}char=stream.peek()}return _tokens.EmptyToken}function skipMultiLineComment(stream){let idx=2;let char=stream.peek(idx);const{position:startPosition}=stream.sourceInfo;let lineStart;while(!(0,_readtable.isEOS)(char)){let chCode=char.charCodeAt(0);if(chCode<128){switch(chCode){case 42:if(stream.peek(idx+1).charAt(0)==="/"){stream.readString(idx+2);if(lineStart)this.locationInfo.column=stream.sourceInfo.position-lineStart;return}++idx;break;case 10:this.incrementLine();lineStart=startPosition+idx;++idx;break;case 13:{let startIdx=idx;if(stream.peek(idx+1).charAt(0)==="\n"){++idx}++idx;this.incrementLine();lineStart=startPosition+startIdx;break}default:++idx}}else if(chCode===8232||chCode===8233){this.incrementLine();lineStart=startPosition+idx;++idx}else{++idx}char=stream.peek(idx)}throw this.createILLEGAL(char)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.readSyntaxTemplate=readSyntaxTemplate;var _readtable=__webpack_require__(5);var _immutable=__webpack_require__(1);var _tokens=__webpack_require__(3);const backtickEntry={key:"`",mode:"terminating",action:function readBacktick(stream,prefix,e){if(prefix.isEmpty()){return{type:_tokens.TokenType.LSYNTAX,value:stream.readString()}}return{type:_tokens.TokenType.RSYNTAX,value:stream.readString()}}};function readSyntaxTemplate(stream,prefix,exprAllowed,dispatchChar){const prevTable=(0,_readtable.getCurrentReadtable)();(0,_readtable.setCurrentReadtable)(prevTable.extend(backtickEntry));const result=this.readUntil("`",stream,_immutable.List.of(updateSyntax(dispatchChar,this.readToken(stream,(0,_immutable.List)(),exprAllowed))),exprAllowed);(0,_readtable.setCurrentReadtable)(prevTable);return result}function updateSyntax(prefix,token){token.value=prefix+token.value;token.slice.text=prefix+token.slice.text;token.slice.start-=1;token.slice.startLocation.position-=1;return token}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=codegen;var _shiftCodegen=__webpack_require__(18);var _shiftCodegen2=_interopRequireDefault(_shiftCodegen);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function codegen(modTerm){return{code:(0,_shiftCodegen2.default)(modTerm,new _shiftCodegen.FormattedCodeGen)}}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _objectAssign=__webpack_require__(34);var _objectAssign2=_interopRequireDefault(_objectAssign);var _esutils=__webpack_require__(7);var _coderep=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function p(node,precedence,a){return(0,_coderep.getPrecedence)(node)<precedence?paren(a):a}function t(token){return new _coderep.Token(token)}function paren(rep){return new _coderep.Paren(rep)}function brace(rep){return new _coderep.Brace(rep)}function bracket(rep){return new _coderep.Bracket(rep)}function noIn(rep){return new _coderep.NoIn(rep)}function markContainsIn(state){return state.containsIn?new _coderep.ContainsIn(state):state}function seq(){for(var _len=arguments.length,reps=Array(_len),_key=0;_key<_len;_key++){reps[_key]=arguments[_key]}return new _coderep.Seq(reps)}function semi(){return new _coderep.Semi}function semiOp(){return new _coderep.SemiOp}function empty(){return new _coderep.Empty}function commaSep(pieces){return new _coderep.CommaSep(pieces)}function getAssignmentExpr(state){return state?state.containsGroup?paren(state):state:empty()}var MinimalCodeGen=function(){function MinimalCodeGen(){_classCallCheck(this,MinimalCodeGen)}_createClass(MinimalCodeGen,[{key:"parenToAvoidBeingDirective",value:function parenToAvoidBeingDirective(element,original){if(element&&element.type==="ExpressionStatement"&&element.expression.type==="LiteralStringExpression"){return seq(paren(original.children[0]),semiOp())}return original}},{key:"reduceArrayExpression",value:function reduceArrayExpression(node,_ref){var elements=_ref.elements;if(elements.length===0){return bracket(empty())}var content=commaSep(elements.map(getAssignmentExpr));if(elements.length>0&&elements[elements.length-1]==null){content=seq(content,t(","))}return bracket(content)}},{key:"reduceSpreadElement",value:function reduceSpreadElement(node,_ref2){var expression=_ref2.expression;return seq(t("..."),p(node.expression,_coderep.Precedence.Assignment,expression))}},{key:"reduceAssignmentExpression",value:function reduceAssignmentExpression(node,_ref3){var binding=_ref3.binding;var expression=_ref3.expression;var leftCode=binding;var rightCode=expression;var containsIn=expression.containsIn;var startsWithCurly=binding.startsWithCurly;var startsWithLetSquareBracket=binding.startsWithLetSquareBracket;var startsWithFunctionOrClass=binding.startsWithFunctionOrClass;if((0,_coderep.getPrecedence)(node.expression)<(0,_coderep.getPrecedence)(node)){rightCode=paren(rightCode);containsIn=false}return(0,_objectAssign2.default)(seq(leftCode,t("="),rightCode),{containsIn:containsIn,startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceCompoundAssignmentExpression",value:function reduceCompoundAssignmentExpression(node,_ref4){var binding=_ref4.binding;var expression=_ref4.expression;var leftCode=binding;var rightCode=expression;var containsIn=expression.containsIn;var startsWithCurly=binding.startsWithCurly;var startsWithLetSquareBracket=binding.startsWithLetSquareBracket;var startsWithFunctionOrClass=binding.startsWithFunctionOrClass;if((0,_coderep.getPrecedence)(node.expression)<(0,_coderep.getPrecedence)(node)){rightCode=paren(rightCode);containsIn=false}return(0,_objectAssign2.default)(seq(leftCode,t(node.operator),rightCode),{containsIn:containsIn,startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceBinaryExpression",value:function reduceBinaryExpression(node,_ref5){var left=_ref5.left;var right=_ref5.right;var leftCode=left;var startsWithCurly=left.startsWithCurly;var startsWithLetSquareBracket=left.startsWithLetSquareBracket;var startsWithFunctionOrClass=left.startsWithFunctionOrClass;var leftContainsIn=left.containsIn;if((0,_coderep.getPrecedence)(node.left)<(0,_coderep.getPrecedence)(node)){leftCode=paren(leftCode);startsWithCurly=false;startsWithLetSquareBracket=false;startsWithFunctionOrClass=false;leftContainsIn=false}var rightCode=right;var rightContainsIn=right.containsIn;if((0,_coderep.getPrecedence)(node.right)<=(0,_coderep.getPrecedence)(node)){rightCode=paren(rightCode);rightContainsIn=false}return(0,_objectAssign2.default)(seq(leftCode,t(node.operator),rightCode),{containsIn:leftContainsIn||rightContainsIn||node.operator==="in",containsGroup:node.operator==",",startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceBindingWithDefault",value:function reduceBindingWithDefault(node,_ref6){var binding=_ref6.binding;var init=_ref6.init;return seq(binding,t("="),init)}},{key:"reduceBindingIdentifier",value:function reduceBindingIdentifier(node){var a=t(node.name);if(node.name==="let"){a.startsWithLet=true}return a}},{key:"reduceArrayBinding",value:function reduceArrayBinding(node,_ref7){var elements=_ref7.elements;var restElement=_ref7.restElement;var content=undefined;if(elements.length===0){content=restElement==null?empty():seq(t("..."),restElement)}else{elements=elements.concat(restElement==null?[]:[seq(t("..."),restElement)]);content=commaSep(elements.map(getAssignmentExpr));if(elements.length>0&&elements[elements.length-1]==null){content=seq(content,t(","))}}return bracket(content)}},{key:"reduceObjectBinding",value:function reduceObjectBinding(node,_ref8){var properties=_ref8.properties;var state=brace(commaSep(properties));state.startsWithCurly=true;return state}},{key:"reduceBindingPropertyIdentifier",value:function reduceBindingPropertyIdentifier(node,_ref9){var binding=_ref9.binding;var init=_ref9.init;if(node.init==null)return binding;return seq(binding,t("="),init)}},{key:"reduceBindingPropertyProperty",value:function reduceBindingPropertyProperty(node,_ref10){var name=_ref10.name;var binding=_ref10.binding;return seq(name,t(":"),binding)}},{key:"reduceBlock",value:function reduceBlock(node,_ref11){var statements=_ref11.statements;return brace(seq.apply(undefined,_toConsumableArray(statements)))}},{key:"reduceBlockStatement",value:function reduceBlockStatement(node,_ref12){var block=_ref12.block;return block}},{key:"reduceBreakStatement",value:function reduceBreakStatement(node,_ref13){var label=_ref13.label;return seq(t("break"),label?t(label):empty(),semiOp())}},{key:"reduceCallExpression",value:function reduceCallExpression(node,_ref14){var callee=_ref14.callee;var args=_ref14.arguments;return(0,_objectAssign2.default)(seq(p(node.callee,(0,_coderep.getPrecedence)(node),callee),paren(commaSep(args))),{startsWithCurly:callee.startsWithCurly,startsWithLetSquareBracket:callee.startsWithLetSquareBracket,startsWithFunctionOrClass:callee.startsWithFunctionOrClass})}},{key:"reduceCatchClause",value:function reduceCatchClause(node,_ref15){var binding=_ref15.binding;var body=_ref15.body;return seq(t("catch"),paren(binding),body)}},{key:"reduceClassDeclaration",value:function reduceClassDeclaration(node,_ref16){var name=_ref16.name;var _super=_ref16.super;var elements=_ref16.elements;var state=seq(t("class"),name);if(_super!=null){state=seq(state,t("extends"),_super)}state=seq.apply(undefined,[state,t("{")].concat(_toConsumableArray(elements),[t("}")]));return state}},{key:"reduceClassExpression",value:function reduceClassExpression(node,_ref17){var name=_ref17.name;var _super=_ref17.super;var elements=_ref17.elements;var state=t("class");if(name!=null){state=seq(state,name)}if(_super!=null){state=seq(state,t("extends"),_super)}state=seq.apply(undefined,[state,t("{")].concat(_toConsumableArray(elements),[t("}")]));state.startsWithFunctionOrClass=true;return state}},{key:"reduceClassElement",value:function reduceClassElement(node,_ref18){var method=_ref18.method;if(!node.isStatic)return method;return seq(t("static"),method)}},{key:"reduceComputedMemberExpression",value:function reduceComputedMemberExpression(node,_ref19){var object=_ref19.object;var expression=_ref19.expression;var startsWithLetSquareBracket=object.startsWithLetSquareBracket||node.object.type==="IdentifierExpression"&&node.object.name==="let";return(0,_objectAssign2.default)(seq(p(node.object,(0,_coderep.getPrecedence)(node),object),bracket(expression)),{startsWithLet:object.startsWithLet,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithCurly:object.startsWithCurly,startsWithFunctionOrClass:object.startsWithFunctionOrClass})}},{key:"reduceComputedPropertyName",value:function reduceComputedPropertyName(node,_ref20){var expression=_ref20.expression;return bracket(expression)}},{key:"reduceConditionalExpression",value:function reduceConditionalExpression(node,_ref21){var test=_ref21.test;var consequent=_ref21.consequent;var alternate=_ref21.alternate;var containsIn=test.containsIn||alternate.containsIn;var startsWithCurly=test.startsWithCurly;var startsWithLetSquareBracket=test.startsWithLetSquareBracket;var startsWithFunctionOrClass=test.startsWithFunctionOrClass;return(0,_objectAssign2.default)(seq(p(node.test,_coderep.Precedence.LogicalOR,test),t("?"),p(node.consequent,_coderep.Precedence.Assignment,consequent),t(":"),p(node.alternate,_coderep.Precedence.Assignment,alternate)),{containsIn:containsIn,startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceContinueStatement",value:function reduceContinueStatement(node,_ref22){var label=_ref22.label;return seq(t("continue"),label?t(label):empty(),semiOp())}},{key:"reduceDataProperty",value:function reduceDataProperty(node,_ref23){var name=_ref23.name;var expression=_ref23.expression;return seq(name,t(":"),getAssignmentExpr(expression))}},{key:"reduceDebuggerStatement",value:function reduceDebuggerStatement(node){return seq(t("debugger"),semiOp())}},{key:"reduceDoWhileStatement",value:function reduceDoWhileStatement(node,_ref24){var body=_ref24.body;var test=_ref24.test;return seq(t("do"),body,t("while"),paren(test),semiOp())}},{key:"reduceEmptyStatement",value:function reduceEmptyStatement(node){return semi()}},{key:"reduceExpressionStatement",value:function reduceExpressionStatement(node,_ref25){var expression=_ref25.expression;var needsParens=expression.startsWithCurly||expression.startsWithLetSquareBracket||expression.startsWithFunctionOrClass;return seq(needsParens?paren(expression):expression,semiOp())}},{key:"reduceForInStatement",value:function reduceForInStatement(node,_ref26){var left=_ref26.left;var right=_ref26.right;var body=_ref26.body;var leftP=left;switch(node.left.type){case"VariableDeclaration":leftP=noIn(markContainsIn(left));break;case"BindingIdentifier":if(node.left.name==="let"){leftP=paren(left)}break}return(0,_objectAssign2.default)(seq(t("for"),paren(seq(leftP,t("in"),right)),body),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceForOfStatement",value:function reduceForOfStatement(node,_ref27){var left=_ref27.left;var right=_ref27.right;var body=_ref27.body;left=node.left.type==="VariableDeclaration"?noIn(markContainsIn(left)):left;return(0,_objectAssign2.default)(seq(t("for"),paren(seq(left.startsWithLet?paren(left):left,t("of"),right)),body),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceForStatement",value:function reduceForStatement(node,_ref28){var init=_ref28.init;var test=_ref28.test;var update=_ref28.update;var body=_ref28.body;return(0,_objectAssign2.default)(seq(t("for"),paren(seq(init?noIn(markContainsIn(init)):empty(),semi(),test||empty(),semi(),update||empty())),body),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceFunctionBody",value:function reduceFunctionBody(node,_ref29){var directives=_ref29.directives;var statements=_ref29.statements;if(statements.length){statements[0]=this.parenToAvoidBeingDirective(node.statements[0],statements[0])}return seq.apply(undefined,_toConsumableArray(directives).concat(_toConsumableArray(statements)))}},{key:"reduceFunctionDeclaration",value:function reduceFunctionDeclaration(node,_ref30){var name=_ref30.name;var params=_ref30.params;var body=_ref30.body;return seq(t("function"),node.isGenerator?t("*"):empty(),node.name.name==="*default*"?empty():name,paren(params),brace(body))}},{key:"reduceFunctionExpression",value:function reduceFunctionExpression(node,_ref31){var name=_ref31.name;var params=_ref31.params;var body=_ref31.body;var state=seq(t("function"),node.isGenerator?t("*"):empty(),name?name:empty(),paren(params),brace(body));state.startsWithFunctionOrClass=true;return state}},{key:"reduceFormalParameters",value:function reduceFormalParameters(node,_ref32){var items=_ref32.items;var rest=_ref32.rest;return commaSep(items.concat(rest==null?[]:[seq(t("..."),rest)]))}},{key:"reduceArrowExpression",value:function reduceArrowExpression(node,_ref33){var params=_ref33.params;var body=_ref33.body;if(node.params.rest!=null||node.params.items.length!==1||node.params.items[0].type!=="BindingIdentifier"){params=paren(params)}if(node.body.type==="FunctionBody"){body=brace(body)}else if(body.startsWithCurly){body=paren(body)}return seq(params,t("=>"),p(node.body,_coderep.Precedence.Assignment,body))}},{key:"reduceGetter",value:function reduceGetter(node,_ref34){var name=_ref34.name;var body=_ref34.body;return seq(t("get"),name,paren(empty()),brace(body))}},{key:"reduceIdentifierExpression",value:function reduceIdentifierExpression(node){var a=t(node.name);if(node.name==="let"){a.startsWithLet=true}return a}},{key:"reduceIfStatement",value:function reduceIfStatement(node,_ref35){var test=_ref35.test;var consequent=_ref35.consequent;var alternate=_ref35.alternate;if(alternate&&consequent.endsWithMissingElse){consequent=brace(consequent)}return(0,_objectAssign2.default)(seq(t("if"),paren(test),consequent,alternate?seq(t("else"),alternate):empty()),{endsWithMissingElse:alternate?alternate.endsWithMissingElse:true})}},{key:"reduceImport",value:function reduceImport(node,_ref36){var defaultBinding=_ref36.defaultBinding;var namedImports=_ref36.namedImports;var bindings=[];if(defaultBinding!=null){bindings.push(defaultBinding)}if(namedImports.length>0){bindings.push(brace(commaSep(namedImports)))}if(bindings.length===0){return seq(t("import"),t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),semiOp())}return seq(t("import"),commaSep(bindings),t("from"),t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),semiOp())}},{key:"reduceImportNamespace",value:function reduceImportNamespace(node,_ref37){var defaultBinding=_ref37.defaultBinding;var namespaceBinding=_ref37.namespaceBinding;return seq(t("import"),defaultBinding==null?empty():seq(defaultBinding,t(",")),t("*"),t("as"),namespaceBinding,t("from"),t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),semiOp())}},{key:"reduceImportSpecifier",value:function reduceImportSpecifier(node,_ref38){var binding=_ref38.binding;if(node.name==null)return binding;return seq(t(node.name),t("as"),binding)}},{key:"reduceExportAllFrom",value:function reduceExportAllFrom(node){return seq(t("export"),t("*"),t("from"),t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),semiOp())}},{key:"reduceExportFrom",value:function reduceExportFrom(node,_ref39){var namedExports=_ref39.namedExports;return seq(t("export"),brace(commaSep(namedExports)),node.moduleSpecifier==null?empty():seq(t("from"),t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),semiOp()))}},{key:"reduceExport",value:function reduceExport(node,_ref40){var declaration=_ref40.declaration;switch(node.declaration.type){case"FunctionDeclaration":case"ClassDeclaration":break;default:declaration=seq(declaration,semiOp())}return seq(t("export"),declaration)}},{key:"reduceExportDefault",value:function reduceExportDefault(node,_ref41){var body=_ref41.body;body=body.startsWithFunctionOrClass?paren(body):body;switch(node.body.type){case"FunctionDeclaration":case"ClassDeclaration":break;default:body=seq(body,semiOp())}return seq(t("export default"),body)}},{key:"reduceExportSpecifier",value:function reduceExportSpecifier(node){if(node.name==null)return t(node.exportedName);return seq(t(node.name),t("as"),t(node.exportedName))}},{key:"reduceLabeledStatement",value:function reduceLabeledStatement(node,_ref42){var label=_ref42.label;var body=_ref42.body;return(0,_objectAssign2.default)(seq(t(label+":"),body),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceLiteralBooleanExpression",value:function reduceLiteralBooleanExpression(node){return t(node.value.toString())}},{key:"reduceLiteralNullExpression",value:function reduceLiteralNullExpression(node){return t("null")}},{key:"reduceLiteralInfinityExpression",value:function reduceLiteralInfinityExpression(node){return t("2e308")}},{key:"reduceLiteralNumericExpression",value:function reduceLiteralNumericExpression(node){return new _coderep.NumberCodeRep(node.value)}},{key:"reduceLiteralRegExpExpression",value:function reduceLiteralRegExpExpression(node){return t("/"+node.pattern+"/"+node.flags)}},{key:"reduceLiteralStringExpression",value:function reduceLiteralStringExpression(node){return t((0,_coderep.escapeStringLiteral)(node.value))}},{key:"reduceMethod",value:function reduceMethod(node,_ref43){var name=_ref43.name;var params=_ref43.params;var body=_ref43.body;return seq(node.isGenerator?t("*"):empty(),name,paren(params),brace(body))}},{key:"reduceModule",value:function reduceModule(node,_ref44){var directives=_ref44.directives;var items=_ref44.items;if(items.length){items[0]=this.parenToAvoidBeingDirective(node.items[0],items[0])}return seq.apply(undefined,_toConsumableArray(directives).concat(_toConsumableArray(items)))}},{key:"reduceNewExpression",value:function reduceNewExpression(node,_ref45){var callee=_ref45.callee;var args=_ref45.arguments;var calleeRep=(0,_coderep.getPrecedence)(node.callee)==_coderep.Precedence.Call?paren(callee):p(node.callee,(0,_coderep.getPrecedence)(node),callee);return seq(t("new"),calleeRep,args.length===0?empty():paren(commaSep(args)))}},{key:"reduceNewTargetExpression",value:function reduceNewTargetExpression(){return t("new.target")}},{key:"reduceObjectExpression",value:function reduceObjectExpression(node,_ref46){var properties=_ref46.properties;var state=brace(commaSep(properties));state.startsWithCurly=true;return state}},{key:"reduceUpdateExpression",value:function reduceUpdateExpression(node,_ref47){var operand=_ref47.operand;if(node.isPrefix){return this.reduceUnaryExpression.apply(this,arguments)}else{return(0,_objectAssign2.default)(seq(p(node.operand,_coderep.Precedence.New,operand),t(node.operator)),{startsWithCurly:operand.startsWithCurly,startsWithLetSquareBracket:operand.startsWithLetSquareBracket,startsWithFunctionOrClass:operand.startsWithFunctionOrClass})}}},{key:"reduceUnaryExpression",value:function reduceUnaryExpression(node,_ref48){var operand=_ref48.operand;return seq(t(node.operator),p(node.operand,(0,_coderep.getPrecedence)(node),operand))}},{key:"reduceReturnStatement",value:function reduceReturnStatement(node,_ref49){var expression=_ref49.expression;return seq(t("return"),expression||empty(),semiOp())}},{key:"reduceScript",value:function reduceScript(node,_ref50){var directives=_ref50.directives;var statements=_ref50.statements;if(statements.length){statements[0]=this.parenToAvoidBeingDirective(node.statements[0],statements[0])}return seq.apply(undefined,_toConsumableArray(directives).concat(_toConsumableArray(statements)))}},{key:"reduceSetter",value:function reduceSetter(node,_ref51){var name=_ref51.name;var param=_ref51.param;var body=_ref51.body;return seq(t("set"),name,paren(param),brace(body))}},{key:"reduceShorthandProperty",value:function reduceShorthandProperty(node){return t(node.name)}},{key:"reduceStaticMemberExpression",value:function reduceStaticMemberExpression(node,_ref52){var object=_ref52.object;var property=_ref52.property;var state=seq(p(node.object,(0,_coderep.getPrecedence)(node),object),t("."),t(property));state.startsWithLet=object.startsWithLet;state.startsWithCurly=object.startsWithCurly;state.startsWithLetSquareBracket=object.startsWithLetSquareBracket;state.startsWithFunctionOrClass=object.startsWithFunctionOrClass;return state}},{key:"reduceStaticPropertyName",value:function reduceStaticPropertyName(node){var n;if(_esutils.keyword.isIdentifierNameES6(node.value)){return t(node.value)}else if(n=parseFloat(node.value),n===n){return new _coderep.NumberCodeRep(n)}return t((0,_coderep.escapeStringLiteral)(node.value))}},{key:"reduceSuper",value:function reduceSuper(){return t("super")}},{key:"reduceSwitchCase",value:function reduceSwitchCase(node,_ref53){var test=_ref53.test;var consequent=_ref53.consequent;return seq(t("case"),test,t(":"),seq.apply(undefined,_toConsumableArray(consequent)))}},{key:"reduceSwitchDefault",value:function reduceSwitchDefault(node,_ref54){var consequent=_ref54.consequent;return seq(t("default:"),seq.apply(undefined,_toConsumableArray(consequent)))}},{key:"reduceSwitchStatement",value:function reduceSwitchStatement(node,_ref55){var discriminant=_ref55.discriminant;var cases=_ref55.cases;return seq(t("switch"),paren(discriminant),brace(seq.apply(undefined,_toConsumableArray(cases))))}},{key:"reduceSwitchStatementWithDefault",value:function reduceSwitchStatementWithDefault(node,_ref56){var discriminant=_ref56.discriminant;var preDefaultCases=_ref56.preDefaultCases;var defaultCase=_ref56.defaultCase;var postDefaultCases=_ref56.postDefaultCases;return seq(t("switch"),paren(discriminant),brace(seq.apply(undefined,_toConsumableArray(preDefaultCases).concat([defaultCase],_toConsumableArray(postDefaultCases)))))}},{key:"reduceTemplateExpression",value:function reduceTemplateExpression(node,_ref57){var tag=_ref57.tag;var elements=_ref57.elements;var state=node.tag==null?empty():p(node.tag,(0,_coderep.getPrecedence)(node),tag);var templateData="";state=seq(state,t("`"));for(var i=0,l=node.elements.length;i<l;++i){if(node.elements[i].type==="TemplateElement"){var d="";if(i>0)d+="}";d+=node.elements[i].rawValue;if(i<l-1)d+="${";state=seq(state,t(d))}else{state=seq(state,elements[i])}}state=seq(state,t("`"));if(node.tag!=null){state.startsWithCurly=tag.startsWithCurly;state.startsWithLetSquareBracket=tag.startsWithLetSquareBracket;state.startsWithFunctionOrClass=tag.startsWithFunctionOrClass}return state}},{key:"reduceTemplateElement",value:function reduceTemplateElement(node){return t(node.rawValue)}},{key:"reduceThisExpression",value:function reduceThisExpression(node){return t("this")}},{key:"reduceThrowStatement",value:function reduceThrowStatement(node,_ref58){var expression=_ref58.expression;return seq(t("throw"),expression,semiOp())}},{key:"reduceTryCatchStatement",value:function reduceTryCatchStatement(node,_ref59){var body=_ref59.body;var catchClause=_ref59.catchClause;return seq(t("try"),body,catchClause)}},{key:"reduceTryFinallyStatement",value:function reduceTryFinallyStatement(node,_ref60){var body=_ref60.body;var catchClause=_ref60.catchClause;var finalizer=_ref60.finalizer;return seq(t("try"),body,catchClause||empty(),t("finally"),finalizer)}},{key:"reduceYieldExpression",value:function reduceYieldExpression(node,_ref61){var expression=_ref61.expression;if(node.expression==null)return t("yield");return seq(t("yield"),p(node.expression,(0,_coderep.getPrecedence)(node),expression))}},{key:"reduceYieldGeneratorExpression",value:function reduceYieldGeneratorExpression(node,_ref62){var expression=_ref62.expression;return seq(t("yield"),t("*"),p(node.expression,(0,_coderep.getPrecedence)(node),expression))}},{key:"reduceDirective",value:function reduceDirective(node){var delim=/^(?:[^"\\]|\\.)*$/.test(node.rawValue)?'"':"'";return seq(t(delim+node.rawValue+delim),semiOp())}},{key:"reduceVariableDeclaration",value:function reduceVariableDeclaration(node,_ref63){var declarators=_ref63.declarators;return seq(t(node.kind),commaSep(declarators))}},{key:"reduceVariableDeclarationStatement",value:function reduceVariableDeclarationStatement(node,_ref64){var declaration=_ref64.declaration;return seq(declaration,semiOp())}},{key:"reduceVariableDeclarator",value:function reduceVariableDeclarator(node,_ref65){var binding=_ref65.binding;var init=_ref65.init;var containsIn=init&&init.containsIn&&!init.containsGroup;if(init){if(init.containsGroup){init=paren(init)}else{init=markContainsIn(init)}}return(0,_objectAssign2.default)(init==null?binding:seq(binding,t("="),init),{containsIn:containsIn})}},{key:"reduceWhileStatement",value:function reduceWhileStatement(node,_ref66){var test=_ref66.test;var body=_ref66.body;return(0,_objectAssign2.default)(seq(t("while"),paren(test),body),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceWithStatement",value:function reduceWithStatement(node,_ref67){var object=_ref67.object;var body=_ref67.body;return(0,_objectAssign2.default)(seq(t("with"),paren(object),body),{endsWithMissingElse:body.endsWithMissingElse})}}]);return MinimalCodeGen}();exports.default=MinimalCodeGen},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedCodeGen=exports.ExtensibleCodeGen=exports.Sep=undefined;var _objectAssign=__webpack_require__(34);var _objectAssign2=_interopRequireDefault(_objectAssign);var _esutils=__webpack_require__(7);var _coderep=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function empty(){return new _coderep.Empty}function noIn(rep){return new _coderep.NoIn(rep)}function markContainsIn(state){return state.containsIn?new _coderep.ContainsIn(state):state}function seq(){for(var _len=arguments.length,reps=Array(_len),_key=0;_key<_len;_key++){reps[_key]=arguments[_key]}return new _coderep.Seq(reps)}function isEmpty(codeRep){return codeRep instanceof _coderep.Empty||codeRep instanceof Linebreak||codeRep instanceof _coderep.Seq&&codeRep.children.every(isEmpty)}var Sep={};var separatorNames=["ARRAY_EMPTY","ARRAY_BEFORE_COMMA","ARRAY_AFTER_COMMA","SPREAD","BEFORE_DEFAULT_EQUALS","AFTER_DEFAULT_EQUALS","REST","OBJECT_BEFORE_COMMA","OBJECT_AFTER_COMMA","BEFORE_PROP","AFTER_PROP","BEFORE_JUMP_LABEL","ARGS_BEFORE_COMMA","ARGS_AFTER_COMMA","CALL","BEFORE_CATCH_BINDING","AFTER_CATCH_BINDING","BEFORE_CLASS_NAME","BEFORE_EXTENDS","AFTER_EXTENDS","BEFORE_CLASS_DECLARATION_ELEMENTS","BEFORE_CLASS_EXPRESSION_ELEMENTS","AFTER_STATIC","BEFORE_CLASS_ELEMENT","AFTER_CLASS_ELEMENT","BEFORE_TERNARY_QUESTION","AFTER_TERNARY_QUESTION","BEFORE_TERNARY_COLON","AFTER_TERNARY_COLON","COMPUTED_MEMBER_EXPRESSION","AFTER_DO","BEFORE_DOWHILE_WHILE","AFTER_DOWHILE_WHILE","AFTER_FORIN_FOR","BEFORE_FORIN_IN","AFTER_FORIN_FOR","BEFORE_FORIN_BODY","AFTER_FOROF_FOR","BEFORE_FOROF_OF","AFTER_FOROF_FOR","BEFORE_FOROF_BODY","AFTER_FOR_FOR","BEFORE_FOR_INIT","AFTER_FOR_INIT","EMPTY_FOR_INIT","BEFORE_FOR_TEST","AFTER_FOR_TEST","EMPTY_FOR_TEST","BEFORE_FOR_UPDATE","AFTER_FOR_UPDATE","EMPTY_FOR_UPDATE","BEFORE_FOR_BODY","BEFORE_GENERATOR_STAR","AFTER_GENERATOR_STAR","BEFORE_FUNCTION_PARAMS","BEFORE_FUNCTION_DECLARATION_BODY","BEFORE_FUNCTION_EXPRESSION_BODY","AFTER_FUNCTION_DIRECTIVES","BEFORE_ARROW","AFTER_ARROW","AFTER_GET","BEFORE_GET_PARAMS","BEFORE_GET_BODY","AFTER_IF","AFTER_IF_TEST","BEFORE_ELSE","AFTER_ELSE","PARAMETER_BEFORE_COMMA","PARAMETER_AFTER_COMMA","NAMED_IMPORT_BEFORE_COMMA","NAMED_IMPORT_AFTER_COMMA","IMPORT_BEFORE_COMMA","IMPORT_AFTER_COMMA","BEFORE_IMPORT_BINDINGS","BEFORE_IMPORT_MODULE","AFTER_IMPORT_BINDINGS","AFTER_FROM","BEFORE_IMPORT_NAMESPACE","BEFORE_IMPORT_STAR","AFTER_IMPORT_STAR","AFTER_IMPORT_AS","AFTER_NAMESPACE_BINDING","BEFORE_IMPORT_AS","AFTER_IMPORT_AS","EXPORTS_BEFORE_COMMA","EXPORTS_AFTER_COMMA","BEFORE_EXPORT_STAR","AFTER_EXPORT_STAR","BEFORE_EXPORT_BINDINGS","AFTER_EXPORT_BINDINGS","AFTER_EXPORT","EXPORT_DEFAULT","AFTER_EXPORT_DEFAULT","BEFORE_EXPORT_AS","AFTER_EXPORT_AS","BEFORE_LABEL_COLON","AFTER_LABEL_COLON","AFTER_METHOD_GENERATOR_STAR","AFTER_METHOD_NAME","BEFORE_METHOD_BODY","AFTER_MODULE_DIRECTIVES","AFTER_NEW","BEFORE_NEW_ARGS","EMPTY_NEW_CALL","NEW_TARGET_BEFORE_DOT","NEW_TARGET_AFTER_DOT","RETURN","AFTER_SET","BEFORE_SET_PARAMS","BEFORE_SET_BODY","AFTER_SCRIPT_DIRECTIVES","BEFORE_STATIC_MEMBER_DOT","AFTER_STATIC_MEMBER_DOT","BEFORE_CASE_TEST","AFTER_CASE_TEST","BEFORE_CASE_BODY","AFTER_CASE_BODY","DEFAULT","AFTER_DEFAULT_BODY","BEFORE_SWITCH_DISCRIM","BEFORE_SWITCH_BODY","TEMPLATE_TAG","BEFORE_TEMPLATE_EXPRESSION","AFTER_TEMPLATE_EXPRESSION","THROW","AFTER_TRY","BEFORE_CATCH","BEFORE_FINALLY","AFTER_FINALLY","VARIABLE_DECLARATION","YIELD","BEFORE_YIELD_STAR","AFTER_YIELD_STAR","DECLARATORS_BEFORE_COMMA","DECLARATORS_AFTER_COMMA","BEFORE_INIT_EQUALS","AFTER_INIT_EQUALS","AFTER_WHILE","BEFORE_WHILE_BODY","AFTER_WITH","BEFORE_WITH_BODY","PAREN_AVOIDING_DIRECTIVE_BEFORE","PAREN_AVOIDING_DIRECTIVE_AFTER","PRECEDENCE_BEFORE","PRECEDENCE_AFTER","EXPRESSION_PAREN_BEFORE","EXPRESSION_PAREN_AFTER","CALL_PAREN_BEFORE","CALL_PAREN_AFTER","CALL_PAREN_EMPTY","CATCH_PAREN_BEFORE","CATCH_PAREN_AFTER","DO_WHILE_TEST_PAREN_BEFORE","DO_WHILE_TEST_PAREN_AFTER","EXPRESSION_STATEMENT_PAREN_BEFORE","EXPRESSION_STATEMENT_PAREN_AFTER","FOR_IN_LET_PAREN_BEFORE","FOR_IN_LET_PAREN_AFTER","FOR_IN_PAREN_BEFORE","FOR_IN_PAREN_AFTER","FOR_OF_LET_PAREN_BEFORE","FOR_OF_LET_PAREN_AFTER","FOR_OF_PAREN_BEFORE","FOR_OF_PAREN_AFTER","PARAMETERS_PAREN_BEFORE","PARAMETERS_PAREN_AFTER","PARAMETERS_PAREN_EMPTY","ARROW_PARAMETERS_PAREN_BEFORE","ARROW_PARAMETERS_PAREN_AFTER","ARROW_PARAMETERS_PAREN_EMPTY","ARROW_BODY_PAREN_BEFORE","ARROW_BODY_PAREN_AFTER","GETTER_PARAMS","IF_PAREN_BEFORE","IF_PAREN_AFTER","EXPORT_PAREN_BEFORE","EXPORT_PAREN_AFTER","NEW_CALLEE_PAREN_BEFORE","NEW_CALLEE_PAREN_AFTER","NEW_PAREN_BEFORE","NEW_PAREN_AFTER","NEW_PAREN_EMPTY","SETTER_PARAM_BEFORE","SETTER_PARAM_AFTER","SWITCH_DISCRIM_PAREN_BEFORE","SWITCH_DISCRIM_PAREN_AFTER","WHILE_TEST_PAREN_BEFORE","WHILE_TEST_PAREN_AFTER","WITH_PAREN_BEFORE","WITH_PAREN_AFTER","OBJECT_BRACE_INITIAL","OBJECT_BRACE_FINAL","OBJECT_EMPTY","BLOCK_BRACE_INITIAL","BLOCK_BRACE_FINAL","BLOCK_EMPTY","CLASS_BRACE_INITIAL","CLASS_BRACE_FINAL","CLASS_EMPTY","CLASS_EXPRESSION_BRACE_INITIAL","CLASS_EXPRESSION_BRACE_FINAL","CLASS_EXPRESSION_BRACE_EMPTY","FUNCTION_BRACE_INITIAL","FUNCTION_BRACE_FINAL","FUNCTION_EMPTY","FUNCTION_EXPRESSION_BRACE_INITIAL","FUNCTION_EXPRESSION_BRACE_FINAL","FUNCTION_EXPRESSION_EMPTY","ARROW_BRACE_INITIAL","ARROW_BRACE_FINAL","ARROW_BRACE_EMPTY","GET_BRACE_INTIAL","GET_BRACE_FINAL","GET_BRACE_EMPTY","MISSING_ELSE_INTIIAL","MISSING_ELSE_FINAL","MISSING_ELSE_EMPTY","IMPORT_BRACE_INTIAL","IMPORT_BRACE_FINAL","IMPORT_BRACE_EMPTY","EXPORT_BRACE_INITIAL","EXPORT_BRACE_FINAL","EXPORT_BRACE_EMPTY","METHOD_BRACE_INTIAL","METHOD_BRACE_FINAL","METHOD_BRACE_EMPTY","SET_BRACE_INTIIAL","SET_BRACE_FINAL","SET_BRACE_EMPTY","SWITCH_BRACE_INTIAL","SWITCH_BRACE_FINAL","SWITCH_BRACE_EMPTY","ARRAY_INITIAL","ARRAY_FINAL","COMPUTED_MEMBER_BRACKET_INTIAL","COMPUTED_MEMBER_BRACKET_FINAL","COMPUTED_PROPERTY_BRACKET_INTIAL","COMPUTED_PROPERTY_BRACKET_FINAL"];for(var i=0;i<separatorNames.length;++i){Sep[separatorNames[i]]={type:separatorNames[i]}}Sep.BEFORE_ASSIGN_OP=function(op){return{type:"BEFORE_ASSIGN_OP",op:op}};Sep.AFTER_ASSIGN_OP=function(op){return{type:"AFTER_ASSIGN_OP",op:op}};Sep.BEFORE_BINOP=function(op){return{type:"BEFORE_BINOP",op:op}};Sep.AFTER_BINOP=function(op){return{type:"AFTER_BINOP",op:op}};Sep.BEFORE_POSTFIX=function(op){return{type:"BEFORE_POSTFIX",op:op}};Sep.UNARY=function(op){return{type:"UNARY",op:op}};Sep.AFTER_STATEMENT=function(node){return{type:"AFTER_STATEMENT",node:node}};Sep.BEFORE_FUNCTION_NAME=function(node){return{type:"BEFORE_FUNCTION_NAME",node:node}};exports.Sep=Sep;var ExtensibleCodeGen=exports.ExtensibleCodeGen=function(){function ExtensibleCodeGen(){_classCallCheck(this,ExtensibleCodeGen)}_createClass(ExtensibleCodeGen,[{key:"parenToAvoidBeingDirective",value:function parenToAvoidBeingDirective(element,original){if(element&&element.type==="ExpressionStatement"&&element.expression.type==="LiteralStringExpression"){return seq(this.paren(original.children[0],Sep.PAREN_AVOIDING_DIRECTIVE_BEFORE,Sep.PAREN_AVOIDING_DIRECTIVE_AFTER),this.semiOp())}return original}},{key:"t",value:function t(token){return new _coderep.Token(token)}},{key:"p",value:function p(node,precedence,a){return(0,_coderep.getPrecedence)(node)<precedence?this.paren(a,Sep.PRECEDENCE_BEFORE,Sep.PRECEDENCE_AFTER):a}},{key:"getAssignmentExpr",value:function getAssignmentExpr(state){return state?state.containsGroup?this.paren(state,Sep.EXPRESSION_PAREN_BEFORE,Sep.EXPRESSION_PAREN_AFTER):state:empty()}},{key:"paren",value:function paren(rep,first,last,empty){if(isEmpty(rep)){return new _coderep.Paren(this.sep(empty))}return new _coderep.Paren(seq(first?this.sep(first):new _coderep.Empty,rep,last?this.sep(last):new _coderep.Empty))}},{key:"brace",value:function brace(rep,node,first,last,empty){if(isEmpty(rep)){return new _coderep.Brace(this.sep(empty))}return new _coderep.Brace(seq(this.sep(first),rep,this.sep(last)))}},{key:"bracket",value:function bracket(rep,first,last,empty){if(isEmpty(rep)){return new _coderep.Bracket(this.sep(empty))}return new _coderep.Bracket(seq(this.sep(first),rep,this.sep(last)))}},{key:"commaSep",value:function commaSep(pieces,before,after){var _this=this;var first=true;pieces=pieces.map(function(p){if(first){first=false;return p}else{return seq(_this.sep(before),_this.t(","),_this.sep(after),p)}});return seq.apply(undefined,_toConsumableArray(pieces))}},{key:"semiOp",value:function semiOp(){return new _coderep.SemiOp}},{key:"sep",value:function sep(kind){return new _coderep.Empty}},{key:"reduceArrayExpression",value:function reduceArrayExpression(node,_ref){var _this2=this;var elements=_ref.elements;if(elements.length===0){return this.bracket(empty(),null,null,Sep.ARRAY_EMPTY)}var content=this.commaSep(elements.map(function(e){return _this2.getAssignmentExpr(e)}),Sep.ARRAY_BEFORE_COMMA,Sep.ARRAY_AFTER_COMMA);if(elements.length>0&&elements[elements.length-1]==null){content=seq(content,this.sep(Sep.ARRAY_BEFORE_COMMA),this.t(","),this.sep(Sep.ARRAY_AFTER_COMMA))}return this.bracket(content,Sep.ARRAY_INITIAL,Sep.ARRAY_FINAL)}},{key:"reduceSpreadElement",value:function reduceSpreadElement(node,_ref2){var expression=_ref2.expression;return seq(this.t("..."),this.sep(Sep.SPREAD),this.p(node.expression,_coderep.Precedence.Assignment,expression))}},{key:"reduceAssignmentExpression",value:function reduceAssignmentExpression(node,_ref3){var binding=_ref3.binding;var expression=_ref3.expression;var leftCode=binding;var rightCode=expression;var containsIn=expression.containsIn;var startsWithCurly=binding.startsWithCurly;var startsWithLetSquareBracket=binding.startsWithLetSquareBracket;var startsWithFunctionOrClass=binding.startsWithFunctionOrClass;if((0,_coderep.getPrecedence)(node.expression)<(0,_coderep.getPrecedence)(node)){rightCode=this.paren(rightCode,Sep.EXPRESSION_PAREN_BEFORE,Sep.EXPRESSION_PAREN_AFTER);containsIn=false}return(0,_objectAssign2.default)(seq(leftCode,this.sep(Sep.BEFORE_ASSIGN_OP("=")),this.t("="),this.sep(Sep.AFTER_ASSIGN_OP("=")),rightCode),{containsIn:containsIn,startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceCompoundAssignmentExpression",value:function reduceCompoundAssignmentExpression(node,_ref4){var binding=_ref4.binding;var expression=_ref4.expression;var leftCode=binding;var rightCode=expression;var containsIn=expression.containsIn;var startsWithCurly=binding.startsWithCurly;var startsWithLetSquareBracket=binding.startsWithLetSquareBracket;var startsWithFunctionOrClass=binding.startsWithFunctionOrClass;if((0,_coderep.getPrecedence)(node.expression)<(0,_coderep.getPrecedence)(node)){rightCode=this.paren(rightCode,Sep.EXPRESSION_PAREN_BEFORE,Sep.EXPRESSION_PAREN_AFTER);containsIn=false}return(0,_objectAssign2.default)(seq(leftCode,this.sep(Sep.BEFORE_ASSIGN_OP(node.operator)),this.t(node.operator),this.sep(Sep.AFTER_ASSIGN_OP(node.operator)),rightCode),{containsIn:containsIn,startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceBinaryExpression",value:function reduceBinaryExpression(node,_ref5){var left=_ref5.left;var right=_ref5.right;var leftCode=left;var startsWithCurly=left.startsWithCurly;var startsWithLetSquareBracket=left.startsWithLetSquareBracket;var startsWithFunctionOrClass=left.startsWithFunctionOrClass;var leftContainsIn=left.containsIn;if((0,_coderep.getPrecedence)(node.left)<(0,_coderep.getPrecedence)(node)){leftCode=this.paren(leftCode,Sep.EXPRESSION_PAREN_BEFORE,Sep.EXPRESSION_PAREN_AFTER);startsWithCurly=false;startsWithLetSquareBracket=false;startsWithFunctionOrClass=false;leftContainsIn=false}var rightCode=right;var rightContainsIn=right.containsIn;if((0,_coderep.getPrecedence)(node.right)<=(0,_coderep.getPrecedence)(node)){rightCode=this.paren(rightCode,Sep.EXPRESSION_PAREN_BEFORE,Sep.EXPRESSION_PAREN_AFTER);rightContainsIn=false}return(0,_objectAssign2.default)(seq(leftCode,this.sep(Sep.BEFORE_BINOP(node.operator)),this.t(node.operator),this.sep(Sep.AFTER_BINOP(node.operator)),rightCode),{containsIn:leftContainsIn||rightContainsIn||node.operator==="in",containsGroup:node.operator==",",startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceBindingWithDefault",value:function reduceBindingWithDefault(node,_ref6){var binding=_ref6.binding;var init=_ref6.init;return seq(binding,this.sep(Sep.BEFORE_DEFAULT_EQUALS),this.t("="),this.sep(Sep.AFTER_DEFAULT_EQUALS),init)}},{key:"reduceBindingIdentifier",value:function reduceBindingIdentifier(node){var a=this.t(node.name);if(node.name==="let"){a.startsWithLet=true}return a}},{key:"reduceArrayBinding",value:function reduceArrayBinding(node,_ref7){var _this3=this;var elements=_ref7.elements;var restElement=_ref7.restElement;var content=undefined;if(elements.length===0){content=restElement==null?empty():seq(this.t("..."),this.sep(Sep.REST),restElement)}else{elements=elements.concat(restElement==null?[]:[seq(this.t("..."),this.sep(Sep.REST),restElement)]);content=this.commaSep(elements.map(function(e){return _this3.getAssignmentExpr(e)}),Sep.ARRAY_BEFORE_COMMA,Sep.ARRAY_AFTER_COMMA);if(elements.length>0&&elements[elements.length-1]==null){content=seq(content,this.sep(Sep.ARRAY_BEFORE_COMMA),this.t(","),this.sep(Sep.ARRAY_AFTER_COMMA))}}return this.bracket(content,Sep.ARRAY_INITIAL,Sep.ARRAY_FINAL,Sep.ARRAY_EMPTY)}},{key:"reduceObjectBinding",value:function reduceObjectBinding(node,_ref8){var properties=_ref8.properties;var state=this.brace(this.commaSep(properties,Sep.OBJECT_BEFORE_COMMA,Sep.OBJECT_AFTER_COMMA),node,Sep.OBJECT_BRACE_INITIAL,Sep.OBJECT_BRACE_FINAL,Sep.OBJECT_EMPTY);state.startsWithCurly=true;return state}},{key:"reduceBindingPropertyIdentifier",value:function reduceBindingPropertyIdentifier(node,_ref9){var binding=_ref9.binding;var init=_ref9.init;if(node.init==null)return binding;return seq(binding,this.sep(Sep.BEFORE_DEFAULT_EQUALS),this.t("="),this.sep(Sep.AFTER_DEFAULT_EQUALS),init)}},{key:"reduceBindingPropertyProperty",value:function reduceBindingPropertyProperty(node,_ref10){var name=_ref10.name;var binding=_ref10.binding;return seq(name,this.sep(Sep.BEFORE_PROP),this.t(":"),this.sep(Sep.AFTER_PROP),binding)}},{key:"reduceBlock",value:function reduceBlock(node,_ref11){var statements=_ref11.statements;return this.brace(seq.apply(undefined,_toConsumableArray(statements)),node,Sep.BLOCK_BRACE_INITIAL,Sep.BLOCK_BRACE_FINAL,Sep.BLOCK_EMPTY)}},{key:"reduceBlockStatement",value:function reduceBlockStatement(node,_ref12){var block=_ref12.block;return seq(block,this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceBreakStatement",value:function reduceBreakStatement(node,_ref13){var label=_ref13.label;return seq(this.t("break"),label?seq(this.sep(Sep.BEFORE_JUMP_LABEL),this.t(label)):empty(),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceCallExpression",value:function reduceCallExpression(node,_ref14){var callee=_ref14.callee;var args=_ref14.arguments;return(0,_objectAssign2.default)(seq(this.p(node.callee,(0,_coderep.getPrecedence)(node),callee),this.sep(Sep.CALL),this.paren(this.commaSep(args,Sep.ARGS_BEFORE_COMMA,Sep.ARGS_AFTER_COMMA),Sep.CALL_PAREN_BEFORE,Sep.CALL_PAREN_AFTER,Sep.CALL_PAREN_EMPTY)),{startsWithCurly:callee.startsWithCurly,startsWithLetSquareBracket:callee.startsWithLetSquareBracket,startsWithFunctionOrClass:callee.startsWithFunctionOrClass})}},{key:"reduceCatchClause",value:function reduceCatchClause(node,_ref15){var binding=_ref15.binding;var body=_ref15.body;return seq(this.t("catch"),this.sep(Sep.BEFORE_CATCH_BINDING),this.paren(binding,Sep.CATCH_PAREN_BEFORE,Sep.CATCH_PAREN_AFTER),this.sep(Sep.AFTER_CATCH_BINDING),body)}},{key:"reduceClassDeclaration",value:function reduceClassDeclaration(node,_ref16){var name=_ref16.name;var _super=_ref16.super;var elements=_ref16.elements;var state=seq(this.t("class"),this.sep(Sep.BEFORE_CLASS_NAME),name);if(_super!=null){state=seq(state,this.sep(Sep.BEFORE_EXTENDS),this.t("extends"),this.sep(Sep.AFTER_EXTENDS),_super)}state=seq(state,this.sep(Sep.BEFORE_CLASS_DECLARATION_ELEMENTS),this.brace(seq.apply(undefined,_toConsumableArray(elements)),node,Sep.CLASS_BRACE_INITIAL,Sep.CLASS_BRACE_FINAL,Sep.CLASS_EMPTY),this.sep(Sep.AFTER_STATEMENT(node)));return state}},{key:"reduceClassExpression",value:function reduceClassExpression(node,_ref17){var name=_ref17.name;var _super=_ref17.super;var elements=_ref17.elements;var state=this.t("class");if(name!=null){state=seq(state,this.sep(Sep.BEFORE_CLASS_NAME),name)}if(_super!=null){state=seq(state,this.sep(Sep.BEFORE_EXTENDS),this.t("extends"),this.sep(Sep.AFTER_EXTENDS),_super)}state=seq(state,this.sep(Sep.BEFORE_CLASS_EXPRESSION_ELEMENTS),this.brace(seq.apply(undefined,_toConsumableArray(elements)),node,Sep.CLASS_EXPRESSION_BRACE_INITIAL,Sep.CLASS_EXPRESSION_BRACE_FINAL,Sep.CLASS_EXPRESSION_BRACE_EMPTY));state.startsWithFunctionOrClass=true;return state}},{key:"reduceClassElement",value:function reduceClassElement(node,_ref18){var method=_ref18.method;method=seq(this.sep(Sep.BEFORE_CLASS_ELEMENT),method,this.sep(Sep.AFTER_CLASS_ELEMENT));if(!node.isStatic)return method;return seq(this.t("static"),this.sep(Sep.AFTER_STATIC),method)}},{key:"reduceComputedMemberExpression",value:function reduceComputedMemberExpression(node,_ref19){var object=_ref19.object;var expression=_ref19.expression;var startsWithLetSquareBracket=object.startsWithLetSquareBracket||node.object.type==="IdentifierExpression"&&node.object.name==="let";return(0,_objectAssign2.default)(seq(this.p(node.object,(0,_coderep.getPrecedence)(node),object),this.sep(Sep.COMPUTED_MEMBER_EXPRESSION),this.bracket(expression,Sep.COMPUTED_MEMBER_BRACKET_INTIAL,Sep.COMPUTED_MEMBER_BRACKET_FINAL)),{startsWithLet:object.startsWithLet,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithCurly:object.startsWithCurly,startsWithFunctionOrClass:object.startsWithFunctionOrClass})}},{key:"reduceComputedPropertyName",value:function reduceComputedPropertyName(node,_ref20){var expression=_ref20.expression;return this.bracket(expression,Sep.COMPUTED_PROPERTY_BRACKET_INTIAL,Sep.COMPUTED_PROPERTY_BRACKET_FINAL)}},{key:"reduceConditionalExpression",value:function reduceConditionalExpression(node,_ref21){var test=_ref21.test;var consequent=_ref21.consequent;var alternate=_ref21.alternate;var containsIn=test.containsIn||alternate.containsIn;var startsWithCurly=test.startsWithCurly;var startsWithLetSquareBracket=test.startsWithLetSquareBracket;var startsWithFunctionOrClass=test.startsWithFunctionOrClass;return(0,_objectAssign2.default)(seq(this.p(node.test,_coderep.Precedence.LogicalOR,test),this.sep(Sep.BEFORE_TERNARY_QUESTION),this.t("?"),this.sep(Sep.AFTER_TERNARY_QUESTION),this.p(node.consequent,_coderep.Precedence.Assignment,consequent),this.sep(Sep.BEFORE_TERNARY_COLON),this.t(":"),this.sep(Sep.AFTER_TERNARY_COLON),this.p(node.alternate,_coderep.Precedence.Assignment,alternate)),{containsIn:containsIn,startsWithCurly:startsWithCurly,startsWithLetSquareBracket:startsWithLetSquareBracket,startsWithFunctionOrClass:startsWithFunctionOrClass})}},{key:"reduceContinueStatement",value:function reduceContinueStatement(node,_ref22){var label=_ref22.label;return seq(this.t("continue"),label?seq(this.sep(Sep.BEFORE_JUMP_LABEL),this.t(label)):empty(),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceDataProperty",value:function reduceDataProperty(node,_ref23){var name=_ref23.name;var expression=_ref23.expression;return seq(name,this.sep(Sep.BEFORE_PROP),this.t(":"),this.sep(Sep.AFTER_PROP),this.getAssignmentExpr(expression))}},{key:"reduceDebuggerStatement",value:function reduceDebuggerStatement(node){return seq(this.t("debugger"),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceDoWhileStatement",value:function reduceDoWhileStatement(node,_ref24){var body=_ref24.body;var test=_ref24.test;return seq(this.t("do"),this.sep(Sep.AFTER_DO),body,this.sep(Sep.BEFORE_DOWHILE_WHILE),this.t("while"),this.sep(Sep.AFTER_DOWHILE_WHILE),this.paren(test,Sep.DO_WHILE_TEST_PAREN_BEFORE,Sep.DO_WHILE_TEST_PAREN_AFTER),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceEmptyStatement",value:function reduceEmptyStatement(node){return seq(this.t(";"),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceExpressionStatement",value:function reduceExpressionStatement(node,_ref25){var expression=_ref25.expression;var needsParens=expression.startsWithCurly||expression.startsWithLetSquareBracket||expression.startsWithFunctionOrClass;return seq(needsParens?this.paren(expression,Sep.EXPRESSION_STATEMENT_PAREN_BEFORE,Sep.EXPRESSION_STATEMENT_PAREN_AFTER):expression,this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceForInStatement",value:function reduceForInStatement(node,_ref26){var left=_ref26.left;var right=_ref26.right;var body=_ref26.body;var leftP=left;switch(node.left.type){case"VariableDeclaration":leftP=noIn(markContainsIn(left));break;case"BindingIdentifier":if(node.left.name==="let"){leftP=this.paren(left,Sep.FOR_IN_LET_PAREN_BEFORE,Sep.FOR_IN_LET_PAREN_BEFORE)}break}return(0,_objectAssign2.default)(seq(this.t("for"),this.sep(Sep.AFTER_FORIN_FOR),this.paren(seq(leftP,this.sep(Sep.BEFORE_FORIN_IN),this.t("in"),this.sep(Sep.AFTER_FORIN_FOR),right),Sep.FOR_IN_PAREN_BEFORE,Sep.FOR_IN_PAREN_AFTER),this.sep(Sep.BEFORE_FORIN_BODY),body,this.sep(Sep.AFTER_STATEMENT(node))),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceForOfStatement",value:function reduceForOfStatement(node,_ref27){var left=_ref27.left;var right=_ref27.right;var body=_ref27.body;left=node.left.type==="VariableDeclaration"?noIn(markContainsIn(left)):left;return(0,_objectAssign2.default)(seq(this.t("for"),this.sep(Sep.AFTER_FOROF_FOR),this.paren(seq(left.startsWithLet?this.paren(left,Sep.FOR_OF_LET_PAREN_BEFORE,Sep.FOR_OF_LET_PAREN_AFTER):left,this.sep(Sep.BEFORE_FOROF_OF),this.t("of"),this.sep(Sep.AFTER_FOROF_FOR),right),Sep.FOR_OF_PAREN_BEFORE,Sep.FOR_OF_PAREN_AFTER),this.sep(Sep.BEFORE_FOROF_BODY),body,this.sep(Sep.AFTER_STATEMENT(node))),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceForStatement",value:function reduceForStatement(node,_ref28){var init=_ref28.init;var test=_ref28.test;var update=_ref28.update;var body=_ref28.body;return(0,_objectAssign2.default)(seq(this.t("for"),this.sep(Sep.AFTER_FOR_FOR),this.paren(seq(init?seq(this.sep(Sep.BEFORE_FOR_INIT),noIn(markContainsIn(init)),this.sep(Sep.AFTER_FOR_INIT)):this.sep(Sep.EMPTY_FOR_INIT),this.t(";"),test?seq(this.sep(Sep.BEFORE_FOR_TEST),test,this.sep(Sep.AFTER_FOR_TEST)):this.sep(Sep.EMPTY_FOR_TEST),this.t(";"),update?seq(this.sep(Sep.BEFORE_FOR_UPDATE),update,this.sep(Sep.AFTER_FOR_UPDATE)):this.sep(Sep.EMPTY_FOR_UPDATE))),this.sep(Sep.BEFORE_FOR_BODY),body,this.sep(Sep.AFTER_STATEMENT(node))),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceFunctionBody",value:function reduceFunctionBody(node,_ref29){var directives=_ref29.directives;var statements=_ref29.statements;if(statements.length){statements[0]=this.parenToAvoidBeingDirective(node.statements[0],statements[0])}return seq.apply(undefined,_toConsumableArray(directives).concat([directives.length?this.sep(Sep.AFTER_FUNCTION_DIRECTIVES):empty()],_toConsumableArray(statements)))}},{key:"reduceFunctionDeclaration",value:function reduceFunctionDeclaration(node,_ref30){var name=_ref30.name;var params=_ref30.params;var body=_ref30.body;return seq(this.t("function"),node.isGenerator?seq(this.sep(Sep.BEFORE_GENERATOR_STAR),this.t("*"),this.sep(Sep.AFTER_GENERATOR_STAR)):empty(),this.sep(Sep.BEFORE_FUNCTION_NAME(node)),node.name.name==="*default*"?empty():name,this.sep(Sep.BEFORE_FUNCTION_PARAMS),this.paren(params,Sep.PARAMETERS_PAREN_BEFORE,Sep.PARAMETERS_PAREN_AFTER,Sep.PARAMETERS_PAREN_EMPTY),this.sep(Sep.BEFORE_FUNCTION_DECLARATION_BODY),this.brace(body,node,Sep.FUNCTION_BRACE_INITIAL,Sep.FUNCTION_BRACE_FINAL,Sep.FUNCTION_EMPTY),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceFunctionExpression",value:function reduceFunctionExpression(node,_ref31){var name=_ref31.name;var params=_ref31.params;var body=_ref31.body;var state=seq(this.t("function"),node.isGenerator?seq(this.sep(Sep.BEFORE_GENERATOR_STAR),this.t("*"),this.sep(Sep.AFTER_GENERATOR_STAR)):empty(),this.sep(Sep.BEFORE_FUNCTION_NAME(node)),name?name:empty(),this.sep(Sep.BEFORE_FUNCTION_PARAMS),this.paren(params,Sep.PARAMETERS_PAREN_BEFORE,Sep.PARAMETERS_PAREN_AFTER,Sep.PARAMETERS_PAREN_EMPTY),this.sep(Sep.BEFORE_FUNCTION_EXPRESSION_BODY),this.brace(body,node,Sep.FUNCTION_EXPRESSION_BRACE_INITIAL,Sep.FUNCTION_EXPRESSION_BRACE_FINAL,Sep.FUNCTION_EXPRESSION_EMPTY));state.startsWithFunctionOrClass=true;return state}},{key:"reduceFormalParameters",value:function reduceFormalParameters(node,_ref32){var items=_ref32.items;var rest=_ref32.rest;return this.commaSep(items.concat(rest==null?[]:[seq(this.t("..."),this.sep(Sep.REST),rest)]),Sep.PARAMETER_BEFORE_COMMA,Sep.PARAMETER_AFTER_COMMA)}},{key:"reduceArrowExpression",value:function reduceArrowExpression(node,_ref33){var params=_ref33.params;var body=_ref33.body;if(node.params.rest!=null||node.params.items.length!==1||node.params.items[0].type!=="BindingIdentifier"){params=this.paren(params,Sep.ARROW_PARAMETERS_PAREN_BEFORE,Sep.ARROW_PARAMETERS_PAREN_AFTER,Sep.ARROW_PARAMETERS_PAREN_EMPTY)}if(node.body.type==="FunctionBody"){body=this.brace(body,node,Sep.ARROW_BRACE_INITIAL,Sep.ARROW_BRACE_FINAL,Sep.ARROW_BRACE_EMPTY)}else if(body.startsWithCurly){body=this.paren(body,Sep.ARROW_BODY_PAREN_BEFORE,Sep.ARROW_BODY_PAREN_AFTER)}return seq(params,this.sep(Sep.BEFORE_ARROW),this.t("=>"),this.sep(Sep.AFTER_ARROW),this.p(node.body,_coderep.Precedence.Assignment,body))}},{key:"reduceGetter",value:function reduceGetter(node,_ref34){var name=_ref34.name;var body=_ref34.body;return seq(this.t("get"),this.sep(Sep.AFTER_GET),name,this.sep(Sep.BEFORE_GET_PARAMS),this.paren(empty(),null,null,Sep.GETTER_PARAMS),this.sep(Sep.BEFORE_GET_BODY),this.brace(body,node,Sep.GET_BRACE_INTIAL,Sep.GET_BRACE_FINAL,Sep.GET_BRACE_EMPTY))}},{key:"reduceIdentifierExpression",value:function reduceIdentifierExpression(node){var a=this.t(node.name);if(node.name==="let"){a.startsWithLet=true}return a}},{key:"reduceIfStatement",value:function reduceIfStatement(node,_ref35){var test=_ref35.test;var consequent=_ref35.consequent;var alternate=_ref35.alternate;if(alternate&&consequent.endsWithMissingElse){consequent=this.brace(consequent,node,Sep.MISSING_ELSE_INTIIAL,Sep.MISSING_ELSE_FINAL,Sep.MISSING_ELSE_EMPTY)}return(0,_objectAssign2.default)(seq(this.t("if"),this.sep(Sep.AFTER_IF),this.paren(test,Sep.IF_PAREN_BEFORE,Sep.IF_PAREN_AFTER),this.sep(Sep.AFTER_IF_TEST),consequent,alternate?seq(this.sep(Sep.BEFORE_ELSE),this.t("else"),this.sep(Sep.AFTER_ELSE),alternate):empty(),this.sep(Sep.AFTER_STATEMENT(node))),{endsWithMissingElse:alternate?alternate.endsWithMissingElse:true})}},{key:"reduceImport",value:function reduceImport(node,_ref36){var defaultBinding=_ref36.defaultBinding;var namedImports=_ref36.namedImports;var bindings=[];if(defaultBinding!=null){bindings.push(defaultBinding)}if(namedImports.length>0){bindings.push(this.brace(this.commaSep(namedImports,Sep.NAMED_IMPORT_BEFORE_COMMA,Sep.NAMED_IMPORT_AFTER_COMMA),node,Sep.IMPORT_BRACE_INTIAL,Sep.IMPORT_BRACE_FINAL,Sep.IMPORT_BRACE_EMPTY))}if(bindings.length===0){return seq(this.t("import"),this.sep(Sep.BEFORE_IMPORT_MODULE),this.t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}return seq(this.t("import"),this.sep(Sep.BEFORE_IMPORT_BINDINGS),this.commaSep(bindings,Sep.IMPORT_BEFORE_COMMA,Sep.IMPORT_AFTER_COMMA),this.sep(Sep.AFTER_IMPORT_BINDINGS),this.t("from"),this.sep(Sep.AFTER_FROM),this.t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceImportNamespace",value:function reduceImportNamespace(node,_ref37){var defaultBinding=_ref37.defaultBinding;var namespaceBinding=_ref37.namespaceBinding;return seq(this.t("import"),this.sep(Sep.BEFORE_IMPORT_NAMESPACE),defaultBinding==null?empty():seq(defaultBinding,this.sep(Sep.IMPORT_BEFORE_COMMA),this.t(","),this.sep(Sep.IMPORT_AFTER_COMMA)),this.sep(Sep.BEFORE_IMPORT_STAR),this.t("*"),this.sep(Sep.AFTER_IMPORT_STAR),this.t("as"),this.sep(Sep.AFTER_IMPORT_AS),namespaceBinding,this.sep(Sep.AFTER_NAMESPACE_BINDING),this.t("from"),this.sep(Sep.AFTER_FROM),this.t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceImportSpecifier",value:function reduceImportSpecifier(node,_ref38){var binding=_ref38.binding;if(node.name==null)return binding;return seq(this.t(node.name),this.sep(Sep.BEFORE_IMPORT_AS),this.t("as"),this.sep(Sep.AFTER_IMPORT_AS),binding)}},{key:"reduceExportAllFrom",value:function reduceExportAllFrom(node){return seq(this.t("export"),this.sep(Sep.BEFORE_EXPORT_STAR),this.t("*"),this.sep(Sep.AFTER_EXPORT_STAR),this.t("from"),this.sep(Sep.AFTER_FROM),this.t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceExportFrom",value:function reduceExportFrom(node,_ref39){var namedExports=_ref39.namedExports;return seq(this.t("export"),this.sep(Sep.BEFORE_EXPORT_BINDINGS),this.brace(this.commaSep(namedExports,Sep.EXPORTS_BEFORE_COMMA,Sep.EXPORTS_AFTER_COMMA),node,Sep.EXPORT_BRACE_INITIAL,Sep.EXPORT_BRACE_FINAL,Sep.EXPORT_BRACE_EMPTY),node.moduleSpecifier==null?empty():seq(this.sep(Sep.AFTER_EXPORT_BINDINGS),this.t("from"),this.sep(Sep.AFTER_FROM),this.t((0,_coderep.escapeStringLiteral)(node.moduleSpecifier)),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node))))}},{key:"reduceExport",value:function reduceExport(node,_ref40){var declaration=_ref40.declaration;switch(node.declaration.type){case"FunctionDeclaration":case"ClassDeclaration":break;default:declaration=seq(declaration,this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}return seq(this.t("export"),this.sep(Sep.AFTER_EXPORT),declaration)}},{key:"reduceExportDefault",value:function reduceExportDefault(node,_ref41){var body=_ref41.body;body=body.startsWithFunctionOrClass?this.paren(body,Sep.EXPORT_PAREN_BEFORE,Sep.EXPORT_PAREN_AFTER):body;switch(node.body.type){case"FunctionDeclaration":case"ClassDeclaration":break;default:body=seq(body,this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}return seq(this.t("export"),this.sep(Sep.EXPORT_DEFAULT),this.t("default"),this.sep(Sep.AFTER_EXPORT_DEFAULT),body)}},{key:"reduceExportSpecifier",value:function reduceExportSpecifier(node){if(node.name==null)return this.t(node.exportedName);return seq(this.t(node.name),this.sep(Sep.BEFORE_EXPORT_AS),this.t("as"),this.sep(Sep.AFTER_EXPORT_AS),this.t(node.exportedName))}},{key:"reduceLabeledStatement",value:function reduceLabeledStatement(node,_ref42){var label=_ref42.label;var body=_ref42.body;return(0,_objectAssign2.default)(seq(this.t(label),this.sep(Sep.BEFORE_LABEL_COLON),this.t(":"),this.sep(Sep.AFTER_LABEL_COLON),body),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceLiteralBooleanExpression",value:function reduceLiteralBooleanExpression(node){return this.t(node.value.toString())}},{key:"reduceLiteralNullExpression",value:function reduceLiteralNullExpression(node){return this.t("null")}},{key:"reduceLiteralInfinityExpression",value:function reduceLiteralInfinityExpression(node){return this.t("2e308")}},{key:"reduceLiteralNumericExpression",value:function reduceLiteralNumericExpression(node){return new _coderep.NumberCodeRep(node.value)}},{key:"reduceLiteralRegExpExpression",value:function reduceLiteralRegExpExpression(node){return this.t("/"+node.pattern+"/"+node.flags)}},{key:"reduceLiteralStringExpression",value:function reduceLiteralStringExpression(node){return this.t((0,_coderep.escapeStringLiteral)(node.value))}},{key:"reduceMethod",value:function reduceMethod(node,_ref43){var name=_ref43.name;var params=_ref43.params;var body=_ref43.body;return seq(node.isGenerator?seq(this.t("*"),this.sep(Sep.AFTER_METHOD_GENERATOR_STAR)):empty(),name,this.sep(Sep.AFTER_METHOD_NAME),this.paren(params,Sep.PARAMETERS_PAREN_BEFORE,Sep.PARAMETERS_PAREN_AFTER,Sep.PARAMETERS_PAREN_EMPTY),this.sep(Sep.BEFORE_METHOD_BODY),this.brace(body,node,Sep.METHOD_BRACE_INTIAL,Sep.METHOD_BRACE_FINAL,Sep.METHOD_BRACE_EMPTY))}},{key:"reduceModule",value:function reduceModule(node,_ref44){var directives=_ref44.directives;var items=_ref44.items;if(items.length){items[0]=this.parenToAvoidBeingDirective(node.items[0],items[0])}return seq.apply(undefined,_toConsumableArray(directives).concat([directives.length?this.sep(Sep.AFTER_MODULE_DIRECTIVES):empty()],_toConsumableArray(items)))}},{key:"reduceNewExpression",value:function reduceNewExpression(node,_ref45){var callee=_ref45.callee;var args=_ref45.arguments;var calleeRep=(0,_coderep.getPrecedence)(node.callee)==_coderep.Precedence.Call?this.paren(callee,Sep.NEW_CALLEE_PAREN_BEFORE,Sep.NEW_CALLEE_PAREN_AFTER):this.p(node.callee,(0,_coderep.getPrecedence)(node),callee);return seq(this.t("new"),this.sep(Sep.AFTER_NEW),calleeRep,args.length===0?this.sep(Sep.EMPTY_NEW_CALL):seq(this.sep(Sep.BEFORE_NEW_ARGS),this.paren(this.commaSep(args,Sep.ARGS_BEFORE_COMMA,Sep.ARGS_AFTER_COMMA),Sep.NEW_PAREN_BEFORE,Sep.NEW_PAREN_AFTER,Sep.NEW_PAREN_EMPTY)))}},{key:"reduceNewTargetExpression",value:function reduceNewTargetExpression(){return seq(this.t("new"),this.sep(Sep.NEW_TARGET_BEFORE_DOT),this.t("."),this.sep(Sep.NEW_TARGET_AFTER_DOT),this.t("target"))}},{key:"reduceObjectExpression",value:function reduceObjectExpression(node,_ref46){var properties=_ref46.properties;var state=this.brace(this.commaSep(properties,Sep.OBJECT_BEFORE_COMMA,Sep.OBJECT_AFTER_COMMA),node,Sep.OBJECT_BRACE_INITIAL,Sep.OBJECT_BRACE_FINAL,Sep.OBJECT_EMPTY);state.startsWithCurly=true;return state}},{key:"reduceUpdateExpression",value:function reduceUpdateExpression(node,_ref47){var operand=_ref47.operand;if(node.isPrefix){return this.reduceUnaryExpression.apply(this,arguments)}else{return(0,_objectAssign2.default)(seq(this.p(node.operand,_coderep.Precedence.New,operand),this.sep(Sep.BEFORE_POSTFIX(node.operator)),this.t(node.operator)),{startsWithCurly:operand.startsWithCurly,startsWithLetSquareBracket:operand.startsWithLetSquareBracket,startsWithFunctionOrClass:operand.startsWithFunctionOrClass})}}},{key:"reduceUnaryExpression",value:function reduceUnaryExpression(node,_ref48){var operand=_ref48.operand;return seq(this.t(node.operator),this.sep(Sep.UNARY(node.operator)),this.p(node.operand,(0,_coderep.getPrecedence)(node),operand))}},{key:"reduceReturnStatement",value:function reduceReturnStatement(node,_ref49){var expression=_ref49.expression;return seq(this.t("return"),expression?seq(this.sep(Sep.RETURN),expression):empty(),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceScript",value:function reduceScript(node,_ref50){var directives=_ref50.directives;var statements=_ref50.statements;if(statements.length){statements[0]=this.parenToAvoidBeingDirective(node.statements[0],statements[0])}return seq.apply(undefined,_toConsumableArray(directives).concat([directives.length?this.sep(Sep.AFTER_SCRIPT_DIRECTIVES):empty()],_toConsumableArray(statements)))}},{key:"reduceSetter",value:function reduceSetter(node,_ref51){var name=_ref51.name;var param=_ref51.param;var body=_ref51.body;return seq(this.t("set"),this.sep(Sep.AFTER_SET),name,this.sep(Sep.BEFORE_SET_PARAMS),this.paren(param,Sep.SETTER_PARAM_BEFORE,Sep.SETTER_PARAM_AFTER),this.sep(Sep.BEFORE_SET_BODY),this.brace(body,node,Sep.SET_BRACE_INTIIAL,Sep.SET_BRACE_FINAL,Sep.SET_BRACE_EMPTY))}},{key:"reduceShorthandProperty",value:function reduceShorthandProperty(node){return this.t(node.name)}},{key:"reduceStaticMemberExpression",value:function reduceStaticMemberExpression(node,_ref52){var object=_ref52.object;var property=_ref52.property;var state=seq(this.p(node.object,(0,_coderep.getPrecedence)(node),object),this.sep(Sep.BEFORE_STATIC_MEMBER_DOT),this.t("."),this.sep(Sep.AFTER_STATIC_MEMBER_DOT),this.t(property));state.startsWithLet=object.startsWithLet;state.startsWithCurly=object.startsWithCurly;state.startsWithLetSquareBracket=object.startsWithLetSquareBracket;state.startsWithFunctionOrClass=object.startsWithFunctionOrClass;return state}},{key:"reduceStaticPropertyName",value:function reduceStaticPropertyName(node){var n;if(_esutils.keyword.isIdentifierNameES6(node.value)){return this.t(node.value)}else if(n=parseFloat(node.value),n===n){return new _coderep.NumberCodeRep(n)}return this.t((0,_coderep.escapeStringLiteral)(node.value))}},{key:"reduceSuper",value:function reduceSuper(){return this.t("super")}},{key:"reduceSwitchCase",value:function reduceSwitchCase(node,_ref53){var test=_ref53.test;var consequent=_ref53.consequent;return seq(this.t("case"),this.sep(Sep.BEFORE_CASE_TEST),test,this.sep(Sep.AFTER_CASE_TEST),this.t(":"),this.sep(Sep.BEFORE_CASE_BODY),seq.apply(undefined,_toConsumableArray(consequent)),this.sep(Sep.AFTER_CASE_BODY))}},{key:"reduceSwitchDefault",value:function reduceSwitchDefault(node,_ref54){var consequent=_ref54.consequent;return seq(this.t("default"),this.sep(Sep.DEFAULT),this.t(":"),this.sep(Sep.BEFORE_CASE_BODY),seq.apply(undefined,_toConsumableArray(consequent)),this.sep(Sep.AFTER_DEFAULT_BODY))}},{key:"reduceSwitchStatement",value:function reduceSwitchStatement(node,_ref55){var discriminant=_ref55.discriminant;var cases=_ref55.cases;return seq(this.t("switch"),this.sep(Sep.BEFORE_SWITCH_DISCRIM),this.paren(discriminant,Sep.SWITCH_DISCRIM_PAREN_BEFORE,Sep.SWITCH_DISCRIM_PAREN_AFTER),this.sep(Sep.BEFORE_SWITCH_BODY),this.brace(seq.apply(undefined,_toConsumableArray(cases)),node,Sep.SWITCH_BRACE_INTIAL,Sep.SWITCH_BRACE_FINAL,Sep.SWITCH_BRACE_EMPTY),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceSwitchStatementWithDefault",value:function reduceSwitchStatementWithDefault(node,_ref56){var discriminant=_ref56.discriminant;var preDefaultCases=_ref56.preDefaultCases;var defaultCase=_ref56.defaultCase;var postDefaultCases=_ref56.postDefaultCases;return seq(this.t("switch"),this.sep(Sep.BEFORE_SWITCH_DISCRIM),this.paren(discriminant,Sep.SWITCH_DISCRIM_PAREN_BEFORE,Sep.SWITCH_DISCRIM_PAREN_AFTER),this.sep(Sep.BEFORE_SWITCH_BODY),this.brace(seq.apply(undefined,_toConsumableArray(preDefaultCases).concat([defaultCase],_toConsumableArray(postDefaultCases))),node,Sep.SWITCH_BRACE_INTIAL,Sep.SWITCH_BRACE_FINAL,Sep.SWITCH_BRACE_EMPTY),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceTemplateExpression",value:function reduceTemplateExpression(node,_ref57){var tag=_ref57.tag;var elements=_ref57.elements;var state=node.tag==null?empty():seq(this.p(node.tag,(0,_coderep.getPrecedence)(node),tag),this.sep(Sep.TEMPLATE_TAG));var templateData="";state=seq(state,this.t("`"));for(var i=0,l=node.elements.length;i<l;++i){if(node.elements[i].type==="TemplateElement"){var d="";if(i>0)d+="}";d+=node.elements[i].rawValue;if(i<l-1)d+="${";state=seq(state,this.t(d))}else{state=seq(state,this.sep(Sep.BEFORE_TEMPLATE_EXPRESSION),elements[i],this.sep(Sep.AFTER_TEMPLATE_EXPRESSION))}}state=seq(state,this.t("`"));if(node.tag!=null){state.startsWithCurly=tag.startsWithCurly;state.startsWithLetSquareBracket=tag.startsWithLetSquareBracket;state.startsWithFunctionOrClass=tag.startsWithFunctionOrClass}return state}},{key:"reduceTemplateElement",value:function reduceTemplateElement(node){return this.t(node.rawValue)}},{key:"reduceThisExpression",value:function reduceThisExpression(node){return this.t("this")}},{key:"reduceThrowStatement",value:function reduceThrowStatement(node,_ref58){var expression=_ref58.expression;return seq(this.t("throw"),this.sep(Sep.THROW),expression,this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceTryCatchStatement",value:function reduceTryCatchStatement(node,_ref59){var body=_ref59.body;var catchClause=_ref59.catchClause;return seq(this.t("try"),this.sep(Sep.AFTER_TRY),body,this.sep(Sep.BEFORE_CATCH),catchClause,this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceTryFinallyStatement",value:function reduceTryFinallyStatement(node,_ref60){var body=_ref60.body;var catchClause=_ref60.catchClause;var finalizer=_ref60.finalizer;return seq(this.t("try"),this.sep(Sep.AFTER_TRY),body,catchClause?seq(this.sep(Sep.BEFORE_CATCH),catchClause):empty(),this.sep(Sep.BEFORE_FINALLY),this.t("finally"),this.sep(Sep.AFTER_FINALLY),finalizer,this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceYieldExpression",value:function reduceYieldExpression(node,_ref61){var expression=_ref61.expression;if(node.expression==null)return this.t("yield");return seq(this.t("yield"),this.sep(Sep.YIELD),this.p(node.expression,(0,_coderep.getPrecedence)(node),expression))}},{key:"reduceYieldGeneratorExpression",value:function reduceYieldGeneratorExpression(node,_ref62){var expression=_ref62.expression;return seq(this.t("yield"),this.sep(Sep.BEFORE_YIELD_STAR),this.t("*"),this.sep(Sep.AFTER_YIELD_STAR),this.p(node.expression,(0,_coderep.getPrecedence)(node),expression))}},{key:"reduceDirective",value:function reduceDirective(node){var delim=/^(?:[^"\\]|\\.)*$/.test(node.rawValue)?'"':"'";return seq(this.t(delim+node.rawValue+delim),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceVariableDeclaration",value:function reduceVariableDeclaration(node,_ref63){var declarators=_ref63.declarators;return seq(this.t(node.kind),this.sep(Sep.VARIABLE_DECLARATION),this.commaSep(declarators,Sep.DECLARATORS_BEFORE_COMMA,Sep.DECLARATORS_AFTER_COMMA))}},{key:"reduceVariableDeclarationStatement",value:function reduceVariableDeclarationStatement(node,_ref64){var declaration=_ref64.declaration;return seq(declaration,this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceVariableDeclarator",value:function reduceVariableDeclarator(node,_ref65){var binding=_ref65.binding;var init=_ref65.init;var containsIn=init&&init.containsIn&&!init.containsGroup;if(init){if(init.containsGroup){init=this.paren(init,Sep.EXPRESSION_PAREN_BEFORE,Sep.EXPRESSION_PAREN_AFTER)}else{init=markContainsIn(init)}}return(0,_objectAssign2.default)(init==null?binding:seq(binding,this.sep(Sep.BEFORE_INIT_EQUALS),this.t("="),this.sep(Sep.AFTER_INIT_EQUALS),init),{containsIn:containsIn})}},{key:"reduceWhileStatement",value:function reduceWhileStatement(node,_ref66){var test=_ref66.test;var body=_ref66.body;return(0,_objectAssign2.default)(seq(this.t("while"),this.sep(Sep.AFTER_WHILE),this.paren(test,Sep.WHILE_TEST_PAREN_BEFORE,Sep.WHILE_TEST_PAREN_AFTER),this.sep(Sep.BEFORE_WHILE_BODY),body,this.sep(Sep.AFTER_STATEMENT(node))),{endsWithMissingElse:body.endsWithMissingElse})}},{key:"reduceWithStatement",value:function reduceWithStatement(node,_ref67){var object=_ref67.object;var body=_ref67.body;return(0,_objectAssign2.default)(seq(this.t("with"),this.sep(Sep.AFTER_WITH),this.paren(object,Sep.WITH_PAREN_BEFORE,Sep.WITH_PAREN_AFTER),this.sep(Sep.BEFORE_WITH_BODY),body,this.sep(Sep.AFTER_STATEMENT(node))),{endsWithMissingElse:body.endsWithMissingElse})}}]);return ExtensibleCodeGen}();var INDENT="  ";var Linebreak=function(_CodeRep){_inherits(Linebreak,_CodeRep);function Linebreak(){_classCallCheck(this,Linebreak);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(Linebreak).call(this));_this4.indentation=0;return _this4}_createClass(Linebreak,[{key:"emit",value:function emit(ts){ts.put("\n");for(var i=0;i<this.indentation;++i){ts.put(INDENT)}}}]);return Linebreak}(_coderep.CodeRep);function withoutTrailingLinebreak(state){if(state&&state instanceof _coderep.Seq){var lastChild=state.children[state.children.length-1];while(lastChild instanceof _coderep.Empty){state.children.pop();lastChild=state.children[state.children.length-1]}if(lastChild instanceof _coderep.Seq){withoutTrailingLinebreak(lastChild)}else if(lastChild instanceof Linebreak){state.children.pop()}}return state}function indent(rep,includingFinal){var finalLinebreak=undefined;function indentNode(node){if(node instanceof Linebreak){finalLinebreak=node;++node.indentation}}rep.forEach(indentNode);if(!includingFinal){--finalLinebreak.indentation}return rep}var FormattedCodeGen=exports.FormattedCodeGen=function(_ExtensibleCodeGen){_inherits(FormattedCodeGen,_ExtensibleCodeGen);function FormattedCodeGen(){_classCallCheck(this,FormattedCodeGen);return _possibleConstructorReturn(this,Object.getPrototypeOf(FormattedCodeGen).apply(this,arguments))}_createClass(FormattedCodeGen,[{key:"parenToAvoidBeingDirective",value:function parenToAvoidBeingDirective(element,original){if(element&&element.type==="ExpressionStatement"&&element.expression.type==="LiteralStringExpression"){return seq(this.paren(original.children[0],Sep.PAREN_AVOIDING_DIRECTIVE_BEFORE,Sep.PAREN_AVOIDING_DIRECTIVE_AFTER),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(element)))}return original}},{key:"brace",value:function brace(rep,node){if(isEmpty(rep)){return this.t("{}")}switch(node.type){case"ObjectBinding":case"Import":case"ExportFrom":case"ObjectExpression":return new _coderep.Brace(rep)}rep=seq(new Linebreak,rep);indent(rep,false);return new _coderep.Brace(rep)}},{key:"reduceDoWhileStatement",value:function reduceDoWhileStatement(node,_ref68){var body=_ref68.body;var test=_ref68.test;return seq(this.t("do"),this.sep(Sep.AFTER_DO),withoutTrailingLinebreak(body),this.sep(Sep.BEFORE_DOWHILE_WHILE),this.t("while"),this.sep(Sep.AFTER_DOWHILE_WHILE),this.paren(test,Sep.DO_WHILE_TEST_PAREN_BEFORE,Sep.DO_WHILE_TEST_PAREN_AFTER),this.semiOp(),this.sep(Sep.AFTER_STATEMENT(node)))}},{key:"reduceIfStatement",value:function reduceIfStatement(node,_ref69){var test=_ref69.test;var consequent=_ref69.consequent;var alternate=_ref69.alternate;if(alternate&&consequent.endsWithMissingElse){consequent=this.brace(consequent,node)}return(0,_objectAssign2.default)(seq(this.t("if"),this.sep(Sep.AFTER_IF),this.paren(test,Sep.IF_PAREN_BEFORE,Sep.IF_PAREN_AFTER),this.sep(Sep.AFTER_IF_TEST),withoutTrailingLinebreak(consequent),alternate?seq(this.sep(Sep.BEFORE_ELSE),this.t("else"),this.sep(Sep.AFTER_ELSE),withoutTrailingLinebreak(alternate)):empty(),this.sep(Sep.AFTER_STATEMENT(node))),{endsWithMissingElse:alternate?alternate.endsWithMissingElse:true})}},{key:"reduceSwitchCase",value:function reduceSwitchCase(node,_ref70){var test=_ref70.test;var consequent=_ref70.consequent;consequent=indent(withoutTrailingLinebreak(seq.apply(undefined,[this.sep(Sep.BEFORE_CASE_BODY)].concat(_toConsumableArray(consequent)))),true);return seq(this.t("case"),this.sep(Sep.BEFORE_CASE_TEST),test,this.sep(Sep.AFTER_CASE_TEST),this.t(":"),consequent,this.sep(Sep.AFTER_CASE_BODY))}},{key:"reduceSwitchDefault",value:function reduceSwitchDefault(node,_ref71){var consequent=_ref71.consequent;consequent=indent(withoutTrailingLinebreak(seq.apply(undefined,[this.sep(Sep.BEFORE_CASE_BODY)].concat(_toConsumableArray(consequent)))),true);return seq(this.t("default"),this.sep(Sep.DEFAULT),this.t(":"),consequent,this.sep(Sep.AFTER_DEFAULT_BODY))}},{key:"sep",value:function sep(separator){switch(separator.type){case"ARRAY_AFTER_COMMA":case"OBJECT_AFTER_COMMA":case"ARGS_AFTER_COMMA":case"PARAMETER_AFTER_COMMA":case"DECLARATORS_AFTER_COMMA":case"NAMED_IMPORT_AFTER_COMMA":case"IMPORT_AFTER_COMMA":case"BEFORE_DEFAULT_EQUALS":case"AFTER_DEFAULT_EQUALS":case"AFTER_PROP":case"BEFORE_JUMP_LABEL":case"BEFORE_CATCH":case"BEFORE_CATCH_BINDING":case"AFTER_CATCH_BINDING":case"BEFORE_CLASS_NAME":case"BEFORE_EXTENDS":case"AFTER_EXTENDS":case"BEFORE_CLASS_DECLARATION_ELEMENTS":case"BEFORE_CLASS_EXPRESSION_ELEMENTS":case"AFTER_STATIC":case"BEFORE_TERNARY_QUESTION":case"AFTER_TERNARY_QUESTION":case"BEFORE_TERNARY_COLON":case"AFTER_TERNARY_COLON":case"AFTER_DO":case"BEFORE_DOWHILE_WHILE":case"AFTER_DOWHILE_WHILE":case"AFTER_FORIN_FOR":case"BEFORE_FORIN_IN":case"AFTER_FORIN_FOR":case"BEFORE_FORIN_BODY":case"AFTER_FOROF_FOR":case"BEFORE_FOROF_OF":case"AFTER_FOROF_FOR":case"BEFORE_FOROF_BODY":case"AFTER_FOR_FOR":case"BEFORE_FOR_TEST":case"BEFORE_FOR_UPDATE":case"BEFORE_FOR_BODY":case"BEFORE_FUNCTION_DECLARATION_BODY":case"BEFORE_FUNCTION_EXPRESSION_BODY":case"BEFORE_ARROW":case"AFTER_ARROW":case"AFTER_GET":case"BEFORE_GET_BODY":case"AFTER_IF":case"AFTER_IF_TEST":case"BEFORE_ELSE":case"AFTER_ELSE":case"BEFORE_IMPORT_BINDINGS":case"BEFORE_IMPORT_MODULE":case"AFTER_IMPORT_BINDINGS":case"AFTER_FROM":case"BEFORE_IMPORT_NAMESPACE":case"BEFORE_IMPORT_STAR":case"AFTER_IMPORT_STAR":case"AFTER_IMPORT_AS":case"AFTER_NAMESPACE_BINDING":case"BEFORE_IMPORT_AS":case"AFTER_IMPORT_AS":case"EXPORTS_AFTER_COMMA":case"BEFORE_EXPORT_STAR":case"AFTER_EXPORT_STAR":case"BEFORE_EXPORT_BINDINGS":case"AFTER_EXPORT_BINDINGS":case"AFTER_EXPORT":case"AFTER_EXPORT_DEFAULT":case"BEFORE_EXPORT_AS":case"AFTER_EXPORT_AS":case"AFTER_LABEL_COLON":case"BEFORE_METHOD_BODY":case"AFTER_NEW":case"RETURN":case"AFTER_SET":case"BEFORE_SET_BODY":case"BEFORE_SET_PARAMS":case"BEFORE_CASE_TEST":case"BEFORE_SWITCH_DISCRIM":case"BEFORE_SWITCH_BODY":case"THROW":case"AFTER_TRY":case"BEFORE_CATCH":case"BEFORE_FINALLY":case"AFTER_FINALLY":case"VARIABLE_DECLARATION":case"YIELD":case"AFTER_YIELD_STAR":case"DECLARATORS_AFTER_COMMA":case"BEFORE_INIT_EQUALS":case"AFTER_INIT_EQUALS":case"AFTER_WHILE":case"BEFORE_WHILE_BODY":case"AFTER_WITH":case"BEFORE_WITH_BODY":case"BEFORE_FUNCTION_NAME":case"AFTER_BINOP":case"BEFORE_ASSIGN_OP":case"AFTER_ASSIGN_OP":return this.t(" ");case"AFTER_STATEMENT":switch(separator.node.type){case"ForInStatement":case"ForOfStatement":case"ForStatement":case"WhileStatement":case"WithStatement":return empty();default:return new Linebreak}case"AFTER_CLASS_ELEMENT":case"BEFORE_CASE_BODY":case"AFTER_CASE_BODY":case"AFTER_DEFAULT_BODY":return new Linebreak;case"BEFORE_BINOP":return separator.op===","?empty():this.t(" ");case"UNARY":return separator.op==="delete"||separator.op==="void"||separator.op==="typeof"?this.t(" "):empty();default:return empty()}}}]);return FormattedCodeGen}(ExtensibleCodeGen)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonoidalReducer=exports.CloneReducer=undefined;exports.default=reduce;var _cloneReducer=__webpack_require__(74);Object.defineProperty(exports,"CloneReducer",{enumerable:true,get:function get(){return _cloneReducer.default}});var _monoidalReducer=__webpack_require__(75);Object.defineProperty(exports,"MonoidalReducer",{enumerable:true,get:function get(){return _monoidalReducer.default}});var _shiftSpec=__webpack_require__(20);var _shiftSpec2=_interopRequireDefault(_shiftSpec);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function transformWithSpec(transformer,node,spec){switch(spec.typeName){case"Enum":case"String":case"Number":case"Boolean":case"SourceSpan":return node;case"Const":return transformWithSpec(transformer,node,spec.argument);case"Maybe":return node&&transformWithSpec(transformer,node,spec.argument);case"List":return node.map(function(e){return transformWithSpec(transformer,e,spec.argument)});case"Union":return transformWithSpec(transformer,node,_shiftSpec2.default[node.type]);default:var state={};spec.fields.forEach(function(field){var v=transformWithSpec(transformer,node[field.name],field.type);state[field.name]=v==null?null:v});if(typeof transformer["reduce"+node.type]!=="function"){throw new Error("Encountered "+node.type+", which the provided reducer does not handle.")}return transformer["reduce"+node.type](node,state)}}function reduce(reducer,reducible){return transformWithSpec(reducer,reducible,_shiftSpec2.default[reducible.type])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _shiftSpec=__webpack_require__(20);var _shiftSpec2=_interopRequireDefault(_shiftSpec);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var CloneReducer=function CloneReducer(){_classCallCheck(this,CloneReducer)};exports.default=CloneReducer;for(var typeName in _shiftSpec2.default){var type=_shiftSpec2.default[typeName];Object.defineProperty(CloneReducer.prototype,"reduce"+typeName,{value:function value(node,state){return state}})}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _shiftSpec=__webpack_require__(20);var _shiftSpec2=_interopRequireDefault(_shiftSpec);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var methods={};function id(x){return x}function handlerForFieldOfType(type){switch(type.typeName){case"Enum":case"String":case"Boolean":case"Number":case"SourceSpan":return null;case"Const":return handlerForFieldOfType(type.argument);case"Maybe":{var _ret=function(){var subHandler=handlerForFieldOfType(type.argument);if(subHandler==null)return{v:null};return{v:function v(t){return t==null?this.identity:subHandler.call(this,t)}}}();if((typeof _ret==="undefined"?"undefined":_typeof(_ret))==="object")return _ret.v}case"List":{var _ret2=function(){var subHandler=handlerForFieldOfType(type.argument);if(subHandler==null)return{v:null};return{v:function v(t){var _this=this;return this.fold(t.map(function(x){return subHandler.call(_this,x)}))}}}();if((typeof _ret2==="undefined"?"undefined":_typeof(_ret2))==="object")return _ret2.v}default:return id}}var _loop=function _loop(typeName){var type=_shiftSpec2.default[typeName];var handlers={};type.fields.forEach(function(field){var handler=handlerForFieldOfType(field.type);if(handler!=null)handlers[field.name]=handler});var fieldNames=Object.keys(handlers);methods["reduce"+typeName]={value:function value(node,state){var _this3=this;return this.fold(fieldNames.map(function(fieldName){return handlers[fieldName].call(_this3,state[fieldName])}))}}};for(var typeName in _shiftSpec2.default){_loop(typeName)}var MonoidalReducer=function(){function MonoidalReducer(monoid){_classCallCheck(this,MonoidalReducer);this.identity=monoid.empty();var concat=monoid.prototype&&monoid.prototype.concat||monoid.concat;this.append=function(a,b){return concat.call(a,b)}}_createClass(MonoidalReducer,[{key:"fold",value:function fold(list,a){var _this2=this;return list.reduce(function(memo,x){return _this2.append(memo,x)},a==null?this.identity:a)}}]);return MonoidalReducer}();exports.default=MonoidalReducer;Object.defineProperties(MonoidalReducer.prototype,methods)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.TokenStream=undefined;var _esutils=__webpack_require__(7);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function numberDot(fragment){if(fragment.indexOf(".")<0&&fragment.indexOf("e")<0){return".."}return"."}function renderNumber(n){var s;if(n>=1e3&&n%10===0){s=n.toString(10);if(/[eE]/.test(s)){return s.replace(/[eE]\+/,"e")}return n.toString(10).replace(/0+$/,function(match){return"e"+match.length})}else if(n%1===0){if(n>1e15&&n<1e20){return"0x"+n.toString(16).toUpperCase()}return n.toString(10).replace(/[eE]\+/,"e")}else{return n.toString(10).replace(/^0\./,".").replace(/[eE]\+/,"e")}}var TokenStream=exports.TokenStream=function(){function TokenStream(){_classCallCheck(this,TokenStream);this.result="";this.lastNumber=null;this.lastChar=null;this.optionalSemi=false}_createClass(TokenStream,[{key:"putNumber",value:function putNumber(number){var tokenStr=renderNumber(number);this.put(tokenStr);this.lastNumber=tokenStr}},{key:"putOptionalSemi",value:function putOptionalSemi(){this.optionalSemi=true}},{key:"put",value:function put(tokenStr){if(this.optionalSemi){this.optionalSemi=false;if(tokenStr!=="}"){this.put(";")}}if(this.lastNumber!==null&&tokenStr.length==1){if(tokenStr==="."){this.result+=numberDot(this.lastNumber);this.lastNumber=null;this.lastChar=".";return}}this.lastNumber=null;var rightChar=tokenStr.charAt(0);var lastChar=this.lastChar;this.lastChar=tokenStr.charAt(tokenStr.length-1);if(lastChar&&((lastChar=="+"||lastChar=="-")&&lastChar==rightChar||_esutils.code.isIdentifierPartES6(lastChar.charCodeAt(0))&&_esutils.code.isIdentifierPartES6(rightChar.charCodeAt(0))||lastChar=="/"&&rightChar=="i")){this.result+=" "}this.result+=tokenStr}}]);return TokenStream}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.operatorLt=operatorLt;exports.getOperatorPrec=getOperatorPrec;exports.getOperatorAssoc=getOperatorAssoc;exports.isUnaryOperator=isUnaryOperator;exports.isOperator=isOperator;const unaryOperators={"+":true,"-":true,"!":true,"~":true,"++":true,"--":true,typeof:true,void:true,delete:true};const binaryOperatorPrecedence={"*":14,"/":14,"%":14,"+":13,"-":13,">>":12,"<<":12,">>>":12,"<":11,"<=":11,">":11,">=":11,in:11,instanceof:11,"==":10,"!=":10,"===":10,"!==":10,"&":9,"^":8,"|":7,"&&":6,"||":5};var operatorAssoc={"*":"left","/":"left","%":"left","+":"left","-":"left",">>":"left","<<":"left",">>>":"left","<":"left","<=":"left",">":"left",">=":"left",in:"left",instanceof:"left","==":"left","!=":"left","===":"left","!==":"left","&":"left","^":"left","|":"left","&&":"left","||":"left"};function operatorLt(left,right,assoc){if(assoc==="left"){return left<right}else{return left<=right}}function getOperatorPrec(op){return binaryOperatorPrecedence[op]}function getOperatorAssoc(op){return operatorAssoc[op]}function isUnaryOperator(op){return(op.match("punctuator")||op.match("identifier")||op.match("keyword"))&&unaryOperators.hasOwnProperty(op.val())}function isOperator(op){if(op.match("punctuator")||op.match("identifier")||op.match("keyword")){return binaryOperatorPrecedence.hasOwnProperty(op)||unaryOperators.hasOwnProperty(op.val())}return false}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _sweetSpec=__webpack_require__(2);var S=_interopRequireWildcard(_sweetSpec);var _immutable=__webpack_require__(1);var _enforester=__webpack_require__(23);var _termExpander=__webpack_require__(22);var _termExpander2=_interopRequireDefault(_termExpander);var _env=__webpack_require__(16);var _env2=_interopRequireDefault(_env);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _terms=__webpack_require__(14);var T=_interopRequireWildcard(_terms);var _symbol=__webpack_require__(13);var _transforms=__webpack_require__(8);var _loadSyntax=__webpack_require__(24);var _scope=__webpack_require__(12);var _syntax=__webpack_require__(4);var _astDispatcher=__webpack_require__(25);var _astDispatcher2=_interopRequireDefault(_astDispatcher);var _syntax2=__webpack_require__(4);var _syntax3=_interopRequireDefault(_syntax2);var _scopeReducer=__webpack_require__(10);var _scopeReducer2=_interopRequireDefault(_scopeReducer);var _moduleVisitor=__webpack_require__(79);var _moduleVisitor2=_interopRequireDefault(_moduleVisitor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}class RegisterBindingsReducer extends S.default.CloneReducer{constructor(useScope,phase,skipDup,bindings,env){super();this.useScope=useScope;this.phase=phase;this.bindings=bindings;this.skipDup=skipDup;this.env=env}reduceBindingIdentifier(t,s){let newName=s.name.removeScope(this.useScope,this.phase);let newBinding=(0,_symbol.gensym)(newName.val());this.bindings.add(newName,{binding:newBinding,phase:this.phase,skipDup:this.skipDup});this.env.set(newBinding.toString(),new _transforms.VarBindingTransform(newName));return t.extend({name:newName})}}class RegisterSyntaxBindingsReducer extends S.default.CloneReducer{constructor(useScope,phase,bindings,env,val){super();this.useScope=useScope;this.phase=phase;this.bindings=bindings;this.env=env;this.val=val}reduceBindingIdentifier(t,s){let newName=s.name.removeScope(this.useScope,this.phase);let newBinding=(0,_symbol.gensym)(newName.val());this.bindings.add(newName,{binding:newBinding,phase:this.phase,skipDup:false});let resolvedName=newName.resolve(this.phase);this.env.set(resolvedName,new _transforms.CompiletimeTransform(this.val));return t.extend({name:newName})}}class TokenExpander extends _astDispatcher2.default{constructor(context){super("expand",false);this.context=context}expand(stxl){let result=[];if(stxl.size===0){return(0,_immutable.List)(result)}let prev=(0,_immutable.List)();let enf=new _enforester.Enforester(stxl,prev,this.context);while(!enf.done){result.push(this.dispatch(enf.enforest()))}return(0,_immutable.List)(result)}expandVariableDeclarationStatement(term){return term.extend({declaration:this.registerVariableDeclaration(term.declaration)})}expandFunctionDeclaration(term){return this.registerFunctionOrClass(term)}registerImport(term){let path=term.moduleSpecifier.val();let mod;let visitor=new _moduleVisitor2.default(this.context);if(term.forSyntax){mod=this.context.loader.get(path,this.context.phase+1,this.context.cwd);this.context.store=visitor.visit(mod,this.context.phase+1,this.context.store,mod.path);this.context.store=visitor.invoke(mod,this.context.phase+1,this.context.store,mod.path)}else{mod=this.context.loader.get(path,this.context.phase,this.context.cwd);this.context.store=visitor.visit(mod,this.context.phase,this.context.store,mod.path)}(0,_moduleVisitor.bindImports)(term,mod,this.context.phase,this.context,this.context.isEntrypoint);let defaultBinding=null;let namedImports=(0,_immutable.List)();if(term.defaultBinding!=null){if(!(0,_moduleVisitor.isBoundToCompiletime)(term.defaultBinding.name,this.context.store)){defaultBinding=term.defaultBinding}}if(term instanceof S.Import){namedImports=term.namedImports.filter(specifier=>!(0,_moduleVisitor.isBoundToCompiletime)(specifier.binding.name,this.context.store));if(defaultBinding==null&&namedImports.size===0){return new S.EmptyStatement}return new S.Import({forSyntax:term.forSyntax,moduleSpecifier:term.moduleSpecifier,defaultBinding:defaultBinding,namedImports:namedImports})}else if(term instanceof S.ImportNamespace){return new S.ImportNamespace({forSyntax:term.forSyntax,moduleSpecifier:term.moduleSpecifier,defaultBinding:defaultBinding,namespaceBinding:term.namespaceBinding})}return term}expandImport(term){return this.registerImport(term)}expandImportNamespace(term){return this.registerImport(term)}expandExport(term){if(T.isFunctionDeclaration(term.declaration)||T.isClassDeclaration(term.declaration)){return term.extend({declaration:this.registerFunctionOrClass(term.declaration)})}else if(T.isVariableDeclaration(term.declaration)){return term.extend({declaration:this.registerVariableDeclaration(term.declaration)})}return term}registerFunctionOrClass(term){let red=new RegisterBindingsReducer(this.context.useScope,this.context.phase,false,this.context.bindings,this.context.env);return term.extend({name:term.name.reduce(red)})}registerVariableDeclaration(term){if(term.kind==="syntax"||term.kind==="syntaxrec"||term.kind==="operator"){return this.registerSyntaxDeclaration(term)}let red=new RegisterBindingsReducer(this.context.useScope,this.context.phase,term.kind==="var",this.context.bindings,this.context.env);return term.extend({declarators:term.declarators.map(decl=>{return decl.extend({binding:decl.binding.reduce(red)})})})}registerSyntaxDeclaration(term){if(term.kind==="syntax"||term.kind==="operator"){let scope=(0,_scope.freshScope)("nonrec");let scopeReducer=new _scopeReducer2.default([{scope:scope,phase:_syntax.ALL_PHASES,flip:false}],this.context.bindings);term=term.extend({declarators:term.declarators.map(decl=>{let name=decl.binding.name;let nameAdded=name.addScope(scope,this.context.bindings,_syntax.ALL_PHASES);let nameRemoved=name.removeScope(this.context.currentScope[this.context.currentScope.length-1],this.context.phase);let newBinding=(0,_symbol.gensym)(name.val());this.context.bindings.addForward(nameAdded,nameRemoved,newBinding,this.context.phase);return decl.extend({init:decl.init.reduce(scopeReducer)})})})}let compiletimeType=term.kind==="operator"?"operator":"syntax";return term.extend({declarators:term.declarators.map(decl=>{let syntaxExpander=new _termExpander2.default(_.merge(this.context,{phase:this.context.phase+1,env:new _env2.default,store:this.context.store}));let init=syntaxExpander.expand(decl.init);let val=(0,_loadSyntax.evalCompiletimeValue)(init,_.merge(this.context,{phase:this.context.phase+1}));let red=new RegisterSyntaxBindingsReducer(this.context.useScope,this.context.phase,this.context.bindings,this.context.env,{type:compiletimeType,prec:decl.prec==null?void 0:decl.prec.val(),assoc:decl.assoc==null?void 0:decl.assoc.val(),f:val});return decl.extend({binding:decl.binding.reduce(red),init:init})})})}}exports.default=TokenExpander},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isBoundToCompiletime=isBoundToCompiletime;exports.bindImports=bindImports;var _loadSyntax=__webpack_require__(24);var _ramda=__webpack_require__(0);var _=_interopRequireWildcard(_ramda);var _sweetSpec=__webpack_require__(2);var T=_interopRequireWildcard(_sweetSpec);var _sweetSpecUtils=__webpack_require__(33);var S=_interopRequireWildcard(_sweetSpecUtils);var _symbol=__webpack_require__(13);var _transforms=__webpack_require__(8);var _hygieneUtils=__webpack_require__(80);var _sweetModule=__webpack_require__(17);var _sweetModule2=_interopRequireDefault(_sweetModule);var _immutable=__webpack_require__(1);var _sweetToShiftReducer=__webpack_require__(21);var _sweetToShiftReducer2=_interopRequireDefault(_sweetToShiftReducer);var _shiftCodegen=__webpack_require__(18);var _shiftCodegen2=_interopRequireDefault(_shiftCodegen);var _syntax=__webpack_require__(4);var _syntax2=_interopRequireDefault(_syntax);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function isBoundToCompiletime(name,store){let resolvedName=name.resolve(0);if(store.has(resolvedName)){return store.get(resolvedName)instanceof _transforms.CompiletimeTransform}return false}function bindImports(impTerm,exModule,phase,context,isEntrypoint){let names=[];let phaseToBind=impTerm.forSyntax?phase+1:phase;if(impTerm.defaultBinding!=null&&impTerm instanceof T.Import){let name=impTerm.defaultBinding.name;let exportName=exModule.exportedNames.find(exName=>exName.exportedName.val()==="_default");if(exportName!=null){let newBinding=(0,_symbol.gensym)("_default");let toForward=exportName.exportedName;if(!isEntrypoint||isBoundToCompiletime(toForward,context.store)||impTerm.forSyntax){context.bindings.addForward(name,toForward,newBinding,phaseToBind)}names.push(name)}}if(impTerm.namedImports){impTerm.namedImports.forEach(specifier=>{let name=specifier.binding.name;let exportName=exModule.exportedNames.find(exName=>exName.exportedName.val()===name.val());if(exportName!=null){let newBinding=(0,_symbol.gensym)(name.val());let toForward=exportName.name?exportName.name:exportName.exportedName;if(!isEntrypoint||isBoundToCompiletime(toForward,context.store)||impTerm.forSyntax){context.bindings.addForward(name,toForward,newBinding,phaseToBind)}names.push(name)}})}if(impTerm.namespaceBinding){let name=impTerm.namespaceBinding.name;let newBinding=(0,_symbol.gensym)(name.val());context.store.set(newBinding.toString(),new _transforms.ModuleNamespaceTransform(name,exModule));context.bindings.add(name,{binding:newBinding,phase:phaseToBind,skipDup:false});names.push(name)}return(0,_immutable.List)(names)}exports.default=class{constructor(context){this.context=context}visit(mod,phase,store,cwd){mod.imports.forEach(imp=>{if(imp.forSyntax){let mod=this.context.loader.get(imp.moduleSpecifier.val(),phase+1,cwd);this.visit(mod,phase+1,store,mod.path);this.invoke(mod,phase+1,store,mod.path)}else{let mod=this.context.loader.get(imp.moduleSpecifier.val(),phase,cwd);this.visit(mod,phase,store,mod.path)}bindImports(imp,mod,phase,this.context,false)});for(let term of mod.compiletimeItems()){if(S.isSyntaxDeclarationStatement(term)){this.registerSyntaxDeclaration(term.declaration,phase,store)}}return store}invoke(mod,phase,store,cwd){if(this.context.invokedRegistry.containsAt(mod.path,phase)){return store}mod.imports.forEach(imp=>{if(!imp.forSyntax){let mod=this.context.loader.get(imp.moduleSpecifier.val(),phase,cwd);this.invoke(mod,phase,store,mod.path);bindImports(imp,mod,phase,this.context,false)}});let items=mod.runtimeItems();for(let term of items){if(S.isVariableDeclarationStatement(term)){this.registerVariableDeclaration(term.declaration,phase,store)}else if(S.isFunctionDeclaration(term)){this.registerFunctionOrClass(term,phase,store)}}let parsed=new T.Module({directives:(0,_immutable.List)(),items:items}).reduce(new _sweetToShiftReducer2.default(phase));let gen=(0,_shiftCodegen2.default)(parsed,new _shiftCodegen.FormattedCodeGen);let result=this.context.transform(gen);this.context.loader.eval(result.code,store);this.context.invokedRegistry.add(mod.path,phase);return store}registerSyntaxDeclaration(term,phase,store){term.declarators.forEach(decl=>{let val=(0,_loadSyntax.evalCompiletimeValue)(decl.init,_.merge(this.context,{phase:phase+1,store:store}));(0,_hygieneUtils.collectBindings)(decl.binding).forEach(stx=>{if(phase!==0){let newBinding=(0,_symbol.gensym)(stx.val());this.context.bindings.add(stx,{binding:newBinding,phase:phase,skipDup:false})}let resolvedName=stx.resolve(phase);let compiletimeType=term.kind==="operator"?"operator":"syntax";store.set(resolvedName,new _transforms.CompiletimeTransform({type:compiletimeType,prec:decl.prec==null?void 0:decl.prec.val(),assoc:decl.assoc==null?void 0:decl.assoc.val(),f:val}))})})}registerVariableDeclaration(term,phase,store){term.declarators.forEach(decl=>{(0,_hygieneUtils.collectBindings)(decl.binding).forEach(stx=>{if(phase!==0){let newBinding=(0,_symbol.gensym)(stx.val());this.context.bindings.add(stx,{binding:newBinding,phase:phase,skipDup:term.kind==="var"})}})})}registerFunctionOrClass(term,phase,store){(0,_hygieneUtils.collectBindings)(term.name).forEach(stx=>{if(phase!==0){let newBinding=(0,_symbol.gensym)(stx.val());this.context.bindings.add(stx,{binding:newBinding,phase:phase,skipDup:false})}})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CollectBindingSyntax=undefined;exports.collectBindings=collectBindings;var _immutable=__webpack_require__(1);var _astDispatcher=__webpack_require__(25);var _astDispatcher2=_interopRequireDefault(_astDispatcher);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class CollectBindingSyntax extends _astDispatcher2.default{constructor(){super("collect",true);this.names=(0,_immutable.List)()}collect(term){return this.dispatch(term)}collectBindingIdentifier(term){return this.names.concat(term.name)}collectBindingPropertyIdentifier(term){return this.collect(term.binding)}collectBindingPropertyProperty(term){return this.collect(term.binding)}collectArrayBinding(term){let restElement=null;if(term.restElement!=null){restElement=this.collect(term.restElement)}return this.names.concat(restElement).concat(term.elements.filter(el=>el!=null).flatMap(el=>this.collect(el)))}collectObjectBinding(){return(0,_immutable.List)()}}exports.CollectBindingSyntax=CollectBindingSyntax;function collectBindings(term){return(new CollectBindingSyntax).collect(term)}},function(module,exports,__webpack_require__){var indexOf=__webpack_require__(82);var Object_keys=function(obj){if(Object.keys)return Object.keys(obj);else{var res=[];for(var key in obj)res.push(key);return res}};var forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);else for(var i=0;i<xs.length;i++){fn(xs[i],i,xs)}};var defineProp=function(){try{Object.defineProperty({},"_",{});return function(obj,name,value){Object.defineProperty(obj,name,{writable:true,enumerable:false,configurable:true,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}();var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function NodeScript(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context)){throw new TypeError("needs a 'context' argument.")}var iframe=document.createElement("iframe");if(!iframe.style)iframe.style={};iframe.style.display="none";document.body.appendChild(iframe);var win=iframe.contentWindow;var wEval=win.eval,wExecScript=win.execScript;if(!wEval&&wExecScript){wExecScript.call(win,"null");wEval=win.eval}forEach(Object_keys(context),function(key){win[key]=context[key]});forEach(globals,function(key){if(context[key]){win[key]=context[key]}});var winKeys=Object_keys(win);var res=wEval.call(win,this.code);forEach(Object_keys(win),function(key){if(key in context||indexOf(winKeys,key)===-1){context[key]=win[key]}});forEach(globals,function(key){if(!(key in context)){defineProp(context,key,win[key])}});document.body.removeChild(iframe);return res};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context);var res=this.runInContext(ctx);forEach(Object_keys(ctx),function(key){context[key]=ctx[key]});return res};forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}});exports.createScript=function(code){return exports.Script(code)};exports.createContext=Script.createContext=function(context){var copy=new Context;if(typeof context==="object"){forEach(Object_keys(context),function(key){copy[key]=context[key]})}return copy}},function(module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}},function(module,exports){module.exports="import { \n\tunwrap, isIdentifier, isBrackets, isBraces, isParens, isPunctuator, isKeyword, fromStringLiteral, fromIdentifier, \n\tunwrapped, nextClassName, parseType, nextType\n} from 'sweet.js/helpers' for syntax;\n\nsyntax $ = ctx => {\n\tconst container = ctx.next().value;\n\n\tif (isParens(container)) { // associatedObject\n\t\tconst contCtx = ctx.contextify(container);\n\t\tconst objNameValue = contCtx.next().value;\n\t\tif (!isIdentifier(objNameValue)) throw new Error(\"Expected identifier as associatedObject name\");\n\t\tconst objName = unwrapped(objNameValue);\n\t\t// use objNameValue as lex context\n\t\tconst objNameLiteral = fromStringLiteral(objNameValue, objName);\n\t\tconst marker = ctx.mark();\n\t\tconst equals = unwrapped(ctx.next().value);\n\t\tlet val = #``;\n\t\tif (equals === '=') {\n\t\t\tval = ctx.expand('expr').value;\n\t\t} else {\n\t\t\tctx.reset(marker);\n\t\t}\n\t\tconst selfIdentifier = fromIdentifier(objNameValue, \"self\");\n\t\t// without third argument, returns obj value. with third argument, sets obj value\n\t\treturn #`associatedObject(${selfIdentifier}, ${objNameLiteral}, ${val})`\n\t}\n\n\tif (!isBrackets(container)) throw new Error('Expected square brackets');\n\t\n\tconst value = ctx.contextify(container);\n\t\n\tconst marker = value.mark();\n\tconst id = value.next().value;\n\tvalue.reset(marker);\n\tlet target = value.expand('expr').value;\n\tlet msgFunc = #`msgSend`;\n\n\tconst dummy = id; // use id as the lexical context\n\n\tif (target.type === \"Super\") {\n\t\ttarget = fromIdentifier(dummy, \"self\");\n\t\tmsgFunc = #`msgSendSuper`;\n\t} else if (target.type === \"IdentifierExpression\") {\n\t\tconst targetLiteral = fromStringLiteral(dummy, unwrapped(id));\n\t\ttarget = #`(typeof ${target} === \"undefined\") ? cls(${targetLiteral}) : ${target}`;\n\t}\n\t\n\tlet sel = '';\n\tlet args = #``;\n\tlet _first = true;\n\twhile (true) {\n\t\tconst first = _first;\n\t\t_first = false;\n\t\t\n\t\tconst selPartVal = value.next().value;\n\t\tconst isNewKeyword = isKeyword(selPartVal) && unwrapped(selPartVal) === 'new';\n\t\tif (selPartVal === null) {\n\t\t\tif (first) throw new Error('Expected selector');\n\t\t\tbreak;\n\t\t} else if (!isIdentifier(selPartVal) && !isNewKeyword) {\n\t\t\tthrow new Error('Expected selector to be identifier but got ' + JSON.stringify(selPartVal));\n\t\t}\n\t\t\n\t\tconst selPart = unwrapped(selPartVal);\n\t\tif (selPart === ':') {\n\t\t\tselPart = '';\n\t\t} else {\n\t\t\tconst colon = value.next().value;\n\t\t\tif (unwrapped(colon) !== ':') {\n\t\t\t\tif (first && colon === null) {\n\t\t\t\t\tsel += selPart;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthrow new Error('Expected `:`');\n\t\t\t}\n\t\t}\n\t\tsel += selPart + ':';\n\t\t\n\t\tconst next = value.expand('expr').value;\n\t\tif (next === null) throw new Error('Expected argument');\n\t\targs = args.concat(#`${next},`);\n\t}\n\t\n\tconst selLiteral = fromStringLiteral(dummy, sel);\n\treturn #`${msgFunc}(${target}, ${selLiteral}, ${args})`;\n};\n\nsyntax $orig = ctx => {\n\tlet finalArgs;\n\n\tconst args = ctx.next().value;\n\tif (!isParens(args)) throw new Error(\"Expected parentheses after $orig\");\n\n\tconst firstArg = ctx.contextify(args).next().value;\n\t// Use all args passed in to method if _ is specified.\n\t// isIdentifier ensures that it's _ by itself, not in a string like \"_\"\n\tif (isIdentifier(firstArg) && unwrapped(firstArg) === '_') {\n\t\t// Converts arguments into a proper array with spread operator\n\t\t// Also slices from 2nd idx to ignore _orig and self args\n\t\tfinalArgs = #`[...arguments].slice(2)`;\n\t} else {\n\t\t// Otherwise use the args passed to $orig\n\t\tlet argList = #``;\n\t\tconst argsCtx = ctx.contextify(args);\n\t\twhile (true) {\n\t\t\tconst marker = argsCtx.mark();\n\t\t\tconst token = argsCtx.next().value;\n\t\t\tif (isPunctuator(token) && unwrapped(token) === ',') continue;\n\t\t\targsCtx.reset(marker);\n\t\t\tconst val = argsCtx.expand('expr').value;\n\t\t\tif (val === null) break;\n\t\t\targList = argList.concat(#`${val},`);\n\t\t}\n\t\tfinalArgs = #`[${argList}]`;\n\t}\n\n\t// use firstArg as the lexical context for orig\n\tconst origIdentifier = fromIdentifier(firstArg, \"orig\");\n\n\treturn #`${origIdentifier}(${finalArgs})`;\n}\n\nsyntax $class = ctx => {\n\tconst dummy = #`x`.get(0);\n\tconst makeStringLiteral = v => fromStringLiteral(dummy, v);\n\t\n\tconst name = nextClassName(ctx);\n\tconst nameLiteral = makeStringLiteral(name);\n\t\n\tconst colon = unwrapped(ctx.next().value);\n\tif (colon !== \":\") {\n\t\tthrow new Error('Class \\'' + name + '\\' defined without specifying a base class');\n\t}\n\t\n\tconst superclass = nextClassName(ctx);\n\tconst superclassLiteral = makeStringLiteral(superclass);\n\t\n\tlet protocols = #``;\n\tconst protoMarker = ctx.mark();\n\tconst bracket = unwrapped(ctx.next().value);\n\tif (bracket === \"<\") {\n\t\twhile (true) {\n\t\t\tconst protoName = nextClassName(ctx);\n\t\t\tconst delim = unwrapped(ctx.next().value);\n\t\t\tconst protoLiteral = makeStringLiteral(protoName);\n\t\t\tprotocols = protocols.concat(#`${protoLiteral},`);\n\t\t\tif (delim === \">\") break;\n\t\t}\n\t} else {\n\t\tctx.reset(protoMarker);\n\t}\n\t\n\tlet associatedObjects = #``;\n\tconst objMarker = ctx.mark();\n\tconst objList = ctx.next().value;\n\tif (isBraces(objList)) {\n\t\tconst objCtx = ctx.contextify(objList);\n\t\tlet typeList = [];\n\t\twhile (true) {\n\t\t\tconst typeVal = objCtx.next().value;\n\t\t\tconst type = unwrapped(typeVal);\n\t\t\tif (type === undefined) {\n\t\t\t\tbreak;\n\t\t\t} else if (isPunctuator(typeVal) && type === ';' && typeList.length > 1) {\n\t\t\t\tconst objName = typeList.pop();\n\t\t\t\tconst typeName = typeList.join(' ');\n\t\t\t\tconst parsedType = parseType(typeName);\n\t\t\t\t\n\t\t\t\ttypeList = [];\n\t\t\t\t\n\t\t\t\tconst objLiteral = makeStringLiteral(objName);\n\t\t\t\tconst typeLiteral = makeStringLiteral(parsedType);\n\t\t\t\t\n\t\t\t\tassociatedObjects = associatedObjects.concat(#`${objLiteral}: ${typeLiteral},`);\n\t\t\t} else if (isIdentifier(typeVal)) {\n\t\t\t\ttypeList.push(type);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Expected type or identifier\");\n\t\t\t}\n\t\t}\n\t} else {\n\t\tctx.reset(objMarker);\n\t}\n\t\n\tlet methods = #``;\n\t// loop through all methods\n\twhile (true) {\n\t\tlet sig = '';\n\t\tlet sel = '';\n\t\t\n\t\tconst indicator = unwrapped(ctx.next().value);\n\t\tif (indicator === '$end') break;\n\t\telse if (indicator === '+' || indicator === '-') sel += indicator;\n\t\telse throw new Error('Expected method but found \\'' + indicator + '\\'');\n\t\t\n\t\t// return type\n\t\tsig += nextType(ctx);\n\t\tsig += parseType('id') + parseType('SEL'); // implicit (id)self & (SEL)_cmd args\n\n\t\tlet argNames = #``;\n\t\tlet body;\n\t\t\n\t\tlet idx = 0;\n\t\t// loop through sel parts\n\t\twhile (true) {\n\t\t\tconst selPartOrBody = ctx.next().value;\n\t\t\tconst selPart = unwrapped(selPartOrBody);\n\t\t\tif (typeof selPart !== 'string') {\n\t\t\t\tif (idx !== 0) {\n\t\t\t\t\tbody = selPartOrBody;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthrow new Error('Expected method name');\n\t\t\t}\n\t\t\tsel += selPart;\n\t\t\tconst wrappedSep = ctx.next().value;\n\t\t\tconst sep = unwrapped(wrappedSep);\n\t\t\tif (sep !== \":\") {\n\t\t\t\tif (idx === 0) {\n\t\t\t\t\tbody = wrappedSep;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthrow new Error('Expected \\':\\'');\n\t\t\t}\n\t\t\tsel += \":\";\n\t\t\tsig += nextType(ctx);\n\t\t\t\n\t\t\tconst argName = ctx.next().value;\n\t\t\tif (!isIdentifier(argName)) throw new Error('Expected identifier');\n\t\t\targNames = argNames.concat(argName);\n\t\t\tidx++;\n\t\t}\n\t\t\n\t\t// So that self has the same \"_foo\" appended to it\n\t\tconst selfIdentifier = fromIdentifier(unwrapped(body).get(0), \"self\");\n\n\t\tconst sigLiteral = makeStringLiteral(sig + sel);\n\t\tif (!isBraces(body)) throw new Error('Expected method body');\n\t\tmethods = methods.concat(#`${sigLiteral}: function (${selfIdentifier}, ${argNames}) ${body},`);\n\t}\n\t\n\treturn #`defineClass(${nameLiteral}, ${superclassLiteral}, [${protocols}], {${associatedObjects}}, {${methods}})`;\n};\n\nsyntax $hook = ctx => {\n\tconst dummy = #`x`.get(0);\n\tconst makeStringLiteral = v => fromStringLiteral(dummy, v);\n\t\n\tconst name = nextClassName(ctx);\n\tconst nameLiteral = makeStringLiteral(name);\n\t\n\tlet associatedObjects = #``;\n\tconst objMarker = ctx.mark();\n\tconst objList = ctx.next().value;\n\tif (isBraces(objList)) {\n\t\tconst objCtx = ctx.contextify(objList);\n\t\tlet typeList = [];\n\t\twhile (true) {\n\t\t\tconst typeVal = objCtx.next().value;\n\t\t\tconst type = unwrapped(typeVal);\n\t\t\tif (type === undefined) {\n\t\t\t\tbreak;\n\t\t\t} else if (isPunctuator(typeVal) && type === ';' && typeList.length > 1) {\n\t\t\t\tconst objName = typeList.pop();\n\t\t\t\tconst typeName = typeList.join(' ');\n\t\t\t\tconst parsedType = parseType(typeName);\n\t\t\t\t\n\t\t\t\ttypeList = [];\n\t\t\t\t\n\t\t\t\tconst objLiteral = makeStringLiteral(objName);\n\t\t\t\tconst typeLiteral = makeStringLiteral(parsedType);\n\t\t\t\t\n\t\t\t\tassociatedObjects = associatedObjects.concat(#`${objLiteral}: ${typeLiteral},`);\n\t\t\t} else if (isIdentifier(typeVal)) {\n\t\t\t\ttypeList.push(type);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Expected type or identifier\");\n\t\t\t}\n\t\t}\n\t} else {\n\t\tctx.reset(objMarker);\n\t}\n\n\tlet methods = #``;\n\t// loop through all methods\n\twhile (true) {\n\t\tlet sel = '';\n\t\t\n\t\tconst indicator = unwrapped(ctx.next().value);\n\t\tif (indicator === '$end') break;\n\t\telse if (indicator === '+' || indicator === '-') sel += indicator;\n\t\telse throw new Error('Expected method but found \\'' + indicator + '\\'');\n\n\t\t// nextType(ctx); // eat return type (inferred at runtime)\n\n\t\tlet argNames = #``;\n\t\tlet body;\n\t\t\n\t\tlet idx = 0;\n\t\t// loop through sel parts\n\t\twhile (true) {\n\t\t\tconst selPartOrBody = ctx.next().value;\n\t\t\tconst selPart = unwrapped(selPartOrBody);\n\t\t\tif (typeof selPart !== 'string') {\n\t\t\t\tif (idx !== 0) {\n\t\t\t\t\tbody = selPartOrBody;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthrow new Error('Expected method name');\n\t\t\t}\n\t\t\tsel += selPart;\n\t\t\tconst wrappedSep = ctx.next().value;\n\t\t\tconst sep = unwrapped(wrappedSep);\n\t\t\tif (sep !== \":\") {\n\t\t\t\tif (idx === 0) {\n\t\t\t\t\tbody = wrappedSep;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthrow new Error('Expected \\':\\'');\n\t\t\t}\n\t\t\tsel += \":\";\n\t\t\t// nextType(ctx); // eat arg type (inferred at runtime)\n\t\t\t\n\t\t\tconst argName = ctx.next().value;\n\t\t\tif (!isIdentifier(argName)) throw new Error('Expected identifier');\n\t\t\targNames = argNames.concat(argName);\n\t\t\tidx++;\n\t\t}\n\t\t\n\t\tconst lexicalContext = unwrapped(body).get(0);\n\t\t// So that self and _orig have the same \"_foo\" appended to it\n\t\tconst selfIdentifier = fromIdentifier(lexicalContext, \"self\");\n\t\tconst origIdentifier = fromIdentifier(lexicalContext, \"orig\");\n\n\t\tconst selLiteral = makeStringLiteral(sel);\n\t\tif (!isBraces(body)) throw new Error('Expected method body');\n\t\tmethods = methods.concat(\n\t\t\t#`${selLiteral}: function (${origIdentifier}, ${selfIdentifier}, ${argNames}) ${body},`\n\t\t);\n\t}\n\t\n\treturn #`hookClass(${nameLiteral}, {${associatedObjects}}, {${methods}})`;\n};\n"},function(module,exports){module.exports="'lang sweet.js';\n\nexport function unwrapped(obj) {\n\treturn unwrap(obj).value;\n}\n\n// Validate the identifier and unwrap it if it's valid\nfunction nextIdentifier(ctx) {\n\tconst id = ctx.next().value;\n\tconst unwrappedID = unwrapped(id);\n\tif (!isIdentifier(id)) {\n\t\tthrow new Error('Invalid identifier: \\'' + unwrappedID + '\\'');\n\t}\n\treturn unwrappedID;\n}\n\nexport function nextClassName(ctx) {\n\tlet classNameParts = [];\n\twhile (true) {\n\t\tclassNameParts.push(nextIdentifier(ctx));\n\t\tconst marker = ctx.mark();\n\t\tconst dot = unwrapped(ctx.next().value);\n\t\tif (dot !== '.') {\n\t\t\tctx.reset(marker);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn classNameParts.join(\".\");\n}\n\nexport function parseType(typeName) {\n\tconst types = {\n\t\t'char': 'c',\n\t\t'int': 'i',\n\t\t'short': 's',\n\t\t'long': 'l',\n\t\t'long long': 'q',\n\t\t'unsigned char': 'C',\n\t\t'unsigned int': 'I',\n\t\t'unsigned short': 'S',\n\t\t'unsigned long': 'L',\n\t\t'unsigned long long': 'Q',\n\t\t'float': 'f',\n\t\t'double': 'd',\n\t\t'BOOL': 'B',\n\t\t'void': 'v',\n\t\t'char *': '*',\n\t\t'id': '@',\n\t\t'Class': '#',\n\t\t'SEL': ':'\n\t\t// TODO: Maybe add support for structs, arrays, ptrs?\n\t};\n\t\n\tconst type = types[typeName];\n\tif (type === undefined) throw new Error('Unknown type \\'' + typeName + '\\'');\n\treturn type;\n}\n\nexport function nextType(ctx) {\n\tconst container = ctx.contextify(ctx.next().value);\n\tlet typeName = \"\";\n\tlet idx = 0;\n\twhile (true) {\n\t\tconst v = unwrapped(container.next().value);\n\t\tif (typeof v !== 'string') {\n\t\t\tif (idx !== 0) break;\n\t\t\tthrow new Error('Expected type');\n\t\t}\n\t\ttypeName += (idx === 0 ? '' : ' ') + v;\n\t\tidx++;\n\t}\n\treturn parseType(typeName);\n}\n"},function(module,exports){module.exports="'lang sweet.js';\n\nvar TypeCodes = {\n  Identifier: 0,\n  Keyword: 1,\n  Punctuator: 2,\n  NumericLiteral: 3,\n  StringLiteral: 4,\n  TemplateElement: 5,\n  Template: 6,\n  RegExp: 7,\n};\n\nfunction check(obj, type) {\n  return obj && obj.type === 'RawSyntax' && obj.value.token.typeCode === type;\n}\n\nexport function unwrap(obj) {\n  var hasTok = obj && obj.value && obj.value.token;\n  if (hasTok && obj.value.token.typeCode === TypeCodes.StringLiteral) {\n    return {\n      value: obj.value.token.str,\n    };\n  } else if (hasTok && obj.value.token.typeCode !== TypeCodes.Template) {\n    return {\n      value: obj.value.token.value,\n    };\n  } else if (hasTok && obj.value.token.typeCode === TypeCodes.Template) {\n    return {\n      value: obj.value.token.items,\n    };\n  } else if (obj && obj.type === 'RawDelimiter') {\n    return {\n      value: obj.inner,\n    };\n  }\n  return {};\n}\n\nexport function isIdentifier(obj) {\n  return check(obj, TypeCodes.Identifier);\n}\n\nexport function fromIdentifier(obj, x) {\n  return obj.value.fromIdentifier(x);\n}\n\nexport function isKeyword(obj) {\n  return check(obj, TypeCodes.Keyword);\n}\n\nexport function fromKeyword(obj, x) {\n  return obj.value.fromKeyword(x);\n}\n\nexport function isPunctuator(obj) {\n  return check(obj, TypeCodes.Punctuator);\n}\n\nexport function fromPunctuator(obj, x) {\n  return obj.value.fromPunctuator(x);\n}\n\nexport function isNumericLiteral(obj) {\n  return check(obj, TypeCodes.NumericLiteral);\n}\n\nexport function fromNumericLiteral(obj, x) {\n  return obj.value.fromNumber(x);\n}\n\nexport function isStringLiteral(obj) {\n  return check(obj, TypeCodes.StringLiteral);\n}\n\nexport function fromStringLiteral(obj, x) {\n  return obj.value.fromString(x);\n}\n\nexport function isTemplateElement(obj) {\n  return check(obj, TypeCodes.TemplateElement);\n}\n\nexport function isTemplate(obj) {\n  return check(obj, TypeCodes.Template);\n}\n\nexport function isRegExp(obj) {\n  return check(obj, TypeCodes.RegExp);\n}\n\nexport function isParens(obj) {\n  return obj && obj.type === 'RawDelimiter' && obj.kind === 'parens';\n}\n\nexport function fromParens(obj, x) {\n  return obj.value.from('parens', x);\n}\n\nexport function isBrackets(obj) {\n  return obj && obj.type === 'RawDelimiter' && obj.kind === 'brackets';\n}\n\nexport function fromBrackets(obj, x) {\n  return obj.value.from('brackets', x);\n}\n\nexport function isBraces(obj) {\n  return obj && obj.type === 'RawDelimiter' && obj.kind === 'braces';\n}\n\nexport function fromBraces(obj, x) {\n  return obj.value.from('braces', x);\n}\n\nexport function isSyntaxTemplate(obj) {\n  return obj && obj.type === 'RawDelimiter' && obj.kind === 'syntaxTemplate';\n}\n"}])});